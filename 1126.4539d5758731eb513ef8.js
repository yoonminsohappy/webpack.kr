"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1126],{1126:function(e,a,t){t.r(a),t(7378);var n=t(2682);function s(){return(s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function o({components:e,...a}){return(0,n.kt)("wrapper",s({components:e},a),(0,n.kt)("p",null,"webpack provides a Node.js API which can be used directly in Node.js runtime."),(0,n.kt)("p",null,"The Node.js API is useful in scenarios in which you need to customize the build or development process since all the reporting and error handling must be done manually and webpack only does the compiling part. For this reason the ",(0,n.kt)("a",{href:"/configuration/stats",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"stats"))," configuration options will not have any effect in the ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack()")," call."),(0,n.kt)("h2",{id:"installation"},"Installation",(0,n.kt)("a",{href:"#installation","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"To start using the webpack Node.js API, first install webpack if you haven’t yet:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --save-dev webpack")),(0,n.kt)("p",null,"Then require the webpack module in your Node.js script:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," webpack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Or if you prefer ES2015:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"import")," webpack ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",{id:"webpack"},(0,n.kt)("inlineCode",{parentName:"h2"},"webpack()"),(0,n.kt)("a",{href:"#webpack","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The imported ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack")," function is fed a webpack ",(0,n.kt)("a",{href:"/configuration/",parentName:"p"},"Configuration Object")," and runs the webpack compiler if a callback function is provided:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js-with-links",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," webpack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"webpack"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Configuration Object](/configuration/)"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"err",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," stats"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Stats Object](#stats-object)"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"||")," stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"hasErrors"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Handle errors here](#error-handling)"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Done processing"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"The ",(0,n.kt)("inlineCode",{parentName:"p"},"err")," object ",(0,n.kt)("strong",{parentName:"p"},"will not")," include compilation errors. Those must be handled separately using ",(0,n.kt)("inlineCode",{parentName:"p"},"stats.hasErrors()"),", which will be covered in detail in the ",(0,n.kt)("a",{href:"#error-handling",parentName:"p"},"Error Handling")," section of this guide. The ",(0,n.kt)("inlineCode",{parentName:"p"},"err")," object will only contain webpack-related issues, such as misconfiguration, etc.")),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"You can provide the ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack")," function with an array of configurations. See\nthe ",(0,n.kt)("a",{href:"#multicompiler",parentName:"p"},"MultiCompiler")," section below for more information.")),(0,n.kt)("h2",{id:"compiler-instance"},"Compiler Instance",(0,n.kt)("a",{href:"#compiler-instance","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"If you don’t pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack")," runner function a callback, it will return a\nwebpack ",(0,n.kt)("inlineCode",{parentName:"p"},"Compiler")," instance. This instance can be used to manually trigger the\nwebpack runner or have it build and watch for changes, much like the\n",(0,n.kt)("a",{href:"/api/cli/",parentName:"p"},"CLI"),". The ",(0,n.kt)("inlineCode",{parentName:"p"},"Compiler")," instance provides the following methods:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},".run(callback)")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},".watch(watchOptions, handler)"))),(0,n.kt)("p",null,"Typically, only one master ",(0,n.kt)("inlineCode",{parentName:"p"},"Compiler")," instance is created, although child\ncompilers can be created in order to delegate specific tasks. The ",(0,n.kt)("inlineCode",{parentName:"p"},"Compiler")," is\nultimately a function which performs bare minimum functionality to keep a\nlifecycle running. It delegates all the loading, bundling, and writing work to\nregistered plugins."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"hooks")," property on a ",(0,n.kt)("inlineCode",{parentName:"p"},"Compiler")," instance is used to register a plugin to\nany hook event in the ",(0,n.kt)("inlineCode",{parentName:"p"},"Compiler"),"'s lifecycle. The\n",(0,n.kt)("a",{href:"https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsDefaulter.js",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"WebpackOptionsDefaulter")),"\nand ",(0,n.kt)("a",{href:"https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"WebpackOptionsApply")),"\nutilities are used by webpack to configure its ",(0,n.kt)("inlineCode",{parentName:"p"},"Compiler")," instance with all the\nbuilt-in plugins."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"run")," method is then used to kickstart all compilation work. Upon\ncompletion, the given ",(0,n.kt)("inlineCode",{parentName:"p"},"callback")," function is executed. The final logging of\nstats and errors should be done in this ",(0,n.kt)("inlineCode",{parentName:"p"},"callback")," function."),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"The API only supports a single concurrent compilation at a time. When using ",(0,n.kt)("inlineCode",{parentName:"p"},"run")," or\n",(0,n.kt)("inlineCode",{parentName:"p"},"watch"),", call ",(0,n.kt)("inlineCode",{parentName:"p"},"close")," and wait for it to finish before calling ",(0,n.kt)("inlineCode",{parentName:"p"},"run")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"watch"),"\nagain. Concurrent compilations will corrupt the output files.")),(0,n.kt)("h2",{id:"run"},"Run",(0,n.kt)("a",{href:"#run","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Calling the ",(0,n.kt)("inlineCode",{parentName:"p"},"run")," method on the ",(0,n.kt)("inlineCode",{parentName:"p"},"Compiler")," instance is much like the quick run\nmethod mentioned above:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js-with-links",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," webpack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," compiler ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"webpack"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Configuration Object](/configuration/)"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\ncompiler",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"run"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"err",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," stats"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Stats Object](#stats-object)"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n\n  compiler",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"close"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"closeErr"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"Don't forget to close the compiler, so that low-priority work (like persistent caching) have the opportunity to complete.")),(0,n.kt)("h2",{id:"watching"},"Watching",(0,n.kt)("a",{href:"#watching","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Calling the ",(0,n.kt)("inlineCode",{parentName:"p"},"watch")," method triggers the webpack runner, but then watches for\nchanges (much like CLI: ",(0,n.kt)("inlineCode",{parentName:"p"},"webpack --watch"),"), as soon as webpack detects a\nchange, runs again. Returns an instance of ",(0,n.kt)("inlineCode",{parentName:"p"},"Watching"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"watch"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"watchOptions",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," callback",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js-with-links",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," webpack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," compiler ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"webpack"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Configuration Object](/configuration/)"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," watching ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," compiler",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"watch"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Example [watchOptions](/configuration/watch/#watchoptions)"),"\n  aggregateTimeout",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token number",parentName:"code"},"300"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  poll",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"undefined"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"err",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," stats"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Stats Object](#stats-object)"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Print watch/build result here..."),"\n  console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"log"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Watching")," options are covered in detail\n",(0,n.kt)("a",{href:"/configuration/watch/#watchoptions",parentName:"p"},"here"),"."),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"Filesystem inaccuracies may trigger multiple builds for a single change.\nIn the example above, the ",(0,n.kt)("inlineCode",{parentName:"p"},"console.log")," statement may fire multiple times for a\nsingle modification. Users should expect this behavior and may check\n",(0,n.kt)("inlineCode",{parentName:"p"},"stats.hash")," to see if the file hash has actually changed.")),(0,n.kt)("h3",{id:"close-watching"},"Close ",(0,n.kt)("inlineCode",{parentName:"h3"},"Watching"),(0,n.kt)("a",{href:"#close-watching","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"watch")," method returns a ",(0,n.kt)("inlineCode",{parentName:"p"},"Watching")," instance that exposes\n",(0,n.kt)("inlineCode",{parentName:"p"},".close(callback)")," method. Calling this method will end watching:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"watching",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"close"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"closeErr"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"log"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'Watching Ended.'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"It’s not allowed to watch or run again before the existing watcher has been\nclosed or invalidated.")),(0,n.kt)("h3",{id:"invalidate-watching"},"Invalidate ",(0,n.kt)("inlineCode",{parentName:"h3"},"Watching"),(0,n.kt)("a",{href:"#invalidate-watching","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Using ",(0,n.kt)("inlineCode",{parentName:"p"},"watching.invalidate"),", you can manually invalidate the current compiling\nround, without stopping the watch process:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"watching",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"invalidate"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",{id:"stats-object"},"Stats Object",(0,n.kt)("a",{href:"#stats-object","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"stats")," object that is passed as a second argument of the\n",(0,n.kt)("a",{href:"#webpack",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"webpack()"))," callback, is a good source of information about the\ncode compilation process. It includes:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Errors and Warnings (if any)"),(0,n.kt)("li",{parentName:"ul"},"Timings"),(0,n.kt)("li",{parentName:"ul"},"Module and Chunk information")),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{href:"/api/cli",parentName:"p"},"webpack CLI")," uses this information to display nicely formatted\noutput in your console."),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"When using the ",(0,n.kt)("a",{href:"#multicompiler",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"MultiCompiler")),", a\n",(0,n.kt)("inlineCode",{parentName:"p"},"MultiStats")," instance is returned that fulfills the same interface as ",(0,n.kt)("inlineCode",{parentName:"p"},"stats"),",\ni.e. the methods described below.")),(0,n.kt)("p",null,"This ",(0,n.kt)("inlineCode",{parentName:"p"},"stats")," object exposes the following methods:"),(0,n.kt)("h3",{id:"statshaserrors"},(0,n.kt)("inlineCode",{parentName:"h3"},"stats.hasErrors()"),(0,n.kt)("a",{href:"#statshaserrors","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Can be used to check if there were errors while compiling. Returns ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," or\n",(0,n.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,n.kt)("h3",{id:"statshaswarnings"},(0,n.kt)("inlineCode",{parentName:"h3"},"stats.hasWarnings()"),(0,n.kt)("a",{href:"#statshaswarnings","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Can be used to check if there were warnings while compiling. Returns ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," or\n",(0,n.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,n.kt)("h3",{id:"statstojsonoptions"},(0,n.kt)("inlineCode",{parentName:"h3"},"stats.toJson(options)"),(0,n.kt)("a",{href:"#statstojsonoptions","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Returns compilation information as a JSON object. ",(0,n.kt)("inlineCode",{parentName:"p"},"options")," can be either a\nstring (a preset) or an object for more granular control:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js-with-links",parentName:"pre"},"stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"toJson"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'minimal'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [more options: 'verbose', etc](/configuration/stats)."))),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"toJson"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  assets",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  hash",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"All available options and presets are described in the stats ",(0,n.kt)("a",{href:"/configuration/stats",parentName:"p"},"documentation"),"."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Here’s an ",(0,n.kt)("a",{href:"https://raw.githubusercontent.com/webpack/analyse/master/app/pages/upload/example2.json",parentName:"p"},"example"),"\nof this function’s output.")),(0,n.kt)("h3",{id:"statstostringoptions"},(0,n.kt)("inlineCode",{parentName:"h3"},"stats.toString(options)"),(0,n.kt)("a",{href:"#statstostringoptions","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Returns a formatted string of the compilation information (similar to\n",(0,n.kt)("a",{href:"/api/cli",parentName:"p"},"CLI")," output)."),(0,n.kt)("p",null,"Options are the same as ",(0,n.kt)("a",{href:"/api/node/#statstojsonoptions",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"stats.toJson(options)"))," with one addition:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"toString"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Add console colors"),"\n  colors",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Here’s an example of ",(0,n.kt)("inlineCode",{parentName:"p"},"stats.toString()")," usage:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js-with-links",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," webpack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"webpack"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Configuration Object](/configuration/)"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"err",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," stats"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"error"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n  console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"log"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"toString"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    chunks",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Makes the build much quieter"),"\n    colors",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"true"),"    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Shows colors in the console"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",{id:"multicompiler"},"MultiCompiler",(0,n.kt)("a",{href:"#multicompiler","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"MultiCompiler")," module allows webpack to run multiple configurations in\nseparate compilers. If the ",(0,n.kt)("inlineCode",{parentName:"p"},"options")," parameter in the webpack's NodeJS api is\nan array of options, webpack applies separate compilers and calls the\n",(0,n.kt)("inlineCode",{parentName:"p"},"callback")," after all compilers have been executed."),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js-with-links",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"var")," webpack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"webpack"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," entry",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./index1.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," output",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," filename",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'bundle1.js'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," entry",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'./index2.js'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," output",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," filename",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'bundle2.js'")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"err",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," stats"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Stats Object](#stats-object)"),"\n  process",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"stdout",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"write"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"toString"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"+")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'\\n'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"))),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"Multiple configurations will ",(0,n.kt)("strong",{parentName:"p"},"not be run in parallel"),". Each\nconfiguration is only processed after the previous one has finished\nprocessing. To process them in parallel, you can use a third-party solution\nlike ",(0,n.kt)("a",{href:"https://www.npmjs.com/package/parallel-webpack",parentName:"p"},"parallel-webpack"),".")),(0,n.kt)("h2",{id:"error-handling"},"Error Handling",(0,n.kt)("a",{href:"#error-handling","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"For good error handling, you need to account for these three types of errors:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Fatal webpack errors (wrong configuration, etc)"),(0,n.kt)("li",{parentName:"ul"},"Compilation errors (missing modules, syntax errors, etc)"),(0,n.kt)("li",{parentName:"ul"},"Compilation warnings")),(0,n.kt)("p",null,"Here’s an example that does all that:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js-with-links",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," webpack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token function",parentName:"code"},"webpack"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// [Configuration Object](/configuration/)"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"err",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," stats"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"error"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"stack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"||")," err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"details",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n      console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"error"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"err",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"details",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n    ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"return"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," info ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"toJson"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"hasErrors"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"error"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"info",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"errors",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"if")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"stats",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"hasWarnings"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    console",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"warn"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"info",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"warnings",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),"\n\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Log result..."),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("h2",{id:"custom-file-systems"},"Custom File Systems",(0,n.kt)("a",{href:"#custom-file-systems","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"By default, webpack reads files and writes files to disk using a normal file\nsystem. However, it is possible to change the input or output behavior using a\ndifferent kind of file system (memory, webDAV, etc). To accomplish this, one\ncan change the ",(0,n.kt)("inlineCode",{parentName:"p"},"inputFileSystem")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"outputFileSystem"),". For example, you can\nreplace the default ",(0,n.kt)("inlineCode",{parentName:"p"},"outputFileSystem")," with\n",(0,n.kt)("a",{href:"https://github.com/streamich/memfs",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"memfs"))," to write files to memory\ninstead of to disk:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{")," createFsFromVolume",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," Volume ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'memfs'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," webpack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," fs ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"createFsFromVolume"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"Volume"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," compiler ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"webpack"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"/* options */"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\ncompiler",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"outputFileSystem ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," fs",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\ncompiler",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"run"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"err",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},",")," stats"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// Read the output later:"),"\n  ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," content ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," fs",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"readFileSync"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'...'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n  compiler",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,n.kt)("span",{className:"token function",parentName:"code"},"close"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token parameter",parentName:"code"},"closeErr"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Note that this is what\n",(0,n.kt)("a",{href:"https://github.com/webpack/webpack-dev-middleware",parentName:"p"},"webpack-dev-middleware"),",\nused by ",(0,n.kt)("a",{href:"https://github.com/webpack/webpack-dev-server",parentName:"p"},"webpack-dev-server"),"\nand many other packages, uses to mysteriously hide your files but continue\nserving them up to the browser!"),(0,n.kt)("aside",{className:"tip"},(0,n.kt)("h6",{className:"tip__prefix",parentName:"aside"},"tip"),(0,n.kt)("p",{parentName:"aside"},"The output file system you provide needs to be compatible with Node’s own\n",(0,n.kt)("a",{href:"https://nodejs.org/api/fs.html",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"fs"))," interface, which requires the ",(0,n.kt)("inlineCode",{parentName:"p"},"mkdirp"),"\nand ",(0,n.kt)("inlineCode",{parentName:"p"},"join")," helper methods.")))}o.isMDXComponent=!0,a.default=o}}]);