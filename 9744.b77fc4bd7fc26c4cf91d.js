(self.webpackChunk=self.webpackChunk||[]).push([[9744],{9744:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return p}}),n(7378);var t=n(5318);function o(){return(o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}const s={};function p({components:e,...a}){return(0,t.kt)("wrapper",o({},s,a,{components:e,mdxType:"MDXLayout"}),(0,t.kt)("hr",null),(0,t.kt)("p",null,"title: ECMAScript Modules\nsort: 19\ncontributors:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"sokra\ntranslators:"),(0,t.kt)("li",{parentName:"ul"},"choilim\nrelated:"),(0,t.kt)("li",{parentName:"ul"},"title: ECMAScript Modules in Node.js\nurl: ",(0,t.kt)("a",{parentName:"li",href:"https://nodejs.org/api/esm.html"},"https://nodejs.org/api/esm.html"))),(0,t.kt)("hr",null),(0,t.kt)("p",null,"ECMAScript 모듈(ESM)은 웹에서 모듈을 사용하기 위한 ",(0,t.kt)("a",{parentName:"p",href:"https://tc39.github.io/ecma262/#sec-modules"},"사양"),"입니다.\n모든 최신 브라우저와 권장하는 웹 모듈 코드 작성법에서 지원됩니다."),(0,t.kt)("p",null,"webpack은 ECMAScript 모듈을 최적화하기 위한 처리를 지원했습니다."),(0,t.kt)("h2",{id:"exporting"},"Exporting",(0,t.kt)("a",{parentName:"h2",href:"#exporting","aria-hidden":"true",tabIndex:-1},(0,t.kt)("span",{parentName:"a",className:"header-link"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"export")," 키워드를 사용하면 ESM 항목을 다른 모듈에 노출할 수 있습니다."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"hljs language-js"},(0,t.kt)("span",{parentName:"code",className:"token keyword"},"export")," ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"const")," ",(0,t.kt)("span",{parentName:"code",className:"token constant"},"CONSTANT")," ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,t.kt)("span",{parentName:"code",className:"token number"},"42"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"export")," ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"let")," variable ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,t.kt)("span",{parentName:"code",className:"token number"},"42"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,t.kt)("span",{parentName:"code",className:"token comment"},"// 오직 읽는 값만 노출됩니다."),"\n",(0,t.kt)("span",{parentName:"code",className:"token comment"},"// 외부에서 변수를 수정할 수 없습니다."),"\n\n",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"export")," ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"function")," ",(0,t.kt)("span",{parentName:"code",className:"token function"},"fun"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  console",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,t.kt)("span",{parentName:"code",className:"token function"},"log"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token string"},"'fun'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"export")," ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"class")," ",(0,t.kt)("span",{parentName:"code",className:"token class-name"},"C")," ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"extends")," ",(0,t.kt)("span",{parentName:"code",className:"token class-name"},"Super")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token function"},"method"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    console",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,t.kt)("span",{parentName:"code",className:"token function"},"log"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token string"},"'method'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"let")," a",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},",")," b",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},",")," other",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"export")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{")," a",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},",")," b",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},",")," other ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"as")," c ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n\n",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"export")," ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"default")," ",(0,t.kt)("span",{parentName:"code",className:"token number"},"1")," ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"+")," ",(0,t.kt)("span",{parentName:"code",className:"token number"},"2")," ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"+")," ",(0,t.kt)("span",{parentName:"code",className:"token number"},"3")," ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"+")," ",(0,t.kt)("span",{parentName:"code",className:"token function"},"more"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"))),(0,t.kt)("h2",{id:"importing"},"Importing",(0,t.kt)("a",{parentName:"h2",href:"#importing","aria-hidden":"true",tabIndex:-1},(0,t.kt)("span",{parentName:"a",className:"header-link"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"import")," 키워드를 사용하면 다른 모듈에 대한 참조를 ESM으로 가져올 수 있습니다."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"hljs language-js"},(0,t.kt)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{")," ",(0,t.kt)("span",{parentName:"code",className:"token constant"},"CONSTANT"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},",")," variable ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'./module.js'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,t.kt)("span",{parentName:"code",className:"token comment"},'// 다른 모듈에 export하기 위해 "bindings"를 가져옵니다.'),"\n",(0,t.kt)("span",{parentName:"code",className:"token comment"},"// 바인딩은 활성상태입니다. 값은 복사되지 않습니다."),"\n",(0,t.kt)("span",{parentName:"code",className:"token comment"},'// 대신 "변수"에 접근하면 현재 값을 얻습니다.'),"\n",(0,t.kt)("span",{parentName:"code",className:"token comment"},"// 가져온 모듈에서"),"\n\n",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"import")," ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"*")," ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"as")," module ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'./module.js'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\nmodule",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,t.kt)("span",{parentName:"code",className:"token function"},"fun"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,t.kt)("span",{parentName:"code",className:"token comment"},'// 모든 export를 가지는 "네임스페이스 객체"를 가져옵니다.'),"\n\n",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"import")," theDefaultValue ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"from")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'./module.js'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,t.kt)("span",{parentName:"code",className:"token comment"},'// "기본" export를 가져오는 단축입니다.'))),(0,t.kt)("h2",{id:"flagging-modules-as-esm"},"Flagging modules as ESM",(0,t.kt)("a",{parentName:"h2",href:"#flagging-modules-as-esm","aria-hidden":"true",tabIndex:-1},(0,t.kt)("span",{parentName:"a",className:"header-link"}))),(0,t.kt)("p",null,"기본적으로 webpack은 파일이 ESM인지 또는 다른 모듈 시스템인지 자동으로 감지합니다."),(0,t.kt)("p",null,"Node.js는 ",(0,t.kt)("inlineCode",{parentName:"p"},"package.json"),"의 속성을 사용하여 파일의 모듈 유형을 명시적으로 설정하는 방법을 확립했습니다.\npackage.json에서 ",(0,t.kt)("inlineCode",{parentName:"p"},'"type": "module"'),"을 설정하면 package.json 아래의 모든 파일이 ECMAScript 모듈이 됩니다.\n",(0,t.kt)("inlineCode",{parentName:"p"},'"type": "commonjs"'),"를 설정하면 CommonJS 모듈이 됩니다."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"hljs language-json"},(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token property"},'"type"'),(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},'"module"'),"\n",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"))),(0,t.kt)("p",null,"또한, 파일은 ",(0,t.kt)("inlineCode",{parentName:"p"},".mjs")," 또는 ",(0,t.kt)("inlineCode",{parentName:"p"},".cjs")," 확장자를 사용해서 모듈 유형을 설정할 수 있습니다. ",(0,t.kt)("inlineCode",{parentName:"p"},".mjs"),"는 ESM이 되도록 강제하고, ",(0,t.kt)("inlineCode",{parentName:"p"},".cjs"),"는 CommonJS가 되도록 강제합니다."),(0,t.kt)("p",null,"DataURIs에서 ",(0,t.kt)("inlineCode",{parentName:"p"},"text/javascript")," 또는 ",(0,t.kt)("inlineCode",{parentName:"p"},"application/javascript")," mime 유형을 사용하면 모듈 유형도 ESM으로 강제로 적용됩니다."),(0,t.kt)("p",null,"모듈 형식뿐 아니라 모듈 플래그를 ESM으로 지정하는 것은 로직 해석, interop 로직 및 모듈에서 사용 가능한 심볼에 영향을 줍니다."),(0,t.kt)("p",null,"ESM의 import는 더 엄격하게 해석됩니다. 상대적 요청에는 파일 이름과 파일 확장자가 포함되어야 합니다."),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{parentName:"aside",className:"tip__prefix"},"tip"),(0,t.kt)("p",{parentName:"aside"},'import "lodash" 같이 패키지에 대한 요청은 여전히 지원됩니다.')),(0,t.kt)("p",null,'ESM이 아닌 경우는 "기본" export만 가져올 수 있습니다. 명명된 export를 사용할 수 없습니다.'),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"require"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"module"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"exports"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"__filename"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"__dirname")," 같은 CommonJs 구문을 사용할 수 없습니다."),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{parentName:"aside",className:"tip__prefix"},"tip"),(0,t.kt)("p",{parentName:"aside"},"HMR은 ",(0,t.kt)("a",{parentName:"p",href:"/api/module-variables/#modulehot-webpack-specific"},(0,t.kt)("inlineCode",{parentName:"a"},"module.hot"))," 대신 ",(0,t.kt)("a",{parentName:"p",href:"/api/module-variables/#importmetawebpackhot"},(0,t.kt)("inlineCode",{parentName:"a"},"import.meta.webpackHot")),"과 함께 사용할 수 있습니다.")))}p.isMDXComponent=!0}}]);