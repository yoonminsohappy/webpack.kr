(self.webpackChunk=self.webpackChunk||[]).push([[2358],{2358:function(a,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}}),n(7378);var t=n(5318);function s(){return(s=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a}).apply(this,arguments)}const p={};function o({components:a,...e}){return(0,t.kt)("wrapper",s({},p,e,{components:a,mdxType:"MDXLayout"}),(0,t.kt)("hr",null),(0,t.kt)("p",null,"title: Configuration Types\nsort: 3\ncontributors:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"sokra"),(0,t.kt)("li",{parentName:"ul"},"skipjack"),(0,t.kt)("li",{parentName:"ul"},"kbariotis"),(0,t.kt)("li",{parentName:"ul"},"simon04"),(0,t.kt)("li",{parentName:"ul"},"fadysamirsadek"),(0,t.kt)("li",{parentName:"ul"},"byzyk"),(0,t.kt)("li",{parentName:"ul"},"EugeneHlushko"),(0,t.kt)("li",{parentName:"ul"},"dhurlburtusa"),(0,t.kt)("li",{parentName:"ul"},"anshumanv"),(0,t.kt)("li",{parentName:"ul"},"thorn0\ntranslators:"),(0,t.kt)("li",{parentName:"ul"},"YukJiSoo")),(0,t.kt)("hr",null),(0,t.kt)("p",null,"단일 설정 객체를 export 하는 것 외에도 다른 요구 사항을 처리하는 몇 가지 방법이 더 있습니다."),(0,t.kt)("h2",{id:"exporting-a-function"},"Exporting a Function",(0,t.kt)("a",{parentName:"h2",href:"#exporting-a-function","aria-hidden":"true",tabIndex:-1},(0,t.kt)("span",{parentName:"a",className:"header-link"}))),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"webpack.config.js"),"에서 ",(0,t.kt)("a",{parentName:"p",href:"/guides/development"},"개발환경"),"과 ",(0,t.kt)("a",{parentName:"p",href:"/guides/production"},"프로덕션 환경"),"을 명확히 해야 합니다. 이를 수행하는 방법에는 여러 가지가 있습니다. 한 가지 옵션은 객체를 내보내는 대신 webpack 설정에서 함수를 내보내는 것입니다. 이 함수는 두 개의 인수로 호출됩니다."),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"첫 번째 파라미터는 environment입니다. 구문 예제는 ",(0,t.kt)("a",{parentName:"li",href:"/api/cli/#environment-options"},"CLI 문서의 environment 옵션"),"을 참고하세요."),(0,t.kt)("li",{parentName:"ul"},"두 번째 파라미터인 ",(0,t.kt)("inlineCode",{parentName:"li"},"argv"),"는 옵션 map 입니다. ",(0,t.kt)("a",{parentName:"li",href:"/api/cli/#flags"},(0,t.kt)("inlineCode",{parentName:"a"},"output-path")),", ",(0,t.kt)("a",{parentName:"li",href:"/api/cli/#flags"},(0,t.kt)("inlineCode",{parentName:"a"},"mode")),"와 같은 키를 사용하여 webpack에 전달되는 옵션을 나타냅니다.")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"hljs language-diff"},(0,t.kt)("span",{parentName:"code",className:"token deleted-sign deleted"},(0,t.kt)("span",{parentName:"span",className:"token prefix deleted"},"-"),(0,t.kt)("span",{parentName:"span",className:"token line"},"module.exports = {\n")),(0,t.kt)("span",{parentName:"code",className:"token inserted-sign inserted"},(0,t.kt)("span",{parentName:"span",className:"token prefix inserted"},"+"),(0,t.kt)("span",{parentName:"span",className:"token line"},"module.exports = function(env, argv) {\n"),(0,t.kt)("span",{parentName:"span",className:"token prefix inserted"},"+"),(0,t.kt)("span",{parentName:"span",className:"token line"},"  return {\n"),(0,t.kt)("span",{parentName:"span",className:"token prefix inserted"},"+"),(0,t.kt)("span",{parentName:"span",className:"token line"},"    mode: env.production ? 'production' : 'development',\n"),(0,t.kt)("span",{parentName:"span",className:"token prefix inserted"},"+"),(0,t.kt)("span",{parentName:"span",className:"token line"},"    devtool: env.production ? 'source-map' : 'eval',\n")),(0,t.kt)("span",{parentName:"code",className:"token unchanged"},(0,t.kt)("span",{parentName:"span",className:"token prefix unchanged"}," "),(0,t.kt)("span",{parentName:"span",className:"token line"},"    plugins: [\n"),(0,t.kt)("span",{parentName:"span",className:"token prefix unchanged"}," "),(0,t.kt)("span",{parentName:"span",className:"token line"},"      new TerserPlugin({\n"),(0,t.kt)("span",{parentName:"span",className:"token prefix unchanged"}," "),(0,t.kt)("span",{parentName:"span",className:"token line"},"        terserOptions: {\n")),(0,t.kt)("span",{parentName:"code",className:"token inserted-sign inserted"},(0,t.kt)("span",{parentName:"span",className:"token prefix inserted"},"+"),(0,t.kt)("span",{parentName:"span",className:"token line"},"          compress: argv.mode === 'production' // `--mode production`이 통과 된 경우에만\n")),(0,t.kt)("span",{parentName:"code",className:"token unchanged"},(0,t.kt)("span",{parentName:"span",className:"token prefix unchanged"}," "),(0,t.kt)("span",{parentName:"span",className:"token line"},"        }\n"),(0,t.kt)("span",{parentName:"span",className:"token prefix unchanged"}," "),(0,t.kt)("span",{parentName:"span",className:"token line"},"      })\n"),(0,t.kt)("span",{parentName:"span",className:"token prefix unchanged"}," "),(0,t.kt)("span",{parentName:"span",className:"token line"},"    ]\n")),(0,t.kt)("span",{parentName:"code",className:"token inserted-sign inserted"},(0,t.kt)("span",{parentName:"span",className:"token prefix inserted"},"+"),(0,t.kt)("span",{parentName:"span",className:"token line"},"  };\n")),"};")),(0,t.kt)("h2",{id:"exporting-a-promise"},"Exporting a Promise",(0,t.kt)("a",{parentName:"h2",href:"#exporting-a-promise","aria-hidden":"true",tabIndex:-1},(0,t.kt)("span",{parentName:"a",className:"header-link"}))),(0,t.kt)("p",null,"webpack은 설정 파일에서 export 한 함수를 실행하고 Promise가 반환될 때까지 기다립니다. 설정에서 사용되는 변수를 비동기적으로 로드해야 할 때 편리합니다."),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{parentName:"aside",className:"tip__prefix"},"tip"),(0,t.kt)("p",{parentName:"aside"},"여러 개의 promise를 ",(0,t.kt)("inlineCode",{parentName:"p"},"Promise.all([/* Your promises */])"),"로 묶어서 export 할 수 있습니다.")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"hljs language-js"},"module",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,t.kt)("span",{parentName:"code",className:"token function-variable function"},"exports")," ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"return")," ",(0,t.kt)("span",{parentName:"code",className:"token keyword"},"new")," ",(0,t.kt)("span",{parentName:"code",className:"token class-name"},"Promise"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token parameter"},"resolve",(0,t.kt)("span",{parentName:"span",className:"token punctuation"},",")," reject"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,t.kt)("span",{parentName:"code",className:"token function"},"setTimeout"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"=>")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      ",(0,t.kt)("span",{parentName:"code",className:"token function"},"resolve"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n        entry",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'./app.js'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,t.kt)("span",{parentName:"code",className:"token comment"},"/* ... */"),"\n      ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n    ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,t.kt)("span",{parentName:"code",className:"token number"},"5000"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\n",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"))),(0,t.kt)("aside",{className:"warning"},(0,t.kt)("h6",{parentName:"aside",className:"warning__prefix"},"warning"),(0,t.kt)("p",{parentName:"aside"},"",(0,t.kt)("inlineCode",{parentName:"p"},"Promise")," 반환은 CLI를 통해 webpack을 사용할 때만 동작합니다. ",(0,t.kt)("a",{parentName:"p",href:"/api/node/#webpack"},(0,t.kt)("inlineCode",{parentName:"a"},"webpack()")),"은 객체가 필요합니다.")),(0,t.kt)("h2",{id:"exporting-multiple-configurations"},"Exporting multiple configurations",(0,t.kt)("a",{parentName:"h2",href:"#exporting-multiple-configurations","aria-hidden":"true",tabIndex:-1},(0,t.kt)("span",{parentName:"a",className:"header-link"}))),(0,t.kt)("p",null,"단일 설정 객체 또는 함수를 export 하는 대신, 여러 개의 설정을 export 할 수 있습니다(여러 개의 함수는 webpack 3.1.0부터 지원). webpack을 실행할 때, 모든 설정이 빌드됩니다. 예를 들어, AMD나 CommonJS 같은 여러 개의 ",(0,t.kt)("a",{parentName:"p",href:"/configuration/output/#outputlibrarytarget"},"target"),"을 위한 ",(0,t.kt)("a",{parentName:"p",href:"/guides/author-libraries"},"라이브러리 빌드")," 시 유용합니다."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"hljs language-js"},"module",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"."),"exports ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"["),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    output",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      filename",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'./dist-amd.js'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n      libraryTarget",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'amd'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    name",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'amd'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    entry",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'./app.js'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    mode",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'production'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    output",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n      filename",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'./dist-commonjs.js'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n      libraryTarget",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'commonjs'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    name",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'commonjs'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    entry",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'./app.js'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n    mode",(0,t.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,t.kt)("span",{parentName:"code",className:"token string"},"'production'"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"]"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"))),(0,t.kt)("aside",{className:"tip"},(0,t.kt)("h6",{parentName:"aside",className:"tip__prefix"},"tip"),(0,t.kt)("p",{parentName:"aside"},"이름을 ",(0,t.kt)("a",{parentName:"p",href:"/api/cli/#config-name"},(0,t.kt)("inlineCode",{parentName:"a"},"--config-name"))," 플래그에 전달하면 webpack은 특정한 설정만 빌드합니다.")),(0,t.kt)("h3",{id:"parallelism"},"parallelism",(0,t.kt)("a",{parentName:"h3",href:"#parallelism","aria-hidden":"true",tabIndex:-1},(0,t.kt)("span",{parentName:"a",className:"header-link"}))),(0,t.kt)("p",null,"여러 설정을 export하는 경우 설정 배열과 ",(0,t.kt)("inlineCode",{parentName:"p"},"parallelism")," 옵션을 사용하여 병렬로 컴파일 할 최대 컴파일러 수를 지정할 수 있습니다."),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"타입: ",(0,t.kt)("inlineCode",{parentName:"li"},"number")),(0,t.kt)("li",{parentName:"ul"},"지원 버전: 5.22.0+")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"hljs language-javascript"},"module",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"."),"exports ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"["),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,t.kt)("span",{parentName:"code",className:"token comment"},"//config-1"),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,t.kt)("span",{parentName:"code",className:"token comment"},"//config-2"),"\n  ",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"]"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"),"\nmodule",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"."),"exports",(0,t.kt)("span",{parentName:"code",className:"token punctuation"},"."),"parallelism ",(0,t.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,t.kt)("span",{parentName:"code",className:"token number"},"1"),(0,t.kt)("span",{parentName:"code",className:"token punctuation"},";"))))}o.isMDXComponent=!0}}]);