<!DOCTYPE html><html lang="en"><head><title data-rh="true">인쇄 가능한 페이지 | 웹팩</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="theme-color" content="#2B3A42"/><meta data-rh="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-rh="true" name="robots" content="noindex,nofollow"/><meta data-rh="true" name="description" content="웹팩은 모듈 번들러입니다. 주요 목적은 브라우저에서 사용할 수 있도록 JavaScript 파일을 번들로 묶는 것이지만, 리소스나 애셋을 변환하고 번들링 또는 패키징할 수도 있습니다."/><meta data-rh="true" property="og:site_name" content="웹팩 한글문서"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:title" content="인쇄 가능한 페이지 | 웹팩"/><meta data-rh="true" property="og:description" name="description" content="웹팩은 모듈 번들러입니다. 주요 목적은 브라우저에서 사용할 수 있도록 JavaScript 파일을 번들로 묶는 것이지만, 리소스나 애셋을 변환하고 번들링 또는 패키징할 수도 있습니다."/><meta data-rh="true" property="og:image" content="https://webpack.js.org/icon-pwa-512x512.d3dae4189855b3a72ff9.png"/><meta data-rh="true" property="twitter:card" content="summary"/><meta data-rh="true" property="twitter:site" content="@webpack"/><meta data-rh="true" property="twitter:creator" content="@webpack"/><meta data-rh="true" property="twitter:domain" content="https://webpack.js.org/"/><meta data-rh="true" name="mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-status-bar-style" content="black"/><meta data-rh="true" name="apple-mobile-web-app-title" content="webpack"/><meta data-rh="true" name="msapplication-TileImage" content="/icon_150x150.png"/><meta data-rh="true" name="msapplication-TileColor" content="#465e69"/><link data-rh="true" rel="icon" type="image/x-icon" href="/favicon.f326220248556af65f41.ico"/><link data-rh="true" rel="manifest" href="/manifest.json"/><link data-rh="true" rel="canonical" href="https://webpack.js.org/plugins/printable/"/><link data-rh="true" rel="icon" sizes="192x192" href="/icon_192x192.png"/><link data-rh="true" rel="icon" sizes="512x512" href="/icon_512x512.png"/><link data-rh="true" rel="apple-touch-icon" href="/icon_180x180.png"/><link data-rh="true" rel="mask-icon" href="/logo-on-white-bg.47eff95f9c01c5972f6f.svg" color="#465e69"/><link rel="stylesheet" href=/index.52da34bd0643374e5c6a.css /><link rel="stylesheet" href=/9810.fa99edef168c369b8059.css /></head><body><div id="root"><div class="site"><div class="site__header"><header class="navigation   "><section class="navigation__inner"><button aria-label="Open menu" class="navigation__mobile"><svg viewBox="-62 138 25 25"><g><g><path d="M-60.2,140.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,141-61.2,140.2-60.2,140.2z"></path><path d="M-60.2,148.7h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,149.5-61.2,148.7-60.2,148.7z"></path><path d="M-60.2,157.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,158-61.2,157.2-60.2,157.2z"></path></g></g></svg></button><a class="navigation__logo" href="/"><img class="logo" src="/site-logo.1fcab817090e78435061.svg" alt="webpack logo"/></a><nav class="navigation__items"><a class="navigation__item  navigation__item--active" href="/concepts/">Documentation</a><a class="navigation__item  " href="/contribute/">Contribute</a><a class="navigation__item  " href="/vote/">Vote</a><a class="navigation__item  " href="/blog/">Blog</a><a href="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer" title="GitHub Repository" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M12 2A10 10 0 002 12a10 10 0 006.8 9.5c.5 0 .7-.2.7-.5v-1.7C6.7 20 6.1 18 6.1 18c-.4-1.2-1-1.5-1-1.5-1-.6 0-.6 0-.6 1 0 1.5 1 1.5 1 .9 1.6 2.4 1.1 3 .9 0-.7.3-1.1.6-1.4-2.2-.2-4.6-1-4.6-4.9 0-1.1.4-2 1-2.7 0-.3-.4-1.3.2-2.7 0 0 .8-.2 2.7 1a9.4 9.4 0 015 0c2-1.2 2.8-1 2.8-1 .5 1.4.1 2.4 0 2.7.7.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.5 5 .4.2.7.8.7 1.8V21c0 .3.2.6.7.5 4-1.3 6.8-5 6.8-9.5A10 10 0 0012 2z"></path></svg></a><a href="https://twitter.com/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Twitter" class="navigation__item navigation__item--icon "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" aria-hidden="true" fill="#fff" width="16"><path d="M28 6.937c-.957.425-1.985.711-3.064.84a5.343 5.343 0 002.345-2.951 10.696 10.696 0 01-3.388 1.295 5.334 5.334 0 00-9.089 4.864A15.143 15.143 0 013.809 5.411a5.321 5.321 0 00-.721 2.683 5.33 5.33 0 002.372 4.439 5.323 5.323 0 01-2.416-.667v.067a5.335 5.335 0 004.279 5.23 5.336 5.336 0 01-2.409.092 5.34 5.34 0 004.983 3.705 10.699 10.699 0 01-6.625 2.284c-.43 0-.855-.025-1.273-.075a15.102 15.102 0 008.177 2.396c9.812 0 15.176-8.128 15.176-15.177 0-.231-.005-.461-.015-.69A10.855 10.855 0 0028 6.937z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Stack Overflow" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M17.4 20.2v-5.4h1.8V22H3v-7.2h1.8v5.4h12.6M6.8 14.3l.3-1.7 8.8 1.8-.3 1.8-8.8-1.9m1.1-4.2l.8-1.6 8.1 3.8-.7 1.6-8.2-3.8m2.3-4l1.1-1.4 7 5.8-1.2 1.4L10 6m4.7-4L20 9l-1.4 1-5.4-7 1.4-1m-8 16.5v-1.8h9v1.8h-9z"></path></svg></a><span class="navigation__item navigation__item--icon"><nav class="dropdown navigation__languages"><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><img class="dropdown__language" alt="select language" src="/language-icon.87a028c9bf555eeb5932.svg"/><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="https://webpack.js.org/"><span>English</span></a></li><li><a href="https://webpack.docschina.org/"><span lang="zh">中文</span></a></li><li><a href="https://webpack.kr/"><span lang="ko">한국어</span></a></li></ul></div></nav></span><span class="navigation__item navigation__item--icon"><button style="background:transparent;border:none;cursor:pointer">☀️</button></span></nav><div class="navigation-search "><input type="text" class="navigation-search__input" placeholder="Search this site..." value=""/><button aria-label="Hide search box" class="navigation-search__icon navigation-search__clear"><svg viewBox="-137 138 25 25"><g transform="translate(0,-952.36218)"><path d="M-131.3,1094.4c-0.4,0-0.9,0.1-1.2,0.5c-0.7,0.7-0.7,1.7,0,2.4l5.6,5.6l-5.6,5.6c-0.7,0.7-0.7,1.7,0,2.4 c0.7,0.7,1.7,0.7,2.4,0l5.6-5.6l5.6,5.6c0.7,0.7,1.7,0.7,2.4,0c0.7-0.7,0.7-1.7,0-2.4l-5.6-5.6l5.6-5.6c0.7-0.7,0.7-1.7,0-2.4 c-0.7-0.7-1.7-0.7-2.4,0l-5.6,5.6l-5.6-5.6C-130.5,1094.5-130.9,1094.4-131.3,1094.4L-131.3,1094.4z"></path></g></svg></button><button aria-label="Show search box" class="navigation-search__icon navigation-search__search"><svg viewBox="-137 138 25 25"><g><path d="M-114.6,162.6l-7.5-7.5c-0.6-0.6-0.6-1.6,0-2.1l0,0c0.6-0.6,1.6-0.6,2.1,0l7.5,7.5c0.6,0.6,0.6,1.6,0,2.1l0,0 C-113,163.1-114,163.1-114.6,162.6z"></path><path d="M-134.1,140.9c-3.9,3.9-3.9,10.2,0,14.1s10.2,3.9,14.1,0s3.9-10.2,0-14.1S-130.2,137-134.1,140.9z M-122.1,153 c-2.7,2.7-7.1,2.7-9.8,0s-2.7-7.1,0-9.8s7.1-2.7,9.8,0C-119.4,145.9-119.4,150.2-122.1,153z"></path></g></svg></button></div></section><div class="navigation-sub"><div class="navigation-sub__inner"><a class="navigation-sub__link " title="api" content="api" href="/api/">api</a><a class="navigation-sub__link " title="concepts" content="concepts" href="/concepts/">concepts</a><a class="navigation-sub__link " title="configuration" content="configuration" href="/configuration/">configuration</a><a class="navigation-sub__link " title="guides" content="guides" href="/guides/">guides</a><a class="navigation-sub__link " title="loaders" content="loaders" href="/loaders/">loaders</a><a class="navigation-sub__link " title="migrate" content="migrate" href="/migrate/">migrate</a><a class="navigation-sub__link navigation-sub__link--active" title="plugins" content="plugins" href="/plugins/">plugins</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="https://www.ag-grid.com/?utm_source=webpack&amp;utm_medium=banner&amp;utm_campaign=sponsorship" target="_blank" rel="noopener noreferrer" class="sponsors__content"><img src="/ag-grid-logo.4fe9d34532b2c0821fc9.png"/><img class="sponsors__img__webpack" src="/icon-square-small.85ba630cf0c5f29ae3e3.svg"/><div class="sponsors__content-cont">ag-grid is proud to partner with webpack</div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="relative z-0 bg-white dark:bg-gray-100 "><select class="text-gray-600 text-14 px-5 py-5 appearance-none box-border border border-gray-200 border-solid flex-col flex w-full rounded-none bg-transparent bg-none"><option selected="" value="5">Webpack 5</option><option value="4">Webpack 4</option></select><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="absolute right-5 top-5 fill-current text-gray-300 z-[-1]" width="20" height="20"><path d="M4.5 7.5c.5-.4 1-.4 1.6 0l3.9 3.8 4-3.8c.4-.4 1-.4 1.5 0 .4.5.4 1.2 0 1.7l-4.7 4.5a1 1 0 01-1.6 0L4.5 9.2c-.4-.5-.4-1.2 0-1.7z"></path></svg></div><div class="sidebar-item sidebar-item--disabled`"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title sidebar-link__print" href="/plugins/printable/" rel="nofollow noopener noreferrer" alt="Print" title="Print" target="_blank">Print Section<img src="/icon-print.42ad40feec51e6f5f553.svg"/></a></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="/plugins/">Plugins</a></div></div><div><h4 class="sidebar__group">Community</h4><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/html-webpack-plugin/">HtmlWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Installation"><a href="/plugins/html-webpack-plugin/#installation">Installation</a></li><li class="sidebar-item__anchor" title="Basic Usage"><a href="/plugins/html-webpack-plugin/#basic-usage">Basic Usage</a></li><li class="sidebar-item__anchor" title="Configuration"><a href="/plugins/html-webpack-plugin/#configuration">Configuration</a></li><li class="sidebar-item__anchor" title="Third party addons"><a href="/plugins/html-webpack-plugin/#third-party-addons">Third party addons</a></li></ul></div></div><div><h4 class="sidebar__group">webpack</h4><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="/plugins/automatic-prefetch-plugin/">AutomaticPrefetchPlugin</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/banner-plugin/">BannerPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="/plugins/banner-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Usage"><a href="/plugins/banner-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Placeholders"><a href="/plugins/banner-plugin/#placeholders">Placeholders</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/commons-chunk-plugin/">CommonsChunkPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="/plugins/commons-chunk-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/commons-chunk-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Commons chunk for entries"><a href="/plugins/commons-chunk-plugin/#commons-chunk-for-entries">Commons chunk for entries</a></li><li class="sidebar-item__anchor" title="Explicit vendor chunk"><a href="/plugins/commons-chunk-plugin/#explicit-vendor-chunk">Explicit vendor chunk</a></li><li class="sidebar-item__anchor" title="Move common modules into the parent chunk"><a href="/plugins/commons-chunk-plugin/#move-common-modules-into-the-parent-chunk">Move common modules into the parent chunk</a></li><li class="sidebar-item__anchor" title="Extra async commons chunk"><a href="/plugins/commons-chunk-plugin/#extra-async-commons-chunk">Extra async commons chunk</a></li><li class="sidebar-item__anchor" title="Passing the minChunks property a function"><a href="/plugins/commons-chunk-plugin/#passing-the-minchunks-property-a-function">Passing the minChunks property a function</a></li></ul></li><li class="sidebar-item__anchor" title="Manifest file"><a href="/plugins/commons-chunk-plugin/#manifest-file">Manifest file</a></li><li class="sidebar-item__anchor" title="Combining implicit common vendor chunks and manifest file"><a href="/plugins/commons-chunk-plugin/#combining-implicit-common-vendor-chunks-and-manifest-file">Combining implicit common vendor chunks and manifest file</a></li><li class="sidebar-item__anchor" title="More Examples"><a href="/plugins/commons-chunk-plugin/#more-examples">More Examples</a></li></ul></div></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="/plugins/context-exclusion-plugin/">ContextExclusionPlugin</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/context-replacement-plugin/">ContextReplacementPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="/plugins/context-replacement-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Content Callback"><a href="/plugins/context-replacement-plugin/#content-callback">Content Callback</a></li><li class="sidebar-item__anchor" title="Other Options"><a href="/plugins/context-replacement-plugin/#other-options">Other Options</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/define-plugin/">DefinePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="/plugins/define-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Feature Flags"><a href="/plugins/define-plugin/#feature-flags">Feature Flags</a></li><li class="sidebar-item__anchor" title="Service URLs"><a href="/plugins/define-plugin/#service-urls">Service URLs</a></li><li class="sidebar-item__anchor" title="Runtime values via runtimeValue"><a href="/plugins/define-plugin/#runtime-values-via-runtimevalue">Runtime values via runtimeValue</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/dll-plugin/">DllPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="DllPlugin"><a href="/plugins/dll-plugin/#dllplugin">DllPlugin</a></li><li class="sidebar-item__anchor" title="DllReferencePlugin"><a href="/plugins/dll-plugin/#dllreferenceplugin">DllReferencePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Modes"><a href="/plugins/dll-plugin/#modes">Modes</a></li></ul></li><li class="sidebar-item__anchor" title="Usage"><a href="/plugins/dll-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/dll-plugin/#examples">Examples</a></li><li class="sidebar-item__anchor" title="References"><a href="/plugins/dll-plugin/#references">References</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Source"><a href="/plugins/dll-plugin/#source">Source</a></li><li class="sidebar-item__anchor" title="Tests"><a href="/plugins/dll-plugin/#tests">Tests</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/environment-plugin/">EnvironmentPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="/plugins/environment-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Usage with default values"><a href="/plugins/environment-plugin/#usage-with-default-values">Usage with default values</a></li><li class="sidebar-item__anchor" title="Use Case: Git Version"><a href="/plugins/environment-plugin/#use-case-git-version">Use Case: Git Version</a></li><li class="sidebar-item__anchor" title="DotenvPlugin"><a href="/plugins/environment-plugin/#dotenvplugin">DotenvPlugin</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/eval-source-map-dev-tool-plugin/">EvalSourceMapDevToolPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="/plugins/eval-source-map-dev-tool-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/eval-source-map-dev-tool-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Basic Use Case"><a href="/plugins/eval-source-map-dev-tool-plugin/#basic-use-case">Basic Use Case</a></li><li class="sidebar-item__anchor" title="Exclude Vendor Maps"><a href="/plugins/eval-source-map-dev-tool-plugin/#exclude-vendor-maps">Exclude Vendor Maps</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/hashed-module-ids-plugin/">HashedModuleIdsPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="/plugins/hashed-module-ids-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Usage"><a href="/plugins/hashed-module-ids-plugin/#usage">Usage</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/hot-module-replacement-plugin/">HotModuleReplacementPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Basic Usage"><a href="/plugins/hot-module-replacement-plugin/#basic-usage">Basic Usage</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/ignore-plugin/">IgnorePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Using regular expressions"><a href="/plugins/ignore-plugin/#using-regular-expressions">Using regular expressions</a></li><li class="sidebar-item__anchor" title="Using filter functions"><a href="/plugins/ignore-plugin/#using-filter-functions">Using filter functions</a></li><li class="sidebar-item__anchor" title="Example of ignoring Moment Locales"><a href="/plugins/ignore-plugin/#example-of-ignoring-moment-locales">Example of ignoring Moment Locales</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/internal-plugins/">Internal webpack plugins</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="environment"><a href="/plugins/internal-plugins/#environment">environment</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="NodeEnvironmentPlugin"><a href="/plugins/internal-plugins/#nodeenvironmentplugin">NodeEnvironmentPlugin</a></li></ul></li><li class="sidebar-item__anchor" title="compiler"><a href="/plugins/internal-plugins/#compiler">compiler</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="MemoryCachePlugin"><a href="/plugins/internal-plugins/#memorycacheplugin">MemoryCachePlugin</a></li><li class="sidebar-item__anchor" title="ProgressPlugin"><a href="/plugins/internal-plugins/#progressplugin">ProgressPlugin</a></li><li class="sidebar-item__anchor" title="RecordIdsPlugin"><a href="/plugins/internal-plugins/#recordidsplugin">RecordIdsPlugin</a></li></ul></li><li class="sidebar-item__anchor" title="entry"><a href="/plugins/internal-plugins/#entry">entry</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="EntryPlugin"><a href="/plugins/internal-plugins/#entryplugin">EntryPlugin</a></li><li class="sidebar-item__anchor" title="PrefetchPlugin"><a href="/plugins/internal-plugins/#prefetchplugin">PrefetchPlugin</a></li></ul></li><li class="sidebar-item__anchor" title="output"><a href="/plugins/internal-plugins/#output">output</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="JsonpTemplatePlugin"><a href="/plugins/internal-plugins/#jsonptemplateplugin">JsonpTemplatePlugin</a></li><li class="sidebar-item__anchor" title="NodeTemplatePlugin"><a href="/plugins/internal-plugins/#nodetemplateplugin">NodeTemplatePlugin</a></li><li class="sidebar-item__anchor" title="LibraryTemplatePlugin"><a href="/plugins/internal-plugins/#librarytemplateplugin">LibraryTemplatePlugin</a></li><li class="sidebar-item__anchor" title="WebWorkerTemplatePlugin"><a href="/plugins/internal-plugins/#webworkertemplateplugin">WebWorkerTemplatePlugin</a></li><li class="sidebar-item__anchor" title="EvalDevToolModulePlugin"><a href="/plugins/internal-plugins/#evaldevtoolmoduleplugin">EvalDevToolModulePlugin</a></li><li class="sidebar-item__anchor" title="SourceMapDevToolPlugin"><a href="/plugins/internal-plugins/#sourcemapdevtoolplugin">SourceMapDevToolPlugin</a></li><li class="sidebar-item__anchor" title="HotModuleReplacementPlugin"><a href="/plugins/internal-plugins/#hotmodulereplacementplugin">HotModuleReplacementPlugin</a></li></ul></li><li class="sidebar-item__anchor" title="source"><a href="/plugins/internal-plugins/#source">source</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="APIPlugin"><a href="/plugins/internal-plugins/#apiplugin">APIPlugin</a></li><li class="sidebar-item__anchor" title="CompatibilityPlugin"><a href="/plugins/internal-plugins/#compatibilityplugin">CompatibilityPlugin</a></li><li class="sidebar-item__anchor" title="ConstPlugin"><a href="/plugins/internal-plugins/#constplugin">ConstPlugin</a></li><li class="sidebar-item__anchor" title="ProvidePlugin"><a href="/plugins/internal-plugins/#provideplugin">ProvidePlugin</a></li><li class="sidebar-item__anchor" title="NodeStuffPlugin"><a href="/plugins/internal-plugins/#nodestuffplugin">NodeStuffPlugin</a></li><li class="sidebar-item__anchor" title="RequireJsStuffPlugin"><a href="/plugins/internal-plugins/#requirejsstuffplugin">RequireJsStuffPlugin</a></li><li class="sidebar-item__anchor" title="NodeSourcePlugin"><a href="/plugins/internal-plugins/#nodesourceplugin">NodeSourcePlugin</a></li><li class="sidebar-item__anchor" title="NodeTargetPlugin"><a href="/plugins/internal-plugins/#nodetargetplugin">NodeTargetPlugin</a></li><li class="sidebar-item__anchor" title="AMDPlugin"><a href="/plugins/internal-plugins/#amdplugin">AMDPlugin</a></li><li class="sidebar-item__anchor" title="CommonJsPlugin"><a href="/plugins/internal-plugins/#commonjsplugin">CommonJsPlugin</a></li><li class="sidebar-item__anchor" title="RequireContextPlugin"><a href="/plugins/internal-plugins/#requirecontextplugin">RequireContextPlugin</a></li><li class="sidebar-item__anchor" title="RequireEnsurePlugin"><a href="/plugins/internal-plugins/#requireensureplugin">RequireEnsurePlugin</a></li><li class="sidebar-item__anchor" title="RequireIncludePlugin"><a href="/plugins/internal-plugins/#requireincludeplugin">RequireIncludePlugin</a></li><li class="sidebar-item__anchor" title="DefinePlugin"><a href="/plugins/internal-plugins/#defineplugin">DefinePlugin</a></li></ul></li><li class="sidebar-item__anchor" title="optimize"><a href="/plugins/internal-plugins/#optimize">optimize</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="LimitChunkCountPlugin"><a href="/plugins/internal-plugins/#limitchunkcountplugin">LimitChunkCountPlugin</a></li><li class="sidebar-item__anchor" title="MergeDuplicateChunksPlugin"><a href="/plugins/internal-plugins/#mergeduplicatechunksplugin">MergeDuplicateChunksPlugin</a></li><li class="sidebar-item__anchor" title="RemoveEmptyChunksPlugin"><a href="/plugins/internal-plugins/#removeemptychunksplugin">RemoveEmptyChunksPlugin</a></li><li class="sidebar-item__anchor" title="MinChunkSizePlugin"><a href="/plugins/internal-plugins/#minchunksizeplugin">MinChunkSizePlugin</a></li><li class="sidebar-item__anchor" title="ModuleConcatenationPlugin"><a href="/plugins/internal-plugins/#moduleconcatenationplugin">ModuleConcatenationPlugin</a></li><li class="sidebar-item__anchor" title="FlagIncludedChunksPlugin"><a href="/plugins/internal-plugins/#flagincludedchunksplugin">FlagIncludedChunksPlugin</a></li><li class="sidebar-item__anchor" title="RealContentHashPlugin"><a href="/plugins/internal-plugins/#realcontenthashplugin">RealContentHashPlugin</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/limit-chunk-count-plugin/">LimitChunkCountPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="/plugins/limit-chunk-count-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="maxChunks"><a href="/plugins/limit-chunk-count-plugin/#maxchunks">maxChunks</a></li><li class="sidebar-item__anchor" title="minChunkSize"><a href="/plugins/limit-chunk-count-plugin/#minchunksize">minChunkSize</a></li></ul></li><li class="sidebar-item__anchor" title="Usage via CLI"><a href="/plugins/limit-chunk-count-plugin/#usage-via-cli">Usage via CLI</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/min-chunk-size-plugin/">MinChunkSizePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage via CLI"><a href="/plugins/min-chunk-size-plugin/#usage-via-cli">Usage via CLI</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/module-concatenation-plugin/">ModuleConcatenationPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Optimization Bailouts"><a href="/plugins/module-concatenation-plugin/#optimization-bailouts">Optimization Bailouts</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Module Grouping Algorithm"><a href="/plugins/module-concatenation-plugin/#module-grouping-algorithm">Module Grouping Algorithm</a></li><li class="sidebar-item__anchor" title="Debugging Optimization Bailouts"><a href="/plugins/module-concatenation-plugin/#debugging-optimization-bailouts">Debugging Optimization Bailouts</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/module-federation-plugin/">ModuleFederationPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Specify package versions"><a href="/plugins/module-federation-plugin/#specify-package-versions">Specify package versions</a></li><li class="sidebar-item__anchor" title="Sharing hints"><a href="/plugins/module-federation-plugin/#sharing-hints">Sharing hints</a></li></ul></div></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="/plugins/NoEmitOnErrorsPlugin/">NoEmitOnErrorsPlugin</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/normal-module-replacement-plugin/">NormalModuleReplacementPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Basic Example"><a href="/plugins/normal-module-replacement-plugin/#basic-example">Basic Example</a></li><li class="sidebar-item__anchor" title="Advanced Example"><a href="/plugins/normal-module-replacement-plugin/#advanced-example">Advanced Example</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/prefetch-plugin/">PrefetchPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="/plugins/prefetch-plugin/#options">Options</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/profiling-plugin/">ProfilingPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="/plugins/profiling-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Usage: default"><a href="/plugins/profiling-plugin/#usage-default">Usage: default</a></li><li class="sidebar-item__anchor" title="Usage: custom outputPath"><a href="/plugins/profiling-plugin/#usage-custom-outputpath">Usage: custom outputPath</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/progress-plugin/">ProgressPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="/plugins/progress-plugin/#usage">Usage</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Providing function"><a href="/plugins/progress-plugin/#providing-function">Providing function</a></li><li class="sidebar-item__anchor" title="Providing object"><a href="/plugins/progress-plugin/#providing-object">Providing object</a></li></ul></li><li class="sidebar-item__anchor" title="Percentage calculation"><a href="/plugins/progress-plugin/#percentage-calculation">Percentage calculation</a></li><li class="sidebar-item__anchor" title="Supported Hooks"><a href="/plugins/progress-plugin/#supported-hooks">Supported Hooks</a></li><li class="sidebar-item__anchor" title="Source"><a href="/plugins/progress-plugin/#source">Source</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/provide-plugin/">ProvidePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage: jQuery"><a href="/plugins/provide-plugin/#usage-jquery">Usage: jQuery</a></li><li class="sidebar-item__anchor" title="Usage: jQuery with Angular 1"><a href="/plugins/provide-plugin/#usage-jquery-with-angular-1">Usage: jQuery with Angular 1</a></li><li class="sidebar-item__anchor" title="Usage: Lodash Map"><a href="/plugins/provide-plugin/#usage-lodash-map">Usage: Lodash Map</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage: Vue.js"><a href="/plugins/provide-plugin/#usage-vuejs">Usage: Vue.js</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/source-map-dev-tool-plugin/">SourceMapDevToolPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="/plugins/source-map-dev-tool-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/source-map-dev-tool-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Basic Use Case"><a href="/plugins/source-map-dev-tool-plugin/#basic-use-case">Basic Use Case</a></li><li class="sidebar-item__anchor" title="Exclude Vendor Maps"><a href="/plugins/source-map-dev-tool-plugin/#exclude-vendor-maps">Exclude Vendor Maps</a></li><li class="sidebar-item__anchor" title="Host Source Maps Externally"><a href="/plugins/source-map-dev-tool-plugin/#host-source-maps-externally">Host Source Maps Externally</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/split-chunks-plugin/">SplitChunksPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Defaults"><a href="/plugins/split-chunks-plugin/#defaults">Defaults</a></li><li class="sidebar-item__anchor" title="Configuration"><a href="/plugins/split-chunks-plugin/#configuration">Configuration</a></li><li class="sidebar-item__anchor" title="optimization.splitChunks"><a href="/plugins/split-chunks-plugin/#optimizationsplitchunks">optimization.splitChunks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="splitChunks.automaticNameDelimiter"><a href="/plugins/split-chunks-plugin/#splitchunksautomaticnamedelimiter">splitChunks.automaticNameDelimiter</a></li><li class="sidebar-item__anchor" title="splitChunks.chunks"><a href="/plugins/split-chunks-plugin/#splitchunkschunks">splitChunks.chunks</a></li><li class="sidebar-item__anchor" title="splitChunks.maxAsyncRequests"><a href="/plugins/split-chunks-plugin/#splitchunksmaxasyncrequests">splitChunks.maxAsyncRequests</a></li><li class="sidebar-item__anchor" title="splitChunks.maxInitialRequests"><a href="/plugins/split-chunks-plugin/#splitchunksmaxinitialrequests">splitChunks.maxInitialRequests</a></li><li class="sidebar-item__anchor" title="splitChunks.defaultSizeTypes"><a href="/plugins/split-chunks-plugin/#splitchunksdefaultsizetypes">splitChunks.defaultSizeTypes</a></li><li class="sidebar-item__anchor" title="splitChunks.minChunks"><a href="/plugins/split-chunks-plugin/#splitchunksminchunks">splitChunks.minChunks</a></li><li class="sidebar-item__anchor" title="splitChunks.hidePathInfo"><a href="/plugins/split-chunks-plugin/#splitchunkshidepathinfo">splitChunks.hidePathInfo</a></li><li class="sidebar-item__anchor" title="splitChunks.minSize"><a href="/plugins/split-chunks-plugin/#splitchunksminsize">splitChunks.minSize</a></li><li class="sidebar-item__anchor" title="splitChunks.enforceSizeThreshold"><a href="/plugins/split-chunks-plugin/#splitchunksenforcesizethreshold">splitChunks.enforceSizeThreshold</a></li><li class="sidebar-item__anchor" title="splitChunks.minRemainingSize"><a href="/plugins/split-chunks-plugin/#splitchunksminremainingsize">splitChunks.minRemainingSize</a></li><li class="sidebar-item__anchor" title="splitChunks.layer"><a href="/plugins/split-chunks-plugin/#splitchunkslayer">splitChunks.layer</a></li><li class="sidebar-item__anchor" title="splitChunks.maxSize"><a href="/plugins/split-chunks-plugin/#splitchunksmaxsize">splitChunks.maxSize</a></li><li class="sidebar-item__anchor" title="splitChunks.maxAsyncSize"><a href="/plugins/split-chunks-plugin/#splitchunksmaxasyncsize">splitChunks.maxAsyncSize</a></li><li class="sidebar-item__anchor" title="splitChunks.maxInitialSize"><a href="/plugins/split-chunks-plugin/#splitchunksmaxinitialsize">splitChunks.maxInitialSize</a></li><li class="sidebar-item__anchor" title="splitChunks.name"><a href="/plugins/split-chunks-plugin/#splitchunksname">splitChunks.name</a></li><li class="sidebar-item__anchor" title="splitChunks.usedExports"><a href="/plugins/split-chunks-plugin/#splitchunksusedexports">splitChunks.usedExports</a></li><li class="sidebar-item__anchor" title="splitChunks.cacheGroups"><a href="/plugins/split-chunks-plugin/#splitchunkscachegroups">splitChunks.cacheGroups</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/split-chunks-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Defaults: Example 1"><a href="/plugins/split-chunks-plugin/#defaults-example-1">Defaults: Example 1</a></li><li class="sidebar-item__anchor" title="Defaults: Example 2"><a href="/plugins/split-chunks-plugin/#defaults-example-2">Defaults: Example 2</a></li><li class="sidebar-item__anchor" title="Split Chunks: Example 1"><a href="/plugins/split-chunks-plugin/#split-chunks-example-1">Split Chunks: Example 1</a></li><li class="sidebar-item__anchor" title="Split Chunks: Example 2"><a href="/plugins/split-chunks-plugin/#split-chunks-example-2">Split Chunks: Example 2</a></li><li class="sidebar-item__anchor" title="Split Chunks: Example 3"><a href="/plugins/split-chunks-plugin/#split-chunks-example-3">Split Chunks: Example 3</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/watch-ignore-plugin/">WatchIgnorePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="/plugins/watch-ignore-plugin/#options">Options</a></li></ul></div></div><div><h4 class="sidebar__group">webpack contrib</h4><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/compression-webpack-plugin/">CompressionWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="/plugins/compression-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/compression-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="/plugins/compression-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="/plugins/compression-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="/plugins/compression-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="algorithm"><a href="/plugins/compression-webpack-plugin/#algorithm">algorithm</a></li><li class="sidebar-item__anchor" title="compressionOptions"><a href="/plugins/compression-webpack-plugin/#compressionoptions">compressionOptions</a></li><li class="sidebar-item__anchor" title="threshold"><a href="/plugins/compression-webpack-plugin/#threshold">threshold</a></li><li class="sidebar-item__anchor" title="minRatio"><a href="/plugins/compression-webpack-plugin/#minratio">minRatio</a></li><li class="sidebar-item__anchor" title="filename"><a href="/plugins/compression-webpack-plugin/#filename">filename</a></li><li class="sidebar-item__anchor" title="deleteOriginalAssets"><a href="/plugins/compression-webpack-plugin/#deleteoriginalassets">deleteOriginalAssets</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/compression-webpack-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Using Zopfli"><a href="/plugins/compression-webpack-plugin/#using-zopfli">Using Zopfli</a></li><li class="sidebar-item__anchor" title="Using Brotli"><a href="/plugins/compression-webpack-plugin/#using-brotli">Using Brotli</a></li><li class="sidebar-item__anchor" title="Multiple compressed versions of assets for different algorithm"><a href="/plugins/compression-webpack-plugin/#multiple-compressed-versions-of-assets-for-different-algorithm">Multiple compressed versions of assets for different algorithm</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="/plugins/compression-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/compression-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/copy-webpack-plugin/">CopyWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="/plugins/copy-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/copy-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Patterns"><a href="/plugins/copy-webpack-plugin/#patterns">Patterns</a></li><li class="sidebar-item__anchor" title="noErrorOnMissing"><a href="/plugins/copy-webpack-plugin/#noerroronmissing">noErrorOnMissing</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/copy-webpack-plugin/#options-1">Options</a></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/copy-webpack-plugin/#examples">Examples</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="/plugins/copy-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/copy-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/css-minimizer-webpack-plugin/">CssMinimizerWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="/plugins/css-minimizer-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Note about source maps"><a href="/plugins/css-minimizer-webpack-plugin/#note-about-source-maps">Note about source maps</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/css-minimizer-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="/plugins/css-minimizer-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="/plugins/css-minimizer-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="/plugins/css-minimizer-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="parallel"><a href="/plugins/css-minimizer-webpack-plugin/#parallel">parallel</a></li><li class="sidebar-item__anchor" title="minify"><a href="/plugins/css-minimizer-webpack-plugin/#minify">minify</a></li><li class="sidebar-item__anchor" title="minimizerOptions"><a href="/plugins/css-minimizer-webpack-plugin/#minimizeroptions">minimizerOptions</a></li><li class="sidebar-item__anchor" title="warningsFilter"><a href="/plugins/css-minimizer-webpack-plugin/#warningsfilter">warningsFilter</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/css-minimizer-webpack-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Use sourcemaps"><a href="/plugins/css-minimizer-webpack-plugin/#use-sourcemaps">Use sourcemaps</a></li><li class="sidebar-item__anchor" title="Remove all comments"><a href="/plugins/css-minimizer-webpack-plugin/#remove-all-comments">Remove all comments</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="/plugins/css-minimizer-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/css-minimizer-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/eslint-webpack-plugin/">EslintWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="About plugin"><a href="/plugins/eslint-webpack-plugin/#about-plugin">About plugin</a></li><li class="sidebar-item__anchor" title="Migrate from eslint-loader"><a href="/plugins/eslint-webpack-plugin/#migrate-from-eslint-loader">Migrate from eslint-loader</a></li><li class="sidebar-item__anchor" title="Install"><a href="/plugins/eslint-webpack-plugin/#install">Install</a></li><li class="sidebar-item__anchor" title="Usage"><a href="/plugins/eslint-webpack-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/eslint-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="context"><a href="/plugins/eslint-webpack-plugin/#context">context</a></li><li class="sidebar-item__anchor" title="eslintPath"><a href="/plugins/eslint-webpack-plugin/#eslintpath">eslintPath</a></li><li class="sidebar-item__anchor" title="extensions"><a href="/plugins/eslint-webpack-plugin/#extensions">extensions</a></li><li class="sidebar-item__anchor" title="exclude"><a href="/plugins/eslint-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="files"><a href="/plugins/eslint-webpack-plugin/#files">files</a></li><li class="sidebar-item__anchor" title="fix"><a href="/plugins/eslint-webpack-plugin/#fix">fix</a></li><li class="sidebar-item__anchor" title="formatter"><a href="/plugins/eslint-webpack-plugin/#formatter">formatter</a></li><li class="sidebar-item__anchor" title="lintDirtyModulesOnly"><a href="/plugins/eslint-webpack-plugin/#lintdirtymodulesonly">lintDirtyModulesOnly</a></li><li class="sidebar-item__anchor" title="threads"><a href="/plugins/eslint-webpack-plugin/#threads">threads</a></li><li class="sidebar-item__anchor" title="Errors and Warning"><a href="/plugins/eslint-webpack-plugin/#errors-and-warning">Errors and Warning</a></li></ul></li><li class="sidebar-item__anchor" title="Changelog"><a href="/plugins/eslint-webpack-plugin/#changelog">Changelog</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/eslint-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/html-minimizer-webpack-plugin/">HtmlMinimizerWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="/plugins/html-minimizer-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/html-minimizer-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="/plugins/html-minimizer-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="/plugins/html-minimizer-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="/plugins/html-minimizer-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="parallel"><a href="/plugins/html-minimizer-webpack-plugin/#parallel">parallel</a></li><li class="sidebar-item__anchor" title="minify"><a href="/plugins/html-minimizer-webpack-plugin/#minify">minify</a></li><li class="sidebar-item__anchor" title="minimizerOptions"><a href="/plugins/html-minimizer-webpack-plugin/#minimizeroptions">minimizerOptions</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="/plugins/html-minimizer-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/html-minimizer-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/image-minimizer-webpack-plugin/">ImageMinimizerWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="/plugins/image-minimizer-webpack-plugin/#getting-started">Getting Started</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Standalone Loader"><a href="/plugins/image-minimizer-webpack-plugin/#standalone-loader">Standalone Loader</a></li><li class="sidebar-item__anchor" title="Standalone Plugin"><a href="/plugins/image-minimizer-webpack-plugin/#standalone-plugin">Standalone Plugin</a></li></ul></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/image-minimizer-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Plugin Options"><a href="/plugins/image-minimizer-webpack-plugin/#plugin-options">Plugin Options</a></li><li class="sidebar-item__anchor" title="Loader Options"><a href="/plugins/image-minimizer-webpack-plugin/#loader-options">Loader Options</a></li></ul></li><li class="sidebar-item__anchor" title="Additional API"><a href="/plugins/image-minimizer-webpack-plugin/#additional-api">Additional API</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="normalizeImageminConfig(config)"><a href="/plugins/image-minimizer-webpack-plugin/#normalizeimageminconfigconfig">normalizeImageminConfig(config)</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/image-minimizer-webpack-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Optimize images based on size"><a href="/plugins/image-minimizer-webpack-plugin/#optimize-images-based-on-size">Optimize images based on size</a></li><li class="sidebar-item__anchor" title="Optimize and transform images to webp"><a href="/plugins/image-minimizer-webpack-plugin/#optimize-and-transform-images-to-webp">Optimize and transform images to webp</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="/plugins/image-minimizer-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/image-minimizer-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/install-webpack-plugin/">InstallWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="dependencies"><a href="/plugins/install-webpack-plugin/#dependencies">dependencies</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="peer"><a href="/plugins/install-webpack-plugin/#peer">peer</a></li></ul></li><li class="sidebar-item__anchor" title="packageManager"><a href="/plugins/install-webpack-plugin/#packagemanager">packageManager</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="type"><a href="/plugins/install-webpack-plugin/#type">type</a></li><li class="sidebar-item__anchor" title="options"><a href="/plugins/install-webpack-plugin/#options-1">options</a></li><li class="sidebar-item__anchor" title="arguments"><a href="/plugins/install-webpack-plugin/#arguments">arguments</a></li><li class="sidebar-item__anchor" title="dev"><a href="/plugins/install-webpack-plugin/#dev">dev</a></li><li class="sidebar-item__anchor" title="quiet"><a href="/plugins/install-webpack-plugin/#quiet">quiet</a></li></ul></li><li class="sidebar-item__anchor" title="prompt"><a href="/plugins/install-webpack-plugin/#prompt">prompt</a></li><li class="sidebar-item__anchor" title="Contributing"><a href="/plugins/install-webpack-plugin/#contributing">Contributing</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/json-minimizer-webpack-plugin/">JsonMinimizerWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="/plugins/json-minimizer-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/json-minimizer-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="/plugins/json-minimizer-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="/plugins/json-minimizer-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="/plugins/json-minimizer-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="minimizerOptions"><a href="/plugins/json-minimizer-webpack-plugin/#minimizeroptions">minimizerOptions</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="/plugins/json-minimizer-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/json-minimizer-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="/plugins/mini-css-extract-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/mini-css-extract-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Plugin Options"><a href="/plugins/mini-css-extract-plugin/#plugin-options">Plugin Options</a></li><li class="sidebar-item__anchor" title="Loader Options"><a href="/plugins/mini-css-extract-plugin/#loader-options">Loader Options</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/mini-css-extract-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Recommend"><a href="/plugins/mini-css-extract-plugin/#recommend">Recommend</a></li><li class="sidebar-item__anchor" title="Minimal example"><a href="/plugins/mini-css-extract-plugin/#minimal-example">Minimal example</a></li><li class="sidebar-item__anchor" title="Named export for CSS Modules"><a href="/plugins/mini-css-extract-plugin/#named-export-for-css-modules">Named export for CSS Modules</a></li><li class="sidebar-item__anchor" title="The publicPath option as function"><a href="/plugins/mini-css-extract-plugin/#the-publicpath-option-as-function">The publicPath option as function</a></li><li class="sidebar-item__anchor" title="Advanced configuration example"><a href="/plugins/mini-css-extract-plugin/#advanced-configuration-example">Advanced configuration example</a></li><li class="sidebar-item__anchor" title="Hot Module Reloading (HMR)"><a href="/plugins/mini-css-extract-plugin/#hot-module-reloading-hmr">Hot Module Reloading (HMR)</a></li><li class="sidebar-item__anchor" title="Minimizing For Production"><a href="/plugins/mini-css-extract-plugin/#minimizing-for-production">Minimizing For Production</a></li><li class="sidebar-item__anchor" title="Using preloaded or inlined CSS"><a href="/plugins/mini-css-extract-plugin/#using-preloaded-or-inlined-css">Using preloaded or inlined CSS</a></li><li class="sidebar-item__anchor" title="Extracting all CSS in a single file"><a href="/plugins/mini-css-extract-plugin/#extracting-all-css-in-a-single-file">Extracting all CSS in a single file</a></li><li class="sidebar-item__anchor" title="Extracting CSS based on entry"><a href="/plugins/mini-css-extract-plugin/#extracting-css-based-on-entry">Extracting CSS based on entry</a></li><li class="sidebar-item__anchor" title="Filename Option as function"><a href="/plugins/mini-css-extract-plugin/#filename-option-as-function">Filename Option as function</a></li><li class="sidebar-item__anchor" title="Long Term Caching"><a href="/plugins/mini-css-extract-plugin/#long-term-caching">Long Term Caching</a></li><li class="sidebar-item__anchor" title="Remove Order Warnings"><a href="/plugins/mini-css-extract-plugin/#remove-order-warnings">Remove Order Warnings</a></li><li class="sidebar-item__anchor" title="Media Query Plugin"><a href="/plugins/mini-css-extract-plugin/#media-query-plugin">Media Query Plugin</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="/plugins/mini-css-extract-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/mini-css-extract-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/stylelint-webpack-plugin/">StylelintWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Install"><a href="/plugins/stylelint-webpack-plugin/#install">Install</a></li><li class="sidebar-item__anchor" title="Usage"><a href="/plugins/stylelint-webpack-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/stylelint-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="configFile"><a href="/plugins/stylelint-webpack-plugin/#configfile">configFile</a></li><li class="sidebar-item__anchor" title="context"><a href="/plugins/stylelint-webpack-plugin/#context">context</a></li><li class="sidebar-item__anchor" title="exclude"><a href="/plugins/stylelint-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="extensions"><a href="/plugins/stylelint-webpack-plugin/#extensions">extensions</a></li><li class="sidebar-item__anchor" title="files"><a href="/plugins/stylelint-webpack-plugin/#files">files</a></li><li class="sidebar-item__anchor" title="fix"><a href="/plugins/stylelint-webpack-plugin/#fix">fix</a></li><li class="sidebar-item__anchor" title="formatter"><a href="/plugins/stylelint-webpack-plugin/#formatter">formatter</a></li><li class="sidebar-item__anchor" title="lintDirtyModulesOnly"><a href="/plugins/stylelint-webpack-plugin/#lintdirtymodulesonly">lintDirtyModulesOnly</a></li><li class="sidebar-item__anchor" title="stylelintPath"><a href="/plugins/stylelint-webpack-plugin/#stylelintpath">stylelintPath</a></li><li class="sidebar-item__anchor" title="threads"><a href="/plugins/stylelint-webpack-plugin/#threads">threads</a></li><li class="sidebar-item__anchor" title="Errors and Warning"><a href="/plugins/stylelint-webpack-plugin/#errors-and-warning">Errors and Warning</a></li></ul></li><li class="sidebar-item__anchor" title="Changelog"><a href="/plugins/stylelint-webpack-plugin/#changelog">Changelog</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/stylelint-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/plugins/terser-webpack-plugin/">TerserWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="/plugins/terser-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Note about source maps"><a href="/plugins/terser-webpack-plugin/#note-about-source-maps">Note about source maps</a></li><li class="sidebar-item__anchor" title="Options"><a href="/plugins/terser-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="/plugins/terser-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="/plugins/terser-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="/plugins/terser-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="parallel"><a href="/plugins/terser-webpack-plugin/#parallel">parallel</a></li><li class="sidebar-item__anchor" title="minify"><a href="/plugins/terser-webpack-plugin/#minify">minify</a></li><li class="sidebar-item__anchor" title="terserOptions"><a href="/plugins/terser-webpack-plugin/#terseroptions">terserOptions</a></li><li class="sidebar-item__anchor" title="extractComments"><a href="/plugins/terser-webpack-plugin/#extractcomments">extractComments</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="/plugins/terser-webpack-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Preserve Comments"><a href="/plugins/terser-webpack-plugin/#preserve-comments">Preserve Comments</a></li><li class="sidebar-item__anchor" title="Remove Comments"><a href="/plugins/terser-webpack-plugin/#remove-comments">Remove Comments</a></li><li class="sidebar-item__anchor" title="Custom Minify Function"><a href="/plugins/terser-webpack-plugin/#custom-minify-function">Custom Minify Function</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="/plugins/terser-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="/plugins/terser-webpack-plugin/#license">License</a></li></ul></div></div></div></nav><section class="page"><div class="page-links"><a class="page-links__link" href="https://github.com/line/webpack.kr/edit/master/src/content/plugins/printable.md">Edit Document<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="page-links__icon" width="12" fill="#1a6bac"><path d="M17.6 2.4C16 1 15 1.2 15 1.2l-6 6L2.2 14l-1 4.8 4.8-1 6.7-6.8 6-6s.3-1.1-1.1-2.6zm-12 14.8l-1.5.4-.7-1-1-.7.4-1.6.5-.4s.8 0 1.8 1 1 1.8 1 1.8l-.4.5z"></path></svg></a><span class="page-links__gap">|</span><button class="page-links__link page-links__print as-link" title="Print this page">Print Document<img src="/icon-print.42ad40feec51e6f5f553.svg" alt=""/></button></div><div class="markdown"><h1>Printable</h1><div><h1 id="automaticprefetchplugin">AutomaticPrefetchPlugin<a href="#automaticprefetchplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>AutomaticPrefetchPlugin</code> discovers <strong>all modules</strong> from the previous compilation upfront while watching for changes, trying to improve the incremental build times. Compared to <a href="/plugins/prefetch-plugin/"><code>PrefetchPlugin</code></a> which discovers a <strong>single module</strong> upfront.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>May or may not have a performance benefit since the incremental build times are pretty fast.</p></aside> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>AutomaticPrefetchPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="bannerplugin">BannerPlugin<a href="#bannerplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Adds a banner to the top of each generated chunk.</p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span>banner<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options<a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token punctuation">{</span>
  banner<span class="token operator">:</span> string <span class="token operator">|</span> <span class="token keyword">function</span><span class="token punctuation">,</span> <span class="token comment">// the banner as string or function, it will be wrapped in a comment</span>
  raw<span class="token operator">:</span> boolean<span class="token punctuation">,</span> <span class="token comment">// if true, banner will not be wrapped in a comment</span>
  entryOnly<span class="token operator">:</span> boolean<span class="token punctuation">,</span> <span class="token comment">// if true, the banner will only be added to the entry chunks</span>
  test<span class="token operator">:</span> string <span class="token operator">|</span> RegExp <span class="token operator">|</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> RegExp<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Include all modules that pass test assertion.</span>
  include<span class="token operator">:</span> string <span class="token operator">|</span> RegExp <span class="token operator">|</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> RegExp<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Include all modules matching any of these conditions.</span>
  exclude<span class="token operator">:</span> string <span class="token operator">|</span> RegExp <span class="token operator">|</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> RegExp<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Exclude all modules matching any of these conditions.</span>
<span class="token punctuation">}</span></code></pre> <h2 id="usage">Usage<a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> webpack <span class="token keyword">from</span> <span class="token string">'webpack'</span><span class="token punctuation">;</span>

<span class="token comment">// string</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  banner<span class="token operator">:</span> <span class="token string">'hello world'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// function</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">yourVariable</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">yourVariable: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>yourVariable<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="placeholders">Placeholders<a href="#placeholders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Since webpack 2.5.0, placeholders are evaluated in the <code>banner</code> string:</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> webpack <span class="token keyword">from</span> <span class="token string">'webpack'</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  banner<span class="token operator">:</span>
    <span class="token string">'fullhash:[fullhash], chunkhash:[chunkhash], name:[name], filebase:[filebase], query:[query], file:[file]'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="commonschunkplugin">CommonsChunkPlugin<a href="#commonschunkplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>CommonsChunkPlugin</code>은 여러 엔트리 포인트 간에 공유되는 공통 모듈로 이루어진 별도의 파일(청크라고 합니다)을 만드는 opt-in 기능입니다.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>CommonsChunkPlugin은 webpack v4(legato)에서 제거되었습니다. 최신 버전에서 청크가 처리되는 방식을 알아보려면 <a href="/plugins/split-chunks-plugin/">SplitChunksPlugin</a>을 확인하세요.</p></aside> <p>번들에서 공통 모듈을 분리한 결과로 생성된 청크 파일을 처음에 한 번 로드하고 나중에 사용하기 위해 캐시에 저장할 수 있습니다. 이로 인해 브라우저가 새 페이지를 방문할 때마다 더 큰 번들을 로드하지 않고 캐시에서 공유 코드를 빠르게 제공할 수 있으므로 페이지 속도가 최적화됩니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options-1">Options<a href="#options-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token punctuation">{</span>
  name<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">// 또는</span>
  names<span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 공통 청크의 청크 이름입니다. 청크의 이름을 전달하여 기존 청크를 선택할 수 있습니다.</span>
  <span class="token comment">// 문자열 배열로 전달되면 각 청크 이름에 대해 플러그인을 여러 번 호출하는 것과 같습니다.</span>
  <span class="token comment">// 생략하면 `options.async` 또는 `options.children`이 설정되고 모든 청크가 사용됩니다.</span>
  <span class="token comment">// 그렇지 않으면 청크 이름으로 사용되는 `options.filename`이 사용되게 됩니다.</span>
  <span class="token comment">// `options.async`를 사용하여 다른 비동기 청크에서 공통 청크를 만들 때 `option.name`을 생략하는 대신 여기에</span>
  <span class="token comment">// 엔트리 포인트 청크 이름을 지정해야 합니다.</span>

  filename<span class="token operator">:</span> string<span class="token punctuation">,</span>
  <span class="token comment">// 공통 청크의 파일 이름 템플릿입니다. `output.filename`과 동일한 플레이스홀더를 포함할 수 있습니다.</span>
  <span class="token comment">// 생략하면 원본 파일 이름은 수정되지 않습니다(일반적으로 `output.filename` 혹은 `output.chunkFilename`).</span>
  <span class="token comment">// 이 옵션은 `options.async`를 사용하는 경우에도 허용되지 않습니다. 자세한 내용은 아래를 참조하세요.</span>

  minChunks<span class="token operator">:</span> number<span class="token operator">|</span><span class="token number">Infinity</span><span class="token operator">|</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token operator">=></span> boolean<span class="token punctuation">,</span>
  <span class="token comment">// 공통 청크로 이동하기 전에 모듈을 포함해야 하는 최소 청크 수입니다.</span>
  <span class="token comment">// 숫자는 2보다 크거나 같고 청크 수보다 작거나 같아야 합니다.</span>
  <span class="token comment">// `Infinity`를 전달하면 공통 청크가 생성되지만 모듈은 이동하지 않습니다.</span>
  <span class="token comment">// `function`을 제공하여 맞춤 로직을 추가 할 수 있습니다.(기본값은 청크의 수입니다)</span>

  chunks<span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 청크 이름으로 소스 청크를 선택합니다. 청크는 공통 청크의 자식이어야 합니다.</span>
  <span class="token comment">// 생략하면 모든 엔트리 청크가 선택됩니다.</span>

  children<span class="token operator">:</span> boolean<span class="token punctuation">,</span>
  <span class="token comment">// `true`이면 공통 청크의 모든 자식이 선택됩니다.</span>

  deepChildren<span class="token operator">:</span> boolean<span class="token punctuation">,</span>
  <span class="token comment">// `true`이면 공통 청크의 모든 자손이 선택됩니다.</span>

  async<span class="token operator">:</span> boolean<span class="token operator">|</span>string<span class="token punctuation">,</span>
  <span class="token comment">// `true`이면 새로운 비동기 공통 청크가 `options.name`의 하위 항목 및 `options.chunks`와 동등한 항목으로 생성됩니다.</span>
  <span class="token comment">// `options.chunks`와 병렬로 로드됩니다.</span>
  <span class="token comment">// `option.filename`을 사용하는 대신 `true`가 아닌 원하는 문자열을 제공해</span>
  <span class="token comment">// 출력 파일의 이름을 변경할 수 있습니다.</span>

  minSize<span class="token operator">:</span> number<span class="token punctuation">,</span>
  <span class="token comment">// 공통 청크가 생성되기 전 모든 공통 모듈의 최소 사이즈입니다.</span>
<span class="token punctuation">}</span></code></pre> <h2 id="examples">Examples<a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="commons-chunk-for-entries">Commons chunk for entries<a href="#commons-chunk-for-entries" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>엔트리 포인트 간에 공유되는 공통 모듈을 포함하는 추가 청크를 생성합니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'commons'</span><span class="token punctuation">,</span>
  <span class="token comment">// (공통 청크 이름)</span>

  filename<span class="token operator">:</span> <span class="token string">'commons.js'</span><span class="token punctuation">,</span>
  <span class="token comment">// (공통 청크의 파일 이름)</span>

  <span class="token comment">// minChunks: 3,</span>
  <span class="token comment">// (모듈은 최소 3개의 엔트리 사이에서 공유해야 합니다)</span>

  <span class="token comment">// chunks: ["pageA", "pageB"],</span>
  <span class="token comment">// (이 엔트리에서만 사용됩니다)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>생성된 청크는 엔트리 포인트 전에 로드해야 합니다.</p> <pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>commons.js<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>entry.bundle.js<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span></code></pre> <h3 id="explicit-vendor-chunk">Explicit vendor chunk<a href="#explicit-vendor-chunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>코드를 vendor와 애플리케이션으로 분할합니다.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    vendor<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'jquery'</span><span class="token punctuation">,</span> <span class="token string">'other-lib'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    app<span class="token operator">:</span> <span class="token string">'./entry'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span>
      <span class="token comment">// filename: "vendor.js"</span>
      <span class="token comment">// (청크에 다른 이름을 지정하세요)</span>

      minChunks<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
      <span class="token comment">// (엔트리가 더 많으면 다른 모듈이 vendor 청크로</span>
      <span class="token comment">//  들어가지 않습니다)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vendor.js<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app.js<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>장기 캐시와 함께 vendor 청크 변경을 방지하기 위해 <code>ChunkManifestWebpackPlugin</code>을 사용해야 할 수 있습니다. 또한 안정적인 모듈 ID를 보장하기 위해 <code>NamedModulesPlugin</code> 혹은 <a href="/plugins/hashed-module-ids-plugin"><code>HashedModuleIdsPlugin</code></a>와 같은 레코드 플러그인을 사용해야 합니다.</p></aside> <h3 id="move-common-modules-into-the-parent-chunk">Move common modules into the parent chunk<a href="#move-common-modules-into-the-parent-chunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><a href="/guides/code-splitting">Code Splitting</a>을 사용하면 엔트리 청크의 여러 하위(자식) 청크가 공통 종속성을 가질 수 있습니다. 중복을 방지하기 위해 이들을 부모 청크로 옮길 수 있습니다. 이렇게 하면 전체 크기가 줄어들지만, 초기 로드 시간에 부정적인 영향을 미칩니다. 사용자가 많은 형제 청크(예: 엔트리 청크의 자식)를 다운로드해야 할 것으로 예상되는 경우 전체 로드 시간이 향상됩니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// names: ["app", "subPageA"]</span>
  <span class="token comment">// (청크를 선택하거나 모든 청크를 생략하세요)</span>

  children<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// (선택된 청크의 모든 자식을 선택합니다)</span>

  <span class="token comment">// minChunks: 3,</span>
  <span class="token comment">// (모듈을 옮기기 전에 3명의 자식이 공유해야 합니다)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="extra-async-commons-chunk">Extra async commons chunk<a href="#extra-async-commons-chunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>위의 것과 유사하지만 공통 모듈을 부모로 이동하는 대신(초기 로드 시간을 증가시키게 됩니다) 비동기식으로 로드된 새로운 추가 공통 청크가 사용됩니다. 이는 추가 청크가 다운로드되면 자동으로 병렬로 다운로드됩니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'app'</span><span class="token punctuation">,</span>
  <span class="token comment">// 또는</span>
  names<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'app'</span><span class="token punctuation">,</span> <span class="token string">'subPageA'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 단일 이름 또는 배열 형태의 이름은 비동기 청크를 생성하는</span>
  <span class="token comment">// 엔트리 포인트의 이름과 일치해야 합니다.</span>

  children<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// (청크의 모든 자식을 사용합니다)</span>

  async<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// (비동기 공통 청크를 생성합니다)</span>

  minChunks<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token comment">// (모듈이 분리되기 전에 3명의 자식이 모듈을 공유해야 합니다)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="passing-the-minchunks-property-a-function">Passing the <code>minChunks</code> property a function<a href="#passing-the-minchunks-property-a-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>또한 <code>minChunks</code> 속성에 함수를 전달할 수도 있습니다. 이 함수는 <code>CommonsChunkPlugin</code>에 의해 호출되며 <code>module</code> 및 <code>count</code> 인수로 함수를 호출합니다.</p> <p><code>module</code> 인수는 <code>name</code>/<code>names</code> 속성을 통해 제공된 청크의 각 모듈을 나타냅니다. <code>module</code>은 <a href="https://github.com/webpack/webpack/blob/master/lib/NormalModule.js">NormalModule</a>의 형태로, 이 사용 사례에 특히 유용한 두 개의 속성이 있습니다.</p> <ul> <li><code>module.context</code>: 파일을 저장하는 디렉터리입니다. 예: <code>'/my_project/node_modules/example-dependency'</code></li> <li><code>module.resource</code>: 처리중인 파일의 이름입니다. 예: <code>'/my_project/node_modules/example-dependency/index.js'</code></li> </ul> <p><code>count</code> 인수는 <code>module</code>이 사용되는 청크 수를 나타냅니다.</p> <p>이 옵션은 CommonsChunk 알고리즘을 통해 모듈을 이동할 위치를 결정하는 방법을 세밀하게 제어하려는 경우에 유용합니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'my-single-lib-chunk'</span><span class="token punctuation">,</span>
  filename<span class="token operator">:</span> <span class="token string">'my-single-lib-chunk.js'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">minChunks</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 모듈이 경로를 가지고 있고 경로에 "somelib"이 존재하고</span>
    <span class="token comment">// 3개의 개별 청크/엔트리에서 사용되는 경우</span>
    <span class="token comment">// 청크의 키 이름이 "my-single-lib-chunk", 파일 이름이 "my-single-lib-chunk.js"로 분할됩니다.</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>resource <span class="token operator">&#x26;&#x26;</span> <span class="token regex">/somelib/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token operator">&#x26;&#x26;</span> count <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>위에서 볼 수 있듯이 이 예제를 사용하면 함수 내의 모든 조건이 충족되는 경우에만, 하나의 라이브러리를 별도의 파일로 이동할 수 있습니다.</p> <p>이 개념은 암시적 공통 vendor 청크를 얻는데 사용할 수 있습니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">minChunks</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 이는 vendor의 import가 node_modules 디렉터리에 존재한다고 가정합니다.</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>context <span class="token operator">&#x26;&#x26;</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="manifest-file">Manifest file<a href="#manifest-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack 부트스트랩 로직을 별도의 파일로 추출하려면 <code>entry</code>로 정의되어 있지 않은 <code>name</code>에 <code>CommonsChunkPlugin</code>을 사용하세요. 자세한 내용은 <a href="/guides/caching">캐싱 가이드</a>를 참조하세요.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'manifest'</span><span class="token punctuation">,</span>
  minChunks<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="combining-implicit-common-vendor-chunks-and-manifest-file">Combining implicit common vendor chunks and manifest file<a href="#combining-implicit-common-vendor-chunks-and-manifest-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>vendor</code>와 <code>manifest</code> 청크는 <code>minChunks</code>에 대해 다른 정의를 사용하므로 플러그인을 두 번 호출해야 합니다.</p> <pre><code class="hljs language-javascript"><span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">minChunks</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> module<span class="token punctuation">.</span>context <span class="token operator">&#x26;&#x26;</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'manifest'</span><span class="token punctuation">,</span>
    minChunks<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre> <h2 id="more-examples">More Examples<a href="#more-examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><a href="https://github.com/webpack/webpack/tree/master/examples/common-chunk-and-vendor-chunk">공통 및 Vendor 청크</a></li> <li><a href="https://github.com/webpack/webpack/tree/8b888fedfaeaac6bd39168c0952cc19e6c34280a/examples/multiple-commons-chunks">다중 공통 청크</a></li> <li><a href="https://github.com/webpack/webpack/tree/8b888fedfaeaac6bd39168c0952cc19e6c34280a/examples/multiple-entry-points-commons-chunk-css-bundle">공통 청크가 있는 다중 엔트리 포인트</a></li> </ul> <h1 id="compressionwebpackplugin">CompressionWebpackPlugin<a href="#compressionwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>Prepare compressed versions of assets to serve them with Content-Encoding.</p> <h2 id="getting-started">Getting Started<a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>compression-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install compression-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> config. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> CompressionPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"compression-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="options-2">Options<a href="#options-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><a href="#test"><code>test</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Include all assets that pass test assertion</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#include"><code>include</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Include all assets matching any of these conditions</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#exclude"><code>exclude</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Exclude all assets matching any of these conditions</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#algorithm"><code>algorithm</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>gzip</code></span></td> <td align="left" data-th="Description"><span>The compression algorithm/function</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#compressionoptions"><code>compressionOptions</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Object}</code></span></td> <td align="center" data-th="Default"><span>maximum available compression level, for gzip: <code>{ level: 9 }</code></span></td> <td align="left" data-th="Description"><span>Compression options for <code>algorithm</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#threshold"><code>threshold</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>0</code></span></td> <td align="left" data-th="Description"><span>Only assets bigger than this size are processed (in bytes)</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#minratio"><code>minRatio</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>0.8</code></span></td> <td align="left" data-th="Description"><span>Only assets that compress better than this ratio are processed (<code>minRatio = Compressed Size / Original Size</code>)</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#filename"><code>filename</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>[path][base].gz</code></span></td> <td align="left" data-th="Description"><span>The target asset filename</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#deleteoriginalassets"><code>deleteOriginalAssets</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean|'keep-source-map'}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Whether to delete the original assets or not</span></td> </tr> </tbody> </table> <h3 id="test"><code>test</code><a href="#test" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Include all assets that pass test assertion.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.js(\?.*)?$/i</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include"><code>include</code><a href="#include" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Include all assets matching any of these conditions.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      include<span class="token operator">:</span> <span class="token regex">/\/includes/</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude"><code>exclude</code><a href="#exclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Exclude all assets matching any of these conditions.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      exclude<span class="token operator">:</span> <span class="token regex">/\/excludes/</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="algorithm"><code>algorithm</code><a href="#algorithm" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|Function</code> Default: <code>gzip</code></p> <p>The compression algorithm/function.</p> <blockquote> <p>ℹ️ If you use custom function for the <code>algorithm</code> option, the default value of the <code>compressionOptions</code> option is <code>{}</code>.</p> </blockquote> <h4 id="string"><code>String</code><a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The algorithm is taken from <a href="https://nodejs.org/api/zlib.html">zlib</a>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      algorithm<span class="token operator">:</span> <span class="token string">"gzip"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="function"><code>Function</code><a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Allow to specify a custom compression function.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function">algorithm</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> compressionOptions<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">compressionFunction</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> compressionOptions<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="compressionoptions"><code>compressionOptions</code><a href="#compressionoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Object</code> Default: <code>{ level: 9 }</code></p> <p>Compression options for <code>algorithm</code>.</p> <p>You can find all options here <a href="https://nodejs.org/api/zlib.html#zlib_class_options">zlib</a>.</p> <blockquote> <p>ℹ️ If you use custom function for the <code>algorithm</code> option, the default value is <code>{}</code>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      compressionOptions<span class="token operator">:</span> <span class="token punctuation">{</span> level<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="threshold"><code>threshold</code><a href="#threshold" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Number</code> Default: <code>0</code></p> <p>Only assets bigger than this size are processed. In bytes.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      threshold<span class="token operator">:</span> <span class="token number">8192</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minratio"><code>minRatio</code><a href="#minratio" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Number</code> Default: <code>0.8</code></p> <p>Only assets that compress better than this ratio are processed (<code>minRatio = Compressed Size / Original Size</code>). Example: you have <code>image.png</code> file with 1024b size, compressed version of file has 768b size, so <code>minRatio</code> equal <code>0.75</code>. In other words assets will be processed when the <code>Compressed Size / Original Size</code> value less <code>minRatio</code> value.</p> <p>You can use <code>1</code> value to process assets that are smaller than the original.</p> <p>Use a value of <code>Infinity</code> to process all assets even if they are larger than the original size or their original size is <code>0</code> bytes (useful when you are pre-zipping all assets for AWS).</p> <p>Use a value of <code>Number.MAX_SAFE_INTEGER</code> to process all assets even if they are larger than the original size, excluding assets with their original size is <code>0</code> bytes.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Compress all assets, including files with `0` bytes size</span>
      <span class="token comment">// minRatio: Infinity</span>

      <span class="token comment">// Compress all assets, excluding files with `0` bytes size</span>
      <span class="token comment">// minRatio: Number.MAX_SAFE_INTEGER</span>

      minRatio<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="filename"><code>filename</code><a href="#filename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|Function</code> Default: <code>"[path][base].gz"</code></p> <p>The target asset filename.</p> <h4 id="string-1"><code>String</code><a href="#string-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>For example we have <code>assets/images/image.png?foo=bar#hash</code>:</p> <p><code>[path]</code> is replaced with the directories to the original asset, included trailing <code>/</code> (<code>assets/images/</code>).</p> <p><code>[file]</code> is replaced with the path of original asset (<code>assets/images/image.png</code>).</p> <p><code>[base]</code> is replaced with the base (<code>[name]</code> + <code>[ext]</code>) of the original asset (<code>image.png</code>).</p> <p><code>[name]</code> is replaced with the name of the original asset (<code>image</code>).</p> <p><code>[ext]</code> is replaced with the extension of the original asset, included <code>.</code> (<code>.png</code>).</p> <p><code>[query]</code> is replaced with the query of the original asset, included <code>?</code> (<code>?foo=bar</code>).</p> <p><code>[fragment]</code> is replaced with the fragment (in the concept of URL it is called <code>hash</code>) of the original asset (<code>#hash</code>).</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][base].gz"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="function-1"><code>Function</code><a href="#function-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function">filename</span><span class="token punctuation">(</span><span class="token parameter">pathData</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// The `pathData` argument contains all placeholders - `path`/`name`/`ext`/etc</span>
        <span class="token comment">// Available properties described above, for the `String` notation</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/\.svg$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>pathData<span class="token punctuation">.</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">"assets/svg/[path][base].gz"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token string">"assets/js/[path][base].gz"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="deleteoriginalassets"><code>deleteOriginalAssets</code><a href="#deleteoriginalassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean | 'keep-source-map'</code> Default: <code>false</code></p> <p>Whether to delete the original assets or not.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>To exclude sourcemaps from compression</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      exclude<span class="token operator">:</span> <span class="token regex">/.map$/</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token string">'keep-source-map'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples-1">Examples<a href="#examples-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="using-zopfli">Using Zopfli<a href="#using-zopfli" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Prepare compressed versions of assets using <code>zopfli</code> library.</p> <blockquote> <p>ℹ️ <code>@gfx/zopfli</code> require minimum <code>8</code> version of <code>node</code>.</p> </blockquote> <p>To begin, you'll need to install <code>@gfx/zopfli</code>:</p> <pre><code class="hljs language-console">$ npm install @gfx/zopfli --save-dev
</code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> zopfli <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@gfx/zopfli"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      compressionOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        numiterations<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">algorithm</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> compressionOptions<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> zopfli<span class="token punctuation">.</span><span class="token function">gzip</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> compressionOptions<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="using-brotli">Using Brotli<a href="#using-brotli" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><a href="https://en.wikipedia.org/wiki/Brotli">Brotli</a> is a compression algorithm originally developed by Google, and offers compression superior to gzip.</p> <p>Node 10.16.0 and later has <a href="https://nodejs.org/api/zlib.html#zlib_zlib_createbrotlicompress_options">native support</a> for Brotli compression in its zlib module.</p> <p>We can take advantage of this built-in support for Brotli in Node 10.16.0 and later by just passing in the appropriate <code>algorithm</code> to the CompressionPlugin:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> zlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"zlib"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][base].br"</span><span class="token punctuation">,</span>
      algorithm<span class="token operator">:</span> <span class="token string">"brotliCompress"</span><span class="token punctuation">,</span>
      test<span class="token operator">:</span> <span class="token regex">/\.(js|css|html|svg)$/</span><span class="token punctuation">,</span>
      compressionOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        params<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token punctuation">[</span>zlib<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">BROTLI_PARAM_QUALITY</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      threshold<span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
      minRatio<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>Note</strong> Brotli’s <code>BROTLI_PARAM_QUALITY</code> option is functionally equivalent to zlib’s <code>level</code> option. You can find all Brotli’s options in <a href="https://nodejs.org/api/zlib.html#zlib_class_brotlioptions">the relevant part of the zlib module documentation</a>.</p> <h3 id="multiple-compressed-versions-of-assets-for-different-algorithm">Multiple compressed versions of assets for different algorithm<a href="#multiple-compressed-versions-of-assets-for-different-algorithm" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> zlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"zlib"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][base].gz"</span><span class="token punctuation">,</span>
      algorithm<span class="token operator">:</span> <span class="token string">"gzip"</span><span class="token punctuation">,</span>
      test<span class="token operator">:</span> <span class="token regex">/\.js$|\.css$|\.html$/</span><span class="token punctuation">,</span>
      threshold<span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
      minRatio<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][base].br"</span><span class="token punctuation">,</span>
      algorithm<span class="token operator">:</span> <span class="token string">"brotliCompress"</span><span class="token punctuation">,</span>
      test<span class="token operator">:</span> <span class="token regex">/\.(js|css|html|svg)$/</span><span class="token punctuation">,</span>
      compressionOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        params<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token punctuation">[</span>zlib<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">BROTLI_PARAM_QUALITY</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      threshold<span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
      minRatio<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing">Contributing<a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license">License<a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="contextexclusionplugin">ContextExclusionPlugin<a href="#contextexclusionplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><em>Context</em> refers to a <a href="/guides/dependency-management/#require-with-expression">require with an expression</a> such as <code>require('./locale/' + name + '.json')</code>.</p> <p>The <code>ContextExclusionPlugin</code> allows you to exclude context. Provide RegExp as an argument when initializing the Plugin to exclude all context that matches it.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ContextExclusionPlugin</span><span class="token punctuation">(</span><span class="token regex">/dont/</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="contextreplacementplugin">ContextReplacementPlugin<a href="#contextreplacementplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><em>Context</em> refers to a <a href="/guides/dependency-management/#require-with-expression">require with an expression</a> such as <code>require('./locale/' + name + '.json')</code>. When encountering such an expression, webpack infers the directory (<code>'./locale/'</code>) and a regular expression (<code>/^.*\.json$/</code>). Since the <code>name</code> is not known at compile time, webpack includes every file as module in the bundle.</p> <p>The <code>ContextReplacementPlugin</code> allows you to override the inferred information. There are various ways to configure the plugin:</p> <h2 id="usage-1">Usage<a href="#usage-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-typescript"><span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">ContextReplacementPlugin</span><span class="token punctuation">(</span>
  resourceRegExp<span class="token operator">:</span> RegExp<span class="token punctuation">,</span>
  newContentResource<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  newContentRecursive<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  newContentRegExp<span class="token operator">?</span><span class="token operator">:</span> RegExp
<span class="token punctuation">)</span></code></pre> <p>If the resource (directory) matches <code>resourceRegExp</code>, the plugin replaces the default resource, recursive flag or generated regular expression with <code>newContentResource</code>, <code>newContentRecursive</code> or <code>newContextRegExp</code> respectively. If <code>newContentResource</code> is relative, it is resolved relative to the previous resource.</p> <p>Here's a small example to restrict module usage:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ContextReplacementPlugin</span><span class="token punctuation">(</span><span class="token regex">/moment[/\\]locale$/</span><span class="token punctuation">,</span> <span class="token regex">/de|fr|hu/</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The <code>moment/locale</code> context is restricted to files matching <code>/de|fr|hu/</code>. Thus only those locales are included (see <a href="https://github.com/moment/moment/issues/2373">this issue</a> for more information).</p> <h2 id="content-callback">Content Callback<a href="#content-callback" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-typescript"><span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">ContextReplacementPlugin</span><span class="token punctuation">(</span>
  resourceRegExp<span class="token operator">:</span> RegExp<span class="token punctuation">,</span>
  <span class="token function-variable function">newContentCallback</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The <code>newContentCallback</code> function is given a <a href="/api/plugins/module-factories/"><code>data</code> object of the <code>ContextModuleFactory</code></a> and is expected to overwrite the <code>request</code> attribute of the supplied object.</p> <p>Using this callback we can dynamically redirect requests to a new location:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ContextReplacementPlugin</span><span class="token punctuation">(</span><span class="token regex">/^\.\/locale$/</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex">/\/moment\//</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    regExp<span class="token operator">:</span> <span class="token regex">/^\.\/\w+/</span><span class="token punctuation">,</span>
    request<span class="token operator">:</span> <span class="token string">'../../locale'</span><span class="token punctuation">,</span> <span class="token comment">// resolved relatively</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="other-options">Other Options<a href="#other-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The <code>newContentResource</code> and <code>newContentCreateContextMap</code> parameters are also available:</p> <pre><code class="hljs language-typescript"><span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">ContextReplacementPlugin</span><span class="token punctuation">(</span>
  resourceRegExp<span class="token operator">:</span> RegExp<span class="token punctuation">,</span>
  newContentResource<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  newContentCreateContextMap<span class="token operator">:</span> object <span class="token comment">// mapping runtime-request (userRequest) to compile-time-request (request)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>These two parameters can be used together to redirect requests in a more targeted way. The <code>newContentCreateContextMap</code> allows you to map runtime requests to compile requests in the form of an object:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">ContextReplacementPlugin</span><span class="token punctuation">(</span><span class="token regex">/selector/</span><span class="token punctuation">,</span> <span class="token string">'./folder'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token string">'./request'</span><span class="token operator">:</span> <span class="token string">'./request'</span><span class="token punctuation">,</span>
  <span class="token string">'./other-request'</span><span class="token operator">:</span> <span class="token string">'./new-request'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="copywebpackplugin">CopyWebpackPlugin<a href="#copywebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>Copies individual files or entire directories, which already exist, to the build directory.</p> <h2 id="getting-started-1">Getting Started<a href="#getting-started-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>copy-webpack-plugin</code>:</p> <pre><code class="hljs language-console">npm install copy-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> config. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"copy-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"source"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"dest"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"other"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"public"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote> <p>ℹ️ <code>copy-webpack-plugin</code> is not designed to copy files generated from the build process; rather, it is to copy files that already exist in the source tree, as part of the build process.</p> </blockquote> <blockquote> <p>ℹ️ If you want <code>webpack-dev-server</code> to write files to the output directory during development, you can force it with the <a href="https://github.com/webpack/webpack-dev-middleware#writetodisk"><code>writeToDisk</code></a> option or the <a href="https://github.com/gajus/write-file-webpack-plugin"><code>write-file-webpack-plugin</code></a>.</p> </blockquote> <blockquote> <p>ℹ️ You can get the original source filename from <a href="/api/stats/#asset-objects">Asset Objects</a>.</p> </blockquote> <h2 id="options-3">Options<a href="#options-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The plugin's signature:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"copy-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"source"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"dest"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"other"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"public"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        concurrency<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="patterns">Patterns<a href="#patterns" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><a href="#from"><code>from</code></a></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Glob or path from where we copy files.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#to"><code>to</code></a></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>compiler.options.output</code></span></td> <td align="left" data-th="Description"><span>Output path.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#context"><code>context</code></a></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>options.context || compiler.options.context</code></span></td> <td align="left" data-th="Description"><span>A path that determines how to interpret the <code>from</code> path.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#globoptions"><code>globOptions</code></a></span></td> <td align="center" data-th="Type"><span><code>{Object}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span><a href="https://github.com/sindresorhus/globby#options">Options</a> passed to the glob pattern matching library including <code>ignore</code> option.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#filter"><code>filter</code></a></span></td> <td align="center" data-th="Type"><span><code>{Function}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows to filter copied assets.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#totype"><code>toType</code></a></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Determinate what is <code>to</code> option - directory, file or template.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#force"><code>force</code></a></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Overwrites files already in <code>compilation.assets</code> (usually added by other plugins/loaders).</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#priority"><code>priority</code></a></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>0</code></span></td> <td align="left" data-th="Description"><span>Allows you to specify the copy priority.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#transform"><code>transform</code></a></span></td> <td align="center" data-th="Type"><span><code>{Object}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows to modify the file contents. Enable <code>transform</code> caching. You can use <code>{ transform: {cache: { key: 'my-cache-key' }} }</code> to invalidate the cache.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#transformall"><code>transformAll</code></a></span></td> <td align="center" data-th="Type"><span><code>{Function}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows you to modify the contents of multiple files and save the result to one file.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#noerroronmissing"><code>noErrorOnMissing</code></a></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Doesn't generate an error on missing file(s).</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#info"><code>info</code></a></span></td> <td align="center" data-th="Type"><span><code>{Object|Function}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows to add assets info.</span></td> </tr> </tbody> </table> <h4 id="from"><code>from</code><a href="#from" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>undefined</code></p> <p>Glob or path from where we copy files. Globs accept <a href="https://github.com/mrmlnc/fast-glob#pattern-syntax">fast-glob pattern-syntax</a>. Glob can only be a <code>string</code>.</p> <blockquote> <p>⚠️ Don't use directly <code>\\</code> in <code>from</code> option if it is a <code>glob</code> (i.e <code>path\to\file.ext</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"relative/path/to/file.ext"</span><span class="token punctuation">,</span>
        <span class="token string">"relative/path/to/dir"</span><span class="token punctuation">,</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"file.ext"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"dir"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"**/*"</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// If absolute path is a `glob` we replace backslashes with forward slashes, because only forward slashes can be used in the `glob`</span>
        path<span class="token punctuation">.</span>posix<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\\/g</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token string">"*.txt"</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="for-windows"><code>For windows</code><a href="#for-windows" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>If you define <code>from</code> as absolute file path or absolute folder path on <code>Windows</code>, you can use windows path segment (<code>\\</code>)</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"file.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>But you should always use forward-slashes in <code>glob</code> expressions See <a href="https://github.com/mrmlnc/fast-glob#how-to-write-patterns-on-windows">fast-glob manual</a>.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// If absolute path is a `glob` we replace backslashes with forward slashes, because only forward slashes can be used in the `glob`</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span>posix<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
            path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"fixtures"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\\/g</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"*.txt"</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The <code>context</code> behaves differently depending on what the <code>from</code> is (<code>glob</code>, <code>file</code> or <code>dir</code>). More <a href="#examples"><code>examples</code></a></p> <h4 id="to"><code>to</code><a href="#to" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|Function</code> Default: <code>compiler.options.output</code></p> <h5 id="string-2">String<a href="#string-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Output path.</p> <blockquote> <p>⚠️ Don't use directly <code>\\</code> in <code>to</code> (i.e <code>path\to\dest</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code> or <code>path</code> methods.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"relative/path/to/dest/"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"/absolute/path/to/dest/"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"[path][name].[contenthash][ext]"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="function-2">Function<a href="#function-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Allows to modify the writing path.</p> <blockquote> <p>⚠️ Don't return directly <code>\\</code> in <code>to</code> (i.e <code>path\to\newFile</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code> or <code>path</code> methods.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          <span class="token function">to</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> context<span class="token punctuation">,</span> absoluteFilename <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">"dest/newPath/[name][ext]"</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          <span class="token function">to</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> context<span class="token punctuation">,</span> absoluteFilename <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"dest/newPath/[name][ext]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="context"><code>context</code><a href="#context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>options.context|compiler.options.context</code></p> <p>A path that determines how to interpret the <code>from</code> path.</p> <blockquote> <p>⚠️ Don't use directly <code>\\</code> in <code>context</code> (i.e <code>path\to\context</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code> or <code>path</code> methods.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.txt"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          context<span class="token operator">:</span> <span class="token string">"app/"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The <code>context</code> option can be an absolute or relative path. If <code>context</code> is a relative, then it is converted to absolute based to <code>compiler.options.context</code></p> <p>Also, <code>context</code> indicates how to interpret the search results. Further, he is considered in this role.</p> <p>To determine the structure from which the found resources will be copied to the destination folder, the <code>context</code> option is used.</p> <p>If <code>from</code> is a file, then <code>context</code> is equal to the directory in which this file is located. Accordingly, the result will be only the file name.</p> <p>If <code>from</code> is a directory, then <code>context</code> is the same as <code>from</code> and is equal to the directory itself. In this case, the result will be a hierarchical structure of the found folders and files relative to the specified directory.</p> <p>If <code>from</code> is a glob, then regardless of the <code>context</code> option, the result will be the structure specified in the <code>from</code> option</p> <p>More <a href="#examples"><code>examples</code></a></p> <h4 id="globoptions"><code>globOptions</code><a href="#globoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object</code> Default: <code>undefined</code></p> <p>Allows to configute the glob pattern matching library used by the plugin. <a href="https://github.com/sindresorhus/globby#options">See the list of supported options</a> To exclude files from the selection, you should use <a href="https://github.com/mrmlnc/fast-glob#ignore">globOptions.ignore option</a></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"public/**/*"</span><span class="token punctuation">,</span>
          globOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            dot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            gitignore<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            ignore<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"**/file.*"</span><span class="token punctuation">,</span> <span class="token string">"**/ignored-directory/**"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="filter"><code>filter</code><a href="#filter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function</code> Default: <code>undefined</code></p> <blockquote> <p>ℹ️ To ignore files by path please use the <a href="#globoptions"><code>globOptions.ignore</code></a> option.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>promise<span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"public/**/*"</span><span class="token punctuation">,</span>
          <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span>promises<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> content <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>content <span class="token operator">===</span> <span class="token string">"my-custom-content"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="totype"><code>toType</code><a href="#totype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>undefined</code></p> <p>Determinate what is <code>to</code> option - directory, file or template. Sometimes it is hard to say what is <code>to</code>, example <code>path/to/dir-with.ext</code>. If you want to copy files in directory you need use <code>dir</code> option. We try to automatically determine the <code>type</code> so you most likely do not need this option.</p> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><code>'dir'</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>If <code>to</code> has no extension or ends on <code>'/'</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>'file'</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>If <code>to</code> is not a directory and is not a template</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>'template'</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>If <code>to</code> contains <a href="/configuration/output/#template-strings">a template pattern</a></span></td> </tr> </tbody> </table> <h5 id="dir"><code>'dir'</code><a href="#dir" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"path/to/file.txt"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"directory/with/extension.ext"</span><span class="token punctuation">,</span>
          toType<span class="token operator">:</span> <span class="token string">"dir"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="file"><code>'file'</code><a href="#file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"path/to/file.txt"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"file/without/extension"</span><span class="token punctuation">,</span>
          toType<span class="token operator">:</span> <span class="token string">"file"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="template"><code>'template'</code><a href="#template" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/[name].[contenthash][ext]"</span><span class="token punctuation">,</span>
          toType<span class="token operator">:</span> <span class="token string">"template"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="force"><code>force</code><a href="#force" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>false</code></p> <p>Overwrites files already in <code>compilation.assets</code> (usually added by other plugins/loaders).</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          force<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="priority"><code>priority</code><a href="#priority" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Number</code> Default: <code>0</code></p> <p>Allows to specify the priority of copying files with the same destination name. Files for patterns with higher priority will be copied later. To overwrite files, the <a href="#force"><code>force</code></a> option must be enabled.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// Copied second and will overwrite "dir_2/file.txt"</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"dir_1/file.txt"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"newfile.txt"</span><span class="token punctuation">,</span>
          force<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          priority<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// Copied first</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"dir_2/file.txt"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"newfile.txt"</span><span class="token punctuation">,</span>
          priority<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="transform"><code>transform</code><a href="#transform" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function|Object</code> Default: <code>undefined</code></p> <p>Allows to modify the file contents.</p> <h5 id="function-3"><code>Function</code><a href="#function-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          <span class="token comment">// The `content` argument is a [`Buffer`](https://nodejs.org/api/buffer.html) object, it could be converted to a `String` to be processed using `content.toString()`</span>
          <span class="token comment">// The `absoluteFrom` argument is a `String`, it is absolute path from where the file is being copied</span>
          <span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> absoluteFrom</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="object"><code>Object</code><a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><a href="#transformer"><code>transformer</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Function}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows to modify the file contents.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#cache"><code>cache</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean|Object}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Enable <code>transform</code> caching. You can use <code>transform: { cache: { key: 'my-cache-key' } }</code> to invalidate the cache.</span></td> </tr> </tbody> </table> <h6 id="transformer"><code>transformer</code><a href="#transformer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6> <p>Type: <code>Function</code> Default: <code>undefined</code></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          <span class="token comment">// The `content` argument is a [`Buffer`](https://nodejs.org/api/buffer.html) object, it could be converted to a `String` to be processed using `content.toString()`</span>
          <span class="token comment">// The `absoluteFrom` argument is a `String`, it is absolute path from where the file is being copied</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> absoluteFrom</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h6 id="cache"><code>cache</code><a href="#cache" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6> <p>Type: <code>Boolean|Object</code> Default: <code>false</code></p> <p><strong>webpack.config.js</strong></p> <p>Enable/disable and configure caching. Default path to cache directory: <code>node_modules/.cache/copy-webpack-plugin</code>.</p> <h6 id="boolean"><code>Boolean</code><a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6> <p>Enables/Disable <code>transform</code> caching.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="object-1"><code>Object</code><a href="#object-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Enables <code>transform</code> caching and setup cache directory and invalidation keys.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cache<span class="token operator">:</span> <span class="token punctuation">{</span>
              directory<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"cache-directory"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              keys<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// May be useful for invalidating cache based on external values</span>
                <span class="token comment">// For example, you can invalid cache based on `process.version` - { node: process.version }</span>
                key<span class="token operator">:</span> <span class="token string">"value"</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>You can setup invalidation keys using a function.</p> <p>Simple function:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cache<span class="token operator">:</span> <span class="token punctuation">{</span>
              directory<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"cache-directory"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function-variable function">keys</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">defaultCacheKeys<span class="token punctuation">,</span> absoluteFrom</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> keys <span class="token operator">=</span> <span class="token function">getCustomCacheInvalidationKeysSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">return</span> <span class="token punctuation">{</span>
                  <span class="token operator">...</span>defaultCacheKeys<span class="token punctuation">,</span>
                  keys<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Async function:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cache<span class="token operator">:</span> <span class="token punctuation">{</span>
              directory<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"cache-directory"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function-variable function">keys</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">defaultCacheKeys<span class="token punctuation">,</span> absoluteFrom</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> keys <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getCustomCacheInvalidationKeysAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">return</span> <span class="token punctuation">{</span>
                  <span class="token operator">...</span>defaultCacheKeys<span class="token punctuation">,</span>
                  keys<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="transformall"><code>transformAll</code><a href="#transformall" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function</code> Default: <code>undefined</code></p> <p>Allows you to modify the contents of multiple files and save the result to one file.</p> <blockquote> <p>ℹ️ The <code>to</code> option must be specified and point to a file. It is allowed to use only <code>[contenthash]</code> and <code>[fullhash]</code> template strings.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/**/*.txt"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/file.txt"</span><span class="token punctuation">,</span>
          <span class="token comment">// The `assets` argument is an assets array for the pattern.from ("src/**/*.txt")</span>
          <span class="token function">transformAll</span><span class="token punctuation">(</span><span class="token parameter">assets</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> result <span class="token operator">=</span> assets<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">accumulator<span class="token punctuation">,</span> asset</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
              <span class="token comment">// The asset content can be obtained from `asset.source` using `source` method.</span>
              <span class="token comment">// The asset content is a [`Buffer`](https://nodejs.org/api/buffer.html) object, it could be converted to a `String` to be processed using `content.toString()`</span>
              <span class="token keyword">const</span> content <span class="token operator">=</span> asset<span class="token punctuation">.</span>data<span class="token punctuation">;</span>

              accumulator <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>accumulator<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
              <span class="token keyword">return</span> accumulator<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> result<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="noerroronmissing"><code>noErrorOnMissing</code><a href="#noerroronmissing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean</code> Default: <code>false</code></p> <p>Doesn't generate an error on missing file(s);</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"missing-file.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          noErrorOnMissing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="info"><code>info</code><a href="#info" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object|Function&#x3C;Object></code> Default: <code>undefined</code></p> <p>Allows to add assets info.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"relative/path/to/file.ext"</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          <span class="token comment">// Terser skip this file for minimization</span>
          info<span class="token operator">:</span> <span class="token punctuation">{</span> minimized<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"relative/path/to/file.ext"</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          <span class="token comment">// Terser skip this file for minimization</span>
          <span class="token function-variable function">info</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> minimized<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="options-4">Options<a href="#options-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><a href="#concurrency"><code>concurrency</code></a></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>100</code></span></td> <td align="left" data-th="Description"><span>Limits the number of simultaneous requests to fs</span></td> </tr> </tbody> </table> <h4 id="concurrency"><code>concurrency</code><a href="#concurrency" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>limits the number of simultaneous requests to fs</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>patterns<span class="token punctuation">]</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span> concurrency<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="examples-2">Examples<a href="#examples-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="different-variants-from-glob-file-or-dir">Different variants <code>from</code> (<code>glob</code>, <code>file</code> or <code>dir</code>).<a href="#different-variants-from-glob-file-or-dir" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Take for example the following file structure:</p> <pre><code>src/directory-nested/deep-nested/deepnested-file.txt
src/directory-nested/nested-file.txt
</code></pre> <h5 id="from-is-a-glob">From is a Glob<a href="#from-is-a-glob" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Everything that you specify in <code>from</code> will be included in the result:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/directory-nested/**/*"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">src/directory-nested/deep-nested/deepnested-file.txt,
src/directory-nested/nested-file.txt
</code></pre> <p>If you want only content <code>src/directory-nested/</code>, you should only indicate <code>glob</code> in <code>from</code>. The path to the folder in which the search should take place, should be moved to <code>context</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"directory-nested"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">deep-nested/deepnested-file.txt,
nested-file.txt
</code></pre> <h5 id="from-is-a-dir">From is a Dir<a href="#from-is-a-dir" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"directory-nested"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">deep-nested/deepnested-file.txt,
nested-file.txt
</code></pre> <p>Technically, this is <code>**/*</code> with a predefined context equal to the specified directory.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"directory-nested"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">deep-nested/deepnested-file.txt,
nested-file.txt
</code></pre> <h5 id="from-is-a-file">From is a File<a href="#from-is-a-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>
            __dirname<span class="token punctuation">,</span>
            <span class="token string">"src"</span><span class="token punctuation">,</span>
            <span class="token string">"directory-nested"</span><span class="token punctuation">,</span>
            <span class="token string">"nested-file.txt"</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">nested-file.txt
</code></pre> <p>Technically, this is a filename with a predefined context equal to <code>path.dirname(pathToFile)</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"nested-file.txt"</span><span class="token punctuation">,</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"directory-nested"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">nested-file.txt
</code></pre> <h4 id="ignoring-files">Ignoring files<a href="#ignoring-files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span>posix<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
            path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\\/g</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"**/*"</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          globOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            ignore<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token comment">// Ignore all `txt` files</span>
              <span class="token string">"**/*.txt"</span><span class="token punctuation">,</span>
              <span class="token comment">// Ignore all files in all subdirectories</span>
              <span class="token string">"**/subdir/**"</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="flatten-copy">Flatten copy<a href="#flatten-copy" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Removes all directory references and only copies file names.</p> <blockquote> <p>⚠️ If files have the same name, the result is non-deterministic.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"[name][ext]"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">file-1.txt
file-2.txt
nested-file.txt
</code></pre> <h4 id="copy-in-new-directory">Copy in new directory<a href="#copy-in-new-directory" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// When copying files starting with a dot, must specify the toType option</span>
          <span class="token comment">// toType: "file",</span>
          <span class="token function">to</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> context<span class="token punctuation">,</span> absoluteFilename <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">newdirectory/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> absoluteFilename<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"directory"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">"newdirectory/file-1.txt",
"newdirectory/nestedfile.txt",
"newdirectory/nested/deep-nested/deepnested.txt",
"newdirectory/nested/nestedfile.txt",
</code></pre> <h4 id="skip-running-javascript-files-through-a-minimizer">Skip running JavaScript files through a minimizer<a href="#skip-running-javascript-files-through-a-minimizer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Useful if you need to simply copy <code>*.js</code> files to destination "as is" without evaluating and minimizing them using Terser.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"relative/path/to/file.ext"</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          <span class="token comment">// Terser skip this file for minimization</span>
          info<span class="token operator">:</span> <span class="token punctuation">{</span> minimized<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="yarn-workspaces-and-monorepos"><code>yarn workspaces</code> and <code>monorepos</code><a href="#yarn-workspaces-and-monorepos" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>When using <code>yarn workspaces</code> or<code> monorepos</code>, relative copy paths from node_modules can be broken due to the way packages are hoisting. To avoid this, should explicitly specify where to copy the files from using <code>require.resolve</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>
            require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>moduleName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/package.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/target</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"target"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing-1">Contributing<a href="#contributing-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license-1">License<a href="#license-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="cssminimizerwebpackplugin">CssMinimizerWebpackPlugin<a href="#cssminimizerwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>This plugin uses <a href="https://cssnano.co/">cssnano</a> to optimize and minify your CSS.</p> <p>Just like <a href="https://github.com/NMFR/optimize-css-assets-webpack-plugin">optimize-css-assets-webpack-plugin</a> but more accurate with source maps and assets using query string, allows to cache and works in parallel mode.</p> <h2 id="getting-started-2">Getting Started<a href="#getting-started-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>css-minimizer-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install css-minimizer-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> configuration. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'css-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/.s?css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the `...` syntax to extend existing minimizers (i.e. `terser-webpack-plugin`), uncomment the next line</span>
      <span class="token comment">// `...`,</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>This will enable CSS optimization only in production mode.</p> <p>If you want to run it also in development set the <code>optimization.minimize</code> option to <code>true</code>:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token comment">// [...]</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// [...]</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="note-about-source-maps">Note about source maps<a href="#note-about-source-maps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><strong>Works only with <code>source-map</code>, <code>inline-source-map</code>, <code>hidden-source-map</code> and <code>nosources-source-map</code> values for the <a href="/configuration/devtool/"><code>devtool</code></a> option.</strong></p> <p>Why? Because CSS support only these source map types.</p> <p>The plugin respect the <a href="/configuration/devtool/"><code>devtool</code></a> and using the <code>SourceMapDevToolPlugin</code> plugin. Using supported <code>devtool</code> values enable source map generation. Using <code>SourceMapDevToolPlugin</code> with enabled the <code>columns</code> option enables source map generation.</p> <p>Use source maps to map error message locations to modules (this slows down the compilation). If you use your own <code>minify</code> function please read the <code>minify</code> section for handling source maps correctly.</p> <h2 id="options-5">Options<a href="#options-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="test-1"><code>test</code><a href="#test-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> - default: <code>/\.css(\?.*)?$/i</code></p> <p>Test to match files against.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.foo\.css$/i</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include-1"><code>include</code><a href="#include-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to include.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        include<span class="token operator">:</span> <span class="token regex">/\/includes/</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-1"><code>exclude</code><a href="#exclude-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        exclude<span class="token operator">:</span> <span class="token regex">/\/excludes/</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="parallel"><code>parallel</code><a href="#parallel" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean|Number</code> Default: <code>true</code></p> <p>Use multi-process parallel running to improve the build speed. Default number of concurrent runs: <code>os.cpus().length - 1</code>.</p> <blockquote> <p>ℹ️ Parallelization can speedup your build significantly and is therefore <strong>highly recommended</strong>. If a parallelization is enabled, the packages in <code>minimizerOptions</code> must be required via strings (<code>packageName</code> or <code>require.resolve(packageName)</code>). Read more in <a href="#minimizeroptions"><code>minimizerOptions</code></a></p> </blockquote> <h4 id="boolean-1"><code>Boolean</code><a href="#boolean-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable/disable multi-process parallel running.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="number"><code>Number</code><a href="#number" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable multi-process parallel running and set number of concurrent runs.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minify"><code>minify</code><a href="#minify" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Function|Array&#x3C;Function></code> Default: <code>CssMinimizerPlugin.cssnanoMinify</code></p> <p>Allows to override default minify function. By default plugin uses <a href="https://github.com/cssnano/cssnano">cssnano</a> package. Useful for using and testing unpublished versions or forks.</p> <p>Possible options:</p> <ul> <li>CssMinimizerPlugin.cssnanoMinify</li> <li>CssMinimizerPlugin.cssoMinify</li> <li>CssMinimizerPlugin.cleanCssMinify</li> <li>async (data, inputMap, minimizerOptions) => {return {code: <code>a{color: red}</code>, map: <code>...</code>, warnings: []}}</li> </ul> <blockquote> <p>⚠️ <strong>Always use <code>require</code> inside <code>minify</code> function when <code>parallel</code> option enabled</strong>.</p> </blockquote> <h4 id="function-4"><code>Function</code><a href="#function-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          level<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              roundingPrecision<span class="token operator">:</span> <span class="token string">'all=3,px=5'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        minify<span class="token operator">:</span> CssMinimizerPlugin<span class="token punctuation">.</span>cleanCssMinify<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="array"><code>Array</code><a href="#array" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>If an array of functions is passed to the <code>minify</code> option, the <code>minimizerOptions</code> must also be an array. The function index in the <code>minify</code> array corresponds to the options object with the same index in the <code>minimizerOptions</code> array.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Options for the first function (CssMinimizerPlugin.cssnanoMinify)</span>
          <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Options for the second function (CssMinimizerPlugin.cleanCssMinify)</span>
          <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// Options for the third function</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        minify<span class="token operator">:</span> <span class="token punctuation">[</span>
          CssMinimizerPlugin<span class="token punctuation">.</span>cssnanoMinify<span class="token punctuation">,</span>
          CssMinimizerPlugin<span class="token punctuation">.</span>cleanCssMinify<span class="token punctuation">,</span>
          <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> inputMap<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// To do something</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
              code<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">a{color: red}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
              map<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">{"version": "3", ...}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
              warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minimizeroptions"><code>minimizerOptions</code><a href="#minimizeroptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Object|Array&#x3C;Object></code> Default: <code>{ preset: 'default' }</code></p> <p>Cssnano optimisations <a href="https://cssnano.co/docs/optimisations">options</a>.</p> <h4 id="object-2"><code>Object</code><a href="#object-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          preset<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">'default'</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              discardComments<span class="token operator">:</span> <span class="token punctuation">{</span> removeAll<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="array-1"><code>Array</code><a href="#array-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The function index in the <code>minify</code> array corresponds to the options object with the same index in the <code>minimizerOptions</code> array. If you use <code>minimizerOptions</code> like object, all <code>minify</code> function accept it.</p> <blockquote> <p>If a parallelization is enabled, the packages in <code>minimizerOptions</code> must be required via strings (<code>packageName</code> or <code>require.resolve(packageName)</code>). In this case, we shouldn't use <code>require</code>/<code>import</code>.</p> </blockquote> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          preset<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'cssnano-preset-simple'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="processoroptions"><code>processorOptions</code><a href="#processoroptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object</code> Default: <code>{ to: assetName, from: assetName }</code></p> <p>Allows to specify options <a href="https://postcss.org/api/#processoptions"><code>processoptions</code></a> for the cssnano. The <code>parser</code>,<code> stringifier</code> and <code>syntax</code> can be either a function or a string indicating the module that will be imported.</p> <blockquote> <p>⚠️ <strong>If a function is passed, the <code>parallel</code> option must be disabled.</strong>.</p> </blockquote> <pre><code class="hljs language-js"><span class="token keyword">import</span> sugarss <span class="token keyword">from</span> <span class="token string">'sugarss'</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          processorOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            parser<span class="token operator">:</span> sugarss<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          processorOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            parser<span class="token operator">:</span> <span class="token string">'sugarss'</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="warningsfilter"><code>warningsFilter</code><a href="#warningsfilter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Function&#x3C;(warning, file, source) -> Boolean></code> Default: <code>() => true</code></p> <p>Allow to filter css-minimizer warnings (By default <a href="https://github.com/cssnano/cssnano">cssnano</a>). Return <code>true</code> to keep the warning, a falsy value (<code>false</code>/<code>null</code>/<code>undefined</code>) otherwise.</p> <blockquote> <p>⚠️ The <code>source</code> argument will contain <code>undefined</code> if you don't use source maps.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">warningsFilter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">warning<span class="token punctuation">,</span> file<span class="token punctuation">,</span> source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/Dropping unreachable code/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>warning<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/file\.css/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/source\.css/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples-3">Examples<a href="#examples-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="use-sourcemaps">Use sourcemaps<a href="#use-sourcemaps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Don't forget to enable <code>sourceMap</code> options for all loaders.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'css-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/.s?css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'sass-loader'</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="remove-all-comments">Remove all comments<a href="#remove-all-comments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Remove all comments (including comments starting with <code>/*!</code>).</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          preset<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">'default'</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              discardComments<span class="token operator">:</span> <span class="token punctuation">{</span> removeAll<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="using-custom-minifier-csso">Using custom minifier <a href="https://github.com/css/csso">csso</a><a href="#using-custom-minifier-csso" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>By default plugin uses <a href="https://github.com/cssnano/cssnano">cssnano</a> package. It is possible to use another minify function.</p> <blockquote> <p>⚠️ <strong>Always use <code>require</code> inside <code>minify</code> function when <code>parallel</code> option enabled</strong>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> inputMap</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> csso <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'csso'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">const</span> sourcemap <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'source-map'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>filename<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">const</span> minifiedCss <span class="token operator">=</span> csso<span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            filename<span class="token operator">:</span> filename<span class="token punctuation">,</span>
            sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span>inputMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            minifiedCss<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">applySourceMap</span><span class="token punctuation">(</span>
              <span class="token keyword">new</span> <span class="token class-name">sourcemap<span class="token punctuation">.</span>SourceMapConsumer</span><span class="token punctuation">(</span>inputMap<span class="token punctuation">)</span><span class="token punctuation">,</span>
              filename
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            code<span class="token operator">:</span> minifiedCss<span class="token punctuation">.</span>css<span class="token punctuation">,</span>
            map<span class="token operator">:</span> minifiedCss<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="using-custom-minifier-clean-css">Using custom minifier <a href="https://github.com/jakubpawlowicz/clean-css">clean-css</a><a href="#using-custom-minifier-clean-css" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minify<span class="token operator">:</span> CssMinimizerPlugin<span class="token punctuation">.</span>cleanCssMinify<span class="token punctuation">,</span>
        <span class="token comment">// Uncomment this line for options</span>
        <span class="token comment">// minimizerOptions: { compatibility: 'ie11,-properties.merging' },</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="using-custom-minifier-csso-1">Using custom minifier <a href="https://github.com/css/csso">csso</a><a href="#using-custom-minifier-csso-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minify<span class="token operator">:</span> CssMinimizerPlugin<span class="token punctuation">.</span>cssoMinify<span class="token punctuation">,</span>
        <span class="token comment">// Uncomment this line for options</span>
        <span class="token comment">// minimizerOptions: { restructure: false },</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing-2">Contributing<a href="#contributing-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/css-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license-2">License<a href="#license-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/css-minimizer-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="defineplugin">DefinePlugin<a href="#defineplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>DefinePlugin</code>을 사용하면 <strong>컴파일</strong> 타임에 구성할 수 있는 전역 상수를 만들 수 있습니다. 이는 개발 빌드와 프로덕션 빌드 간에 서로 다른 동작을 하고 싶을 때 유용합니다. 개발 빌드에서 로깅을 수행하지만, 프로덕션 빌드에서는 수행하지 않는 경우 전역 상수를 사용하여 로깅을 수행할지 여부를 결정할 수 있습니다. 이것이 <code>DefinePlugin</code>가 유용한 이유입니다. 이 플러그인을 설정하고 개발 및 프로덕션 빌드 환경을 잊어버리세요.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Definitions...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="usage-2">Usage<a href="#usage-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>DefinePlugin</code>에 전달된 각 키는 <code>.</code>로 결합 된 개별 또는 다중 식별자입니다.</p> <ul> <li>값이 문자열이면 이는 코드 조각으로 사용됩니다.</li> <li>값이 문자열이 아닌 경우 문자열화 됩니다(함수를 포함해서).</li> <li>값이 객체라면 모든 키가 동일한 방식으로 정의됩니다.</li> <li>키에 <code>typeof</code> 접두사를 붙이면 typeof 호출에 대해서만 정의됩니다.</li> </ul> <p>값은 코드에 인라인 되어 중복 조건을 제거하기 위한 최소화 단계를 거치게 됩니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">PRODUCTION</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">VERSION</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'5fa3b9'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">BROWSER_SUPPORTS_HTML5</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token constant">TWO</span><span class="token operator">:</span> <span class="token string">'1+1'</span><span class="token punctuation">,</span>
  <span class="token string">'typeof window'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">'process.env.NODE_ENV'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Running App version '</span> <span class="token operator">+</span> <span class="token constant">VERSION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">BROWSER_SUPPORTS_HTML5</span><span class="token punctuation">)</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html5shiv'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p><code>process</code>의 값을 정의할 때 <code>process: { env: { NODE_ENV: JSON.stringify('production') } }</code> 보다 <code>'process.env.NODE_ENV': JSON.stringify('production')</code>를 선호합니다. 만약 후자의 방식을 사용하면 process 객체를 덮어쓰게 되므로 <code>process</code> 객체에 다른 값이 정의될 것으로 예상되는 일부 모듈과의 호환성이 깨질 수 있습니다.</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>플러그인은 텍스트에 직접 수정 작업을 진행하기 때문에 주어진 값은 반드시 문자열 자체에 <strong>실제 따옴표</strong>를 포함해야 합니다. 일반적으로 이것은 <code>'"production"'</code>과 같은 대체 따옴표를 사용하거나 <code>JSON.stringify('production')</code>를 사용하여 수행됩니다.</p></aside> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">PRODUCTION</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debug info'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">PRODUCTION</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Production log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>최소화 단계 없이 webpack을 통과하면 다음과 같은 결과가 나타납니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debug info'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Production log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>그 후 최소화 단계를 거친 결과는 다음과 같습니다.</p> <pre><code class="hljs language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Production log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="feature-flags">Feature Flags<a href="#feature-flags" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://en.wikipedia.org/wiki/Feature_toggle">기능 플래그</a>를 사용하여 프로덕션/개발 빌드 기능을 활성화/비활성화 할 수 있습니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">NICE_FEATURE</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">EXPERIMENTAL_FEATURE</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="service-urls">Service URLs<a href="#service-urls" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>프로덕션/개발 빌드에서 서로 다른 서비스 URL을 사용할 수 있습니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">SERVICE_URL</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'https://dev.example.com'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="runtime-values-via-runtimevalue">Runtime values via <code>runtimeValue</code><a href="#runtime-values-via-runtimevalue" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>function (getterFunction, [string] | true | object) => getterFunction()</code></p> <p>파일에 의존하는 값으로 변수를 정의할 수 있으며 이러한 파일이 파일 시스템에서 변경 될 때 재평가 됩니다. 이는 감시된 파일이 변경될 때 webpack이 재빌드 됨을 의미합니다.</p> <p><code>webpack.DefinePlugin.runtimeValue</code> 함수에는 두 가지 인자가 있습니다.</p> <ul> <li> <p>첫 번째 인자는 정의에 할당할 값을 반환 해야 하는 <code>function(module, key, version)</code>입니다.</p> </li> <li> <p>두 번째 인자는 감시할 파일 경로의 배열이거나 모듈을 캐시 할 수 없음으로 표시하는 <code>true</code> 플래그일 수 있습니다. 5.26.0 버전부터는 아래의 속성을 가진 객체 인자를 사용할 수 있습니다.</p> <ul> <li><code>fileDependencies?: string[]</code> 함수가 의존하는 파일 목록입니다.</li> <li><code>contextDependencies?: string[]</code> 함수가 의존하는 디렉터리 목록입니다.</li> <li><code>missingDependencies?: string[]</code> 함수가 의존하는 존재하지 않는 파일 목록입니다.</li> <li><code>buildDependencies?: string[]</code> 함수가 의존하는 빌드 의존성 목록입니다.</li> <li><code>version?: string | () => string</code> 함수의 버전입니다.</li> </ul> </li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> fileDep <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'sample.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">BUILT_AT</span><span class="token operator">:</span> webpack<span class="token punctuation">.</span>DefinePlugin<span class="token punctuation">.</span><span class="token function">runtimeValue</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span>now<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    fileDependencies<span class="token operator">:</span> <span class="token punctuation">[</span>fileDep<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><code>BUILT_AT</code>의 값은 <code>'sample.txt'</code>가 파일 시스템에서 마지막으로 업데이트된 시간입니다. (예: <code>1597953013291</code>)</p> <h1 id="dllplugin">DllPlugin<a href="#dllplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>DllPlugin</code> and <code>DllReferencePlugin</code> provide means to split bundles in a way that can drastically improve build time performance. The term "DLL" stands for Dynamic-link library which was originally introduced by Microsoft.</p> <h2 id="dllplugin-1"><code>DllPlugin</code><a href="#dllplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This plugin is used in a separate webpack configuration exclusively to create a dll-only-bundle. It creates a <code>manifest.json</code> file, which is used by the <a href="#dllreferenceplugin"><code>DllReferencePlugin</code></a> to map dependencies.</p> <ul> <li><code>context</code> (optional): context of requests in the manifest file (defaults to the webpack context.)</li> <li><code>format</code> (boolean = false): If <code>true</code>, manifest json file (output) will be formatted.</li> <li><code>name</code>: name of the exposed dll function (<a href="https://github.com/webpack/webpack/blob/master/lib/TemplatedPathPlugin.js">TemplatePaths</a>: <code>[fullhash]</code> &#x26; <code>[name]</code> )</li> <li><code>path</code>: <strong>absolute path</strong> to the manifest json file (output)</li> <li><code>entryOnly</code> (boolean = true): if <code>true</code>, only entry points will be exposed</li> <li><code>type</code>: type of the dll bundle</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>We recommend using DllPlugin only with <code>entryOnly: true</code>, otherwise tree shaking in the DLL won't work as all the exports might be used.</p></aside> <p>Creates a <code>manifest.json</code> which is written to the given <code>path</code>. It contains mappings from require and import requests to module ids. It is used by the <code>DllReferencePlugin</code>.</p> <p>Combine this plugin with <a href="/configuration/output/#outputlibrary"><code>output.library</code></a> option to expose (aka, put into the global scope) the dll function.</p> <h2 id="dllreferenceplugin"><code>DllReferencePlugin</code><a href="#dllreferenceplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This plugin is used in the primary webpack config, it references the dll-only-bundle(s) to require pre-built dependencies.</p> <ul> <li><code>context</code>: (<strong>absolute path</strong>) context of requests in the manifest (or content property)</li> <li><code>extensions</code>: Extensions used to resolve modules in the dll bundle (only used when using 'scope').</li> <li><code>manifest</code> : an object containing <code>content</code> and <code>name</code> or a string to the absolute path of the JSON manifest to be loaded upon compilation</li> <li><code>content</code> (optional): the mappings from request to module id (defaults to <code>manifest.content</code>)</li> <li><code>name</code> (optional): an identifier where the dll is exposed (defaults to <code>manifest.name</code>) (see also <a href="/configuration/externals/"><code>externals</code></a>)</li> <li><code>scope</code> (optional): prefix which is used for accessing the content of the dll</li> <li><code>sourceType</code> (optional): how the dll is exposed (<a href="/configuration/output/#outputlibrarytarget">libraryTarget</a>)</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>References a dll manifest file to map dependency names to module ids, then requires them as needed using the internal <code>__webpack_require__</code> function.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Keep the <code>name</code> consistent with <a href="/configuration/output/#outputlibrary"><code>output.library</code></a>.</p></aside> <h3 id="modes">Modes<a href="#modes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>This plugin can be used in two different modes, <em>scoped</em> and <em>mapped</em>.</p> <h4 id="scoped-mode">Scoped Mode<a href="#scoped-mode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The content of the dll is accessible under a module prefix. i.e. with <code>scope = 'xyz'</code> a file <code>abc</code> in the dll can be access via <code>require('xyz/abc')</code>.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p><a href="https://github.com/webpack/webpack/tree/master/examples/dll-user">See an example use of scope</a></p></aside> <h4 id="mapped-mode">Mapped Mode<a href="#mapped-mode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The content of the dll is mapped to the current directory. If a required file matches a file in the dll (after resolving), then the file from the dll is used instead.</p> <p>Because this happens after resolving every file in the dll bundle, the same paths must be available for the consumer of the dll bundle. i.e. if the dll contains <code>lodash</code> and the file <code>abc</code>, <code>require('lodash')</code> and <code>require('./abc')</code> will be used from the dll, rather than building them into the main bundle.</p> <h2 id="usage-3">Usage<a href="#usage-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <aside class="warning"><h6 class="warning__prefix">warning</h6><p><code>DllReferencePlugin</code> and <code>DllPlugin</code> are used in <em>separate</em> webpack configs.</p></aside> <p><strong>webpack.vendor.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'[name]_[fullhash]'</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.app.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
  manifest<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  scope<span class="token operator">:</span> <span class="token string">'xyz'</span><span class="token punctuation">,</span>
  sourceType<span class="token operator">:</span> <span class="token string">'commonjs2'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="examples-4">Examples<a href="#examples-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack/webpack/tree/master/examples/dll">Vendor</a> and <a href="https://github.com/webpack/webpack/tree/master/examples/dll-user">User</a></p> <p><em>Two separate example folders. Demonstrates scope and context.</em></p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Multiple <code>DllPlugins</code> and multiple <code>DllReferencePlugins</code>.</p></aside> <h2 id="references">References<a href="#references" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="source">Source<a href="#source" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li><a href="https://github.com/webpack/webpack/blob/master/lib/DllPlugin.js">DllPlugin source</a></li> <li><a href="https://github.com/webpack/webpack/blob/master/lib/DllReferencePlugin.js">DllReferencePlugin source</a></li> <li><a href="https://github.com/webpack/webpack/blob/master/lib/DllEntryPlugin.js">DllEntryPlugin source</a></li> <li><a href="https://github.com/webpack/webpack/blob/master/lib/DllModuleFactory.js">DllModuleFactory source</a></li> <li><a href="https://github.com/webpack/webpack/blob/master/lib/LibManifestPlugin.js">ManifestPlugin source</a></li> </ul> <h3 id="tests">Tests<a href="#tests" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li><a href="https://github.com/webpack/webpack/blob/master/test/configCases/dll-plugin/0-create-dll/webpack.config.js">DllPlugin creation test</a></li> <li><a href="https://github.com/webpack/webpack/blob/master/test/configCases/dll-plugin/2-use-dll-without-scope/webpack.config.js">DllPlugin without scope test</a></li> <li><a href="https://github.com/webpack/webpack/tree/master/test/configCases/dll-plugin">DllReferencePlugin use Dll test</a></li> </ul> <h1 id="environmentplugin">EnvironmentPlugin<a href="#environmentplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>EnvironmentPlugin</code>을 사용해 <a href="https://nodejs.org/api/process.html#process_process_env"><code>process.env</code></a> 키에 <a href="/plugins/define-plugin"><code>DefinePlugin</code></a>을 간단히 적용할 수 있습니다.</p> <h2 id="usage-4">Usage<a href="#usage-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>EnvironmentPlugin</code>은 키로 구성된 배열 혹은 키에 기본값이 매핑된 객체를 받습니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EnvironmentPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'NODE_ENV'</span><span class="token punctuation">,</span> <span class="token string">'DEBUG'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>이는 다음과 같은 <code>DefinePlugin</code> 적용과 동일합니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'process.env.NODE_ENV'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">'process.env.DEBUG'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>환경 변수를 정의하지 않으면 "<code>EnvironmentPlugin</code> - <code>${key}</code> environment variable is undefined" 오류가 발생합니다.</p></aside> <h2 id="usage-with-default-values">Usage with default values<a href="#usage-with-default-values" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>또는, <code>EnvironmentPlugin</code>은 키에 기본값을 매핑한 객체를 지원합니다. 키가 <code>process.env</code>에 정의되지 않은 경우에는 기본값을 사용합니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EnvironmentPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">NODE_ENV</span><span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span> <span class="token comment">// process.env.NODE_ENV가 정의되지 않은 경우 'development'를 사용하세요.</span>
  <span class="token constant">DEBUG</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p><code>process.env</code>의 모든 변수는 문자열이어야 합니다.</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p><a href="/plugins/define-plugin"><code>DefinePlugin</code></a>과 달리 <code>EnvironmentPlugin</code>에 의해서 기본값에 <code>JSON.stringify</code>가 적용됩니다.</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>기본값이 <code>null</code>인 경우와 <code>undefined</code>인 경우는 다르게 동작합니다. 변수가 번들링 시점에 <em>제공되어야 한다면</em> <code>undefined</code>를 사용하고, 선택 사항이라면 <code>null</code>을 사용합니다.</p></aside> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>만약 환경 변수가 번들링 시점에 발견되지 않는다면 기본값이 제공되지 않습니다. 이때 webpack은 경고 대신 오류를 띄웁니다.</p></aside> <p><strong>Example:</strong></p> <p>지금까지 구성해온 <code>EnvironmentPlugin</code> 설정을 테스트 파일 <code>entry.js</code>에 적용했을 때 어떻게 동작하는지 알아봅시다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Welcome to production'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debugging output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>빌드하기 위해 터미널에서 <code>NODE_ENV=production webpack</code>을 실행했을 때 <code>entry.js</code>는 다음과 같습니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'production'</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// &#x3C;-- NODE_ENV의 'production'이 사용됩니다.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Welcome to production'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// &#x3C;-- 기본값이 사용됩니다.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debugging output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p><code>DEBUG=false webpack</code>을 실행하면 다음과 같습니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'development'</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// &#x3C;-- 기본값이 사용됩니다.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Welcome to production'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'false'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// &#x3C;-- DEBUG의 'false'가 사용됩니다.</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debugging output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <h2 id="use-case-git-version">Use Case: Git Version<a href="#use-case-git-version" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>다음과 같은 <code>EnvironmentPlugin</code> 설정은 저장소의 마지막 커밋에 따른 <code>process.env.GIT_VERSION</code> (예시 "v5.4.0-2-g25139f57f")과 <code>process.env.GIT_AUTHOR_DATE</code> (예시 "2020-11-04T12:25:16+01:00")를 제공합니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> child_process <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">git</span><span class="token punctuation">(</span><span class="token parameter">command</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> child_process<span class="token punctuation">.</span><span class="token function">execSync</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">git </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>command<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> encoding<span class="token operator">:</span> <span class="token string">'utf8'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EnvironmentPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">GIT_VERSION</span><span class="token operator">:</span> <span class="token function">git</span><span class="token punctuation">(</span><span class="token string">'describe --always'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">GIT_AUTHOR_DATE</span><span class="token operator">:</span> <span class="token function">git</span><span class="token punctuation">(</span><span class="token string">'log -1 --format=%aI'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="dotenvplugin"><code>DotenvPlugin</code><a href="#dotenvplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>써드 파티 <a href="https://github.com/mrsteele/dotenv-webpack"><code>DotenvPlugin</code></a> (<code>dotenv-webpack</code>)을 사용해 <a href="https://www.npmjs.com/package/dotenv">dotenv 변수</a>를 사용할 수 있습니다.</p> <pre><code class="hljs language-bash">// .env
<span class="token assign-left variable">DB_HOST</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1
<span class="token assign-left variable">DB_PASS</span><span class="token operator">=</span>foobar
<span class="token assign-left variable">S3_API</span><span class="token operator">=</span>mysecretkey</code></pre> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">Dotenv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'./.env'</span><span class="token punctuation">,</span> <span class="token comment">// .env 파일 경로 (기본값)</span>
  safe<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// .env.example 로드 (기본값은 dotenv-safe를 사용하지 않는 "false")</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="eslintwebpackplugin">EslintWebpackPlugin<a href="#eslintwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="coverage"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <blockquote> <p>A ESLint plugin for webpack</p> </blockquote> <h2 id="about-plugin">About plugin<a href="#about-plugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The plugin was born with the purpose of solving some problems of the <a href="https://github.com/webpack-contrib/eslint-loader">eslint-loader</a>.</p> <table> <thead> <tr> <th></th> <th align="center">eslint-webpack-plugin</th> <th align="center">eslint-loader</th> </tr> </thead> <tbody> <tr> <td data-th=""><span>Easy configuration</span></td> <td align="center" data-th="eslint-webpack-plugin"><span>✔️</span></td> <td align="center" data-th="eslint-loader"><span>✖️</span></td> </tr> <tr> <td data-th=""><span>Generate unique an output report</span></td> <td align="center" data-th="eslint-webpack-plugin"><span>✔️</span></td> <td align="center" data-th="eslint-loader"><span>✖️</span></td> </tr> <tr> <td data-th=""><span>Using cache directly from eslint</span></td> <td align="center" data-th="eslint-webpack-plugin"><span>✔️</span></td> <td align="center" data-th="eslint-loader"><span>✖️</span></td> </tr> <tr> <td data-th=""><span>Lint only changed files</span></td> <td align="center" data-th="eslint-webpack-plugin"><span>✔️</span></td> <td align="center" data-th="eslint-loader"><span>✖️</span></td> </tr> </tbody> </table> <h2 id="migrate-from-eslint-loader">Migrate from <code>eslint-loader</code><a href="#migrate-from-eslint-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The loader <code>eslint-loader</code> will be deprecated soon, please use this plugin instead.</p> <p>Before:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'eslint-loader'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// eslint options (if necessary)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>After:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="install">Install<a href="#install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> eslint-webpack-plugin --save-dev</code></pre> <p><strong>Note</strong>: You also need to install <code>eslint >= 7</code> from npm, if you haven't already:</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> eslint --save-dev</code></pre> <h2 id="usage-5">Usage<a href="#usage-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In your webpack configuration:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="options-6">Options<a href="#options-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>You can pass <a href="https://eslint.org/docs/developer-guide/nodejs-api#%e2%97%86-new-eslint-options">eslint options</a>.</p> <p>Note that the config option you provide will be passed to the <code>ESLint</code> class. This is a different set of options than what you'd specify in <code>package.json</code> or <code>.eslintrc</code>. See the <a href="https://eslint.org/docs/developer-guide/nodejs-api#%e2%97%86-new-eslint-options">eslint docs</a> for more details.</p> <p><strong>Warning</strong>: In eslint-webpack-plugin version 1 the options were passed to the now deprecated <a href="https://eslint.org/docs/developer-guide/nodejs-api#cliengine">CLIEngine</a>.</p> <h3 id="context-1"><code>context</code><a href="#context-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>compiler.context</code></li> </ul> <p>A string indicating the root of your files.</p> <h3 id="eslintpath"><code>eslintPath</code><a href="#eslintpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>eslint</code></li> </ul> <p>Path to <code>eslint</code> instance that will be used for linting. If the <code>eslintPath</code> is a folder like a official eslint, or specify a <code>formatter</code> option. now you dont have to install <code>eslint</code>.</p> <h3 id="extensions"><code>extensions</code><a href="#extensions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>'js'</code></li> </ul> <p>Specify extensions that should be checked.</p> <h3 id="exclude-2"><code>exclude</code><a href="#exclude-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>'node_modules'</code></li> </ul> <p>Specify the files and/or directories to exclude. Must be relative to <code>options.context</code>.</p> <h3 id="files"><code>files</code><a href="#files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>null</code></li> </ul> <p>Specify directories, files, or globs. Must be relative to <code>options.context</code>. Directories are traveresed recursively looking for files matching <code>options.extensions</code>. File and glob patterns ignore <code>options.extensions</code>.</p> <h3 id="fix"><code>fix</code><a href="#fix" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will enable <a href="https://eslint.org/docs/developer-guide/nodejs-api#%e2%97%86-eslint-outputfixes-results">ESLint autofix feature</a>.</p> <p><strong>Be careful: this option will change source files.</strong></p> <h3 id="formatter"><code>formatter</code><a href="#formatter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Function</code></li> <li>Default: <code>'stylish'</code></li> </ul> <p>Accepts a function that will have one argument: an array of eslint messages (object). The function must return the output as a string. You can use official <a href="https://eslint.org/docs/user-guide/formatters/">eslint formatters</a>.</p> <h3 id="lintdirtymodulesonly"><code>lintDirtyModulesOnly</code><a href="#lintdirtymodulesonly" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Lint only changed files, skip lint on start.</p> <h3 id="threads"><code>threads</code><a href="#threads" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean | Number</code></li> <li>Default: <code>false</code></li> </ul> <p>Will run lint tasks across a thread pool. The pool size is automatic unless you specify a number.</p> <h3 id="errors-and-warning">Errors and Warning<a href="#errors-and-warning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>By default the plugin will auto adjust error reporting depending on eslint errors/warnings counts.</strong> You can still force this behavior by using <code>emitError</code> <strong>or</strong> <code>emitWarning</code> options:</p> <h4 id="emiterror"><code>emitError</code><a href="#emiterror" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>true</code></li> </ul> <p>The errors found will always be emitted, to disable set to <code>false</code>.</p> <h4 id="emitwarning"><code>emitWarning</code><a href="#emitwarning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>true</code></li> </ul> <p>The warnings found will always be emitted, to disable set to <code>false</code>.</p> <h4 id="failonerror"><code>failOnError</code><a href="#failonerror" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>true</code></li> </ul> <p>Will cause the module build to fail if there are any errors, to disable set to <code>false</code>.</p> <h4 id="failonwarning"><code>failOnWarning</code><a href="#failonwarning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will cause the module build to fail if there are any warnings, if set to <code>true</code>.</p> <h4 id="quiet"><code>quiet</code><a href="#quiet" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will process and report errors only and ignore warnings, if set to <code>true</code>.</p> <h4 id="outputreport"><code>outputReport</code><a href="#outputreport" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean|Object</code></li> <li>Default: <code>false</code></li> </ul> <p>Write the output of the errors to a file, for example a checkstyle xml file for use for reporting on Jenkins CI.</p> <p>The <code>filePath</code> is an absolute path or relative to the webpack config: <code>output.path</code>. You can pass in a different <code>formatter</code> for the output file, if none is passed in the default/configured formatter will be used.</p> <h2 id="changelog">Changelog<a href="#changelog" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/CHANGELOG.md">Changelog</a></p> <h2 id="license-3">License<a href="#license-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="evalsourcemapdevtoolplugin">EvalSourceMapDevToolPlugin<a href="#evalsourcemapdevtoolplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>This plugin enables more fine grained control of source map generation. It is also enabled automatically by certain settings of the <a href="/configuration/devtool/"><code>devtool</code></a> configuration option.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EvalSourceMapDevToolPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options-7">Options<a href="#options-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following options are supported:</p> <ul> <li><code>test</code> (<code>string|RegExp|array</code>): Include source maps for modules based on their extension (defaults to <code>.js</code> and <code>.css</code>).</li> <li><code>include</code> (<code>string|RegExp|array</code>): Include source maps for module paths that match the given value.</li> <li><code>exclude</code> (<code>string|RegExp|array</code>): Exclude modules that match the given value from source map generation.</li> <li><code>append</code> (<code>string</code>): Appends the given value to the original asset. Usually the <code>#sourceMappingURL</code> comment. <code>[url]</code> is replaced with a URL to the source map file. <code>false</code> disables the appending.</li> <li><code>moduleFilenameTemplate</code> (<code>string</code>): See <a href="/configuration/output/#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>.</li> <li><code>module</code> (<code>boolean</code>): Indicates whether loaders should generate source maps (defaults to <code>true</code>).</li> <li><code>columns</code> (<code>boolean</code>): Indicates whether column mappings should be used (defaults to <code>true</code>).</li> <li><code>protocol</code> (<code>string</code>): Allows user to override default protocol (<code>webpack-internal://</code>)</li> </ul> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Setting <code>module</code> and/or <code>columns</code> to <code>false</code> will yield less accurate source maps but will also improve compilation performance significantly.</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>If you want to use a custom configuration for this plugin in <a href="/configuration/mode/#mode-development">development mode</a>, make sure to disable the default one. I.e. set <code>devtool: false</code>.</p></aside> <h2 id="examples-5">Examples<a href="#examples-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following examples demonstrate some common use cases for this plugin.</p> <h3 id="basic-use-case">Basic Use Case<a href="#basic-use-case" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You can use the following code to replace the configuration option <code>devtool: eval-source-map</code> with an equivalent custom plugin configuration:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  devtool<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EvalSourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-vendor-maps">Exclude Vendor Maps<a href="#exclude-vendor-maps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following code would exclude source maps for any modules in the <code>vendor.js</code> bundle:</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EvalSourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vendor.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="hashedmoduleidsplugin">HashedModuleIdsPlugin<a href="#hashedmoduleidsplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>This plugin will cause hashes to be based on the relative path of the module, generating a four character string as the module id. Suggested for use in production.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>HashedModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Options...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options-8">Options<a href="#options-8" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This plugin supports the following options:</p> <ul> <li><code>context</code>: The context directory (<strong>absolute path</strong>) for creating names.</li> <li><code>hashFunction</code>: The hashing algorithm to use, defaults to <code>'md4'</code>. All functions from Node.JS' <a href="https://nodejs.org/api/crypto.html#crypto_crypto_createhash_algorithm_options"><code>crypto.createHash</code></a> are supported.</li> <li><code>hashDigest</code>: The encoding to use when generating the hash, defaults to <code>'base64'</code>. All encodings from Node.JS' <a href="https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding"><code>hash.digest</code></a> are supported.</li> <li><code>hashDigestLength</code>: The prefix length of the hash digest to use, defaults to <code>4</code>. Note that some generated ids might be longer than specified here, to avoid module id collisions.</li> </ul> <h2 id="usage-6">Usage<a href="#usage-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Here's an example of how this plugin might be used:</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>HashedModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
  hashFunction<span class="token operator">:</span> <span class="token string">'sha256'</span><span class="token punctuation">,</span>
  hashDigest<span class="token operator">:</span> <span class="token string">'hex'</span><span class="token punctuation">,</span>
  hashDigestLength<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="hotmodulereplacementplugin">HotModuleReplacementPlugin<a href="#hotmodulereplacementplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Enables <a href="/concepts/hot-module-replacement">Hot Module Replacement</a>, otherwise known as HMR.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>HMR should <strong>never</strong> be used in production.</p></aside> <h2 id="basic-usage">Basic Usage<a href="#basic-usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Enabling HMR is straightforward and in most cases no options are necessary.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Options...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="htmlminimizerwebpackplugin">HtmlMinimizerWebpackPlugin<a href="#htmlminimizerwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>This plugin uses <a href="https://github.com/terser/html-minifier-terser">html-minifier-terser</a> to optimize and minify your HTML.</p> <h2 id="getting-started-3">Getting Started<a href="#getting-started-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>html-minimizer-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install html-minimizer-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> configuration. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> HtmlMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"html-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"copy-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.html$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset/resource"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"./src/*.html"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the `...` syntax to extend existing minimizers (i.e. `terser-webpack-plugin`), uncomment the next line</span>
      <span class="token comment">// `...`</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>This will enable HTML optimization only in production mode. If you want to run it also in development set the <code>optimization.minimize</code> option to <code>true</code>.</p> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="options-9">Options<a href="#options-9" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="test-2"><code>test</code><a href="#test-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> - default: <code>/\.html(\?.*)?$/i</code></p> <p>Test to match files against.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.foo\.html/i</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include-2"><code>include</code><a href="#include-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to include.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        include<span class="token operator">:</span> <span class="token regex">/\/includes/</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-3"><code>exclude</code><a href="#exclude-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        exclude<span class="token operator">:</span> <span class="token regex">/\/excludes/</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="parallel-1"><code>parallel</code><a href="#parallel-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean|Number</code> Default: <code>true</code></p> <p>Use multi-process parallel running to improve the build speed. Default number of concurrent runs: <code>os.cpus().length - 1</code>.</p> <blockquote> <p>ℹ️ Parallelization can speedup your build significantly and is therefore <strong>highly recommended</strong>.</p> </blockquote> <h4 id="boolean-2"><code>Boolean</code><a href="#boolean-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable/disable multi-process parallel running.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="number-1"><code>Number</code><a href="#number-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable multi-process parallel running and set number of concurrent runs.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minify-1"><code>minify</code><a href="#minify-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Function|Array&#x3C;Function></code> Default: <code>HtmlMinimizerPlugin.htmlMinifierTerser</code></p> <p>Allows you to override default minify function. By default plugin uses <a href="https://github.com/terser/html-minifier-terser">html-minifier-terser</a> package. Useful for using and testing unpublished versions or forks.</p> <blockquote> <p>⚠️ <strong>Always use <code>require</code> inside <code>minify</code> function when <code>parallel</code> option enabled</strong>.</p> </blockquote> <h4 id="function-5"><code>Function</code><a href="#function-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          collapseWhitespace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> htmlMinifier <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"html-minifier-terser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>filename<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            code<span class="token operator">:</span> htmlMinifier<span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> minimizerOptions<span class="token punctuation">)</span><span class="token punctuation">,</span>
            warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="array-2"><code>Array</code><a href="#array-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>If an array of functions is passed to the <code>minify</code> option, the <code>minimizerOptions</code> can be an array or an object. If <code>minimizerOptions</code> is array, the function index in the <code>minify</code> array corresponds to the options object with the same index in the <code>minimizerOptions</code> array. If you use <code>minimizerOptions</code> like object, all <code>minify</code> function accept it.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// Options for the first function (HtmlMinimizerPlugin.htmlMinifierTerser)</span>
          <span class="token punctuation">{</span>
            collapseWhitespace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// Options for the second function</span>
          <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        minify<span class="token operator">:</span> <span class="token punctuation">[</span>
          HtmlMinimizerPlugin<span class="token punctuation">.</span>htmlMinifierTerser<span class="token punctuation">,</span>
          <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>filename<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// To do something</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
              code<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">optimised code</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
              warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minimizeroptions-1"><code>minimizerOptions</code><a href="#minimizeroptions-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Object|Array&#x3C;Object></code> Default: <code>{ caseSensitive: true, collapseWhitespace: true, conservativeCollapse: true, keepClosingSlash: true, minifyCSS: true, minifyJS: true, removeComments: true, removeScriptTypeAttributes: true, removeStyleLinkTypeAttributes: true, }</code></p> <p><code>Html-minifier-terser</code> optimisations <a href="https://github.com/terser/html-minifier-terser#options-quick-reference">options</a>.</p> <h4 id="object-3"><code>Object</code><a href="#object-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          collapseWhitespace<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="array-3"><code>Array</code><a href="#array-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The function index in the <code>minify</code> array corresponds to the options object with the same index in the <code>minimizerOptions</code> array. If you use <code>minimizerOptions</code> like object, all <code>minify</code> function accept it.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// Options for the first function (HtmlMinimizerPlugin.htmlMinifierTerser)</span>
          <span class="token punctuation">{</span>
            collapseWhitespace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// Options for the second function</span>
          <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        minify<span class="token operator">:</span> <span class="token punctuation">[</span>
          HtmlMinimizerPlugin<span class="token punctuation">.</span>htmlMinifierTerser<span class="token punctuation">,</span>
          <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>filename<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// To do something</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
              code<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">optimised code</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
              warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing-3">Contributing<a href="#contributing-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/html-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license-4">License<a href="#license-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/html-minimizer-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="htmlwebpackplugin">HtmlWebpackPlugin<a href="#htmlwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://github.com/jantimon/html-webpack-plugin"><code>HtmlWebpackPlugin</code></a>은 webpack 번들을 제공하는 HTML 파일 생성을 단순화합니다. 이 플러그인은 매번 컴파일에 변경되는 해시로 된 파일 이름을 가진 webpack 번들에 특히 유용합니다. 플러그인이 HTML 파일을 생성하도록 하거나 <a href="https://lodash.com/docs#template">lodash 템플릿</a>을 사용하여 나만의 템플릿을 제공하거나 나만의 <a href="/loaders">로더</a>를 사용할 수 있습니다.</p> <h2 id="installation">Installation<a href="#installation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev html-webpack-plugin</code></pre> <h2 id="basic-usage-1">Basic Usage<a href="#basic-usage-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>플러그인은 <code>script</code> 태그를 사용하여 body에 모든 webpack 번들을 포함하는 HTML5 파일을 생성합니다. 적용은 아래와 같이 webpack에 플러그인을 추가하기만 하면 됩니다.</p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'index.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'index_bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>그러면 아래의 내용을 포함하는 <code>dist/index.html</code> 파일이 생성됩니다.</p> <pre><code class="hljs language-html"><span class="token doctype"><span class="token punctuation">&#x3C;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>webpack App<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index_bundle.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>html</span><span class="token punctuation">></span></span></code></pre> <p>Webpack 엔트리 포인트가 여러 개인 경우, 생성된 HTML에 모두 <code>&#x3C;script></code> 태그로 포함됩니다.</p> <p>만약 webpack 출력에 CSS 애셋이 있다면(<a href="/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a>으로 추출된 CSS 와 같이) 이들은 생성된 HTML 파일의 <code>&#x3C;head></code> 요소 안에 <code>&#x3C;link></code> 태그로 포함됩니다.</p> <h2 id="configuration">Configuration<a href="#configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>모든 설정 옵션은 <a href="https://github.com/jantimon/html-webpack-plugin#options">plugin 문서</a>를 참고하세요.</p> <h2 id="third-party-addons">Third party addons<a href="#third-party-addons" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>플러그인은 추가 기능을 지원합니다. 목록은 <a href="https://github.com/jantimon/html-webpack-plugin#plugins">해당 문서</a>를 참고하세요.</p> <h1 id="ignoreplugin">IgnorePlugin<a href="#ignoreplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>IgnorePlugin prevents the generation of modules for <code>import</code> or <code>require</code> calls matching the regular expressions or filter functions:</p> <h2 id="using-regular-expressions">Using regular expressions<a href="#using-regular-expressions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>resourceRegExp</code>: A RegExp to test the resource against.</li> <li><code>contextRegExp</code>: (optional) A RegExp to test the context (directory) against.</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> resourceRegExp<span class="token punctuation">,</span> contextRegExp <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Supported in webpack 4 and earlier, unsupported in webpack 5:</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span>resourceRegExp<span class="token punctuation">,</span> <span class="token punctuation">[</span>contextRegExp<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="using-filter-functions">Using filter functions<a href="#using-filter-functions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>checkResource (resource, context)</code> A Filter function that receives <code>resource</code> and <code>context</code> as arguments, must return boolean.</li> <li><code>checkContext (context)</code> was <strong>removed in webpack 5</strong> as <code>checkResource</code> already gets context.</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">checkResource</span><span class="token punctuation">(</span><span class="token parameter">resource</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do something with resource</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token operator">|</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="example-of-ignoring-moment-locales">Example of ignoring Moment Locales<a href="#example-of-ignoring-moment-locales" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>As of <a href="https://momentjs.com/">moment</a> 2.18, all locales are bundled together with the core library (see <a href="https://github.com/moment/moment/issues/2373">this GitHub issue</a>).</p> <p>The <code>resourceRegExp</code> parameter passed to <code>IgnorePlugin</code> is not tested against the resolved file names or absolute module names being imported or required, but rather against the <em>string</em> passed to <code>require</code> or <code>import</code> <em>within the source code where the import is taking place</em>. For example, if you're trying to exclude <code>node_modules/moment/locale/*.js</code>, this won't work:</p> <pre><code class="hljs language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">new webpack.IgnorePlugin({ resourceRegExp: /moment\/locale\// });</span></span></code></pre> <p>Rather, because <code>moment</code> imports with this code:</p> <pre><code class="hljs language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./locale/'</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>...your first regexp must match that <code>'./locale/'</code> string. The second <code>contextRegExp</code> parameter is then used to select specific directories from where the import took place. The following will cause those locale files to be ignored:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  resourceRegExp<span class="token operator">:</span> <span class="token regex">/^\.\/locale$/</span><span class="token punctuation">,</span>
  contextRegExp<span class="token operator">:</span> <span class="token regex">/moment$/</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>...which means "any require statement matching <code>'./locale'</code> from any directories ending with <code>'moment'</code> will be ignored.</p> <h1 id="imageminimizerwebpackplugin">ImageMinimizerWebpackPlugin<a href="#imageminimizerwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Plugin and Loader for <a href="http://webpack.js.org/">webpack</a> to optimize (compress) all images using <a href="https://github.com/imagemin/imagemin">imagemin</a>. Do not worry about size of images, now they are always optimized/compressed.</p> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <h2 id="getting-started-4">Getting Started<a href="#getting-started-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This plugin can use 2 tools to compress images:</p> <ul> <li><a href="https://github.com/imagemin/imagemin"><code>imagemin</code></a> - optimize your images by default, since it is stable and works with all types of images</li> <li><a href="https://github.com/GoogleChromeLabs/squoosh/tree/dev/libsquoosh"><code>squoosh</code></a> - while working in experimental mode with <code>.jpg</code>, <code>.jpeg</code>, <code>.png</code>, <code>.webp</code>, <code>.avif</code> file types.</li> </ul> <p>To begin, you'll need to install <code>image-minimizer-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install image-minimizer-webpack-plugin --save-dev
</code></pre> <p>Images can be optimized in two modes:</p> <ol> <li><a href="https://en.wikipedia.org/wiki/Lossless_compression">Lossless</a> (without loss of quality).</li> <li><a href="https://en.wikipedia.org/wiki/Lossy_compression">Lossy</a> (with loss of quality).</li> </ol> <h3 id="optimize-with-imagemin">Optimize with <a href="https://github.com/imagemin/imagemin">imagemin</a><a href="#optimize-with-imagemin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Note:</p> <ul> <li><a href="https://github.com/imagemin/imagemin-mozjpeg">imagemin-mozjpeg</a> can be configured in lossless and lossy mode.</li> <li><a href="https://github.com/imagemin/imagemin-svgo">imagemin-svgo</a> can be configured in lossless and lossy mode.</li> </ul> <p>Explore the options to get the best result for you.</p> <p><strong>Recommended imagemin plugins for lossless optimization</strong></p> <pre><code class="hljs language-shell"><span class="token function">npm</span> <span class="token function">install</span> imagemin-gifsicle imagemin-jpegtran imagemin-optipng imagemin-svgo --save-dev</code></pre> <p><strong>Recommended imagemin plugins for lossy optimization</strong></p> <pre><code class="hljs language-shell"><span class="token function">npm</span> <span class="token function">install</span> imagemin-gifsicle imagemin-mozjpeg imagemin-pngquant imagemin-svgo --save-dev</code></pre> <p>For <code>imagemin-svgo</code> v9.0.0+ need use svgo <a href="https://github.com/svg/svgo#configuration">configuration</a></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> extendDefaultPlugins <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"svgo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// Lossless optimization with custom option</span>
        <span class="token comment">// Feel free to experiment with options for better result for you</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> interlaced<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span><span class="token string">"jpegtran"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> progressive<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span><span class="token string">"optipng"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> optimizationLevel<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token comment">// Svgo configuration here https://github.com/svg/svgo#configuration</span>
          <span class="token punctuation">[</span>
            <span class="token string">"svgo"</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              plugins<span class="token operator">:</span> <span class="token function">extendDefaultPlugins</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                  name<span class="token operator">:</span> <span class="token string">"removeViewBox"</span><span class="token punctuation">,</span>
                  active<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  name<span class="token operator">:</span> <span class="token string">"addAttributesToSVGElement"</span><span class="token punctuation">,</span>
                  params<span class="token operator">:</span> <span class="token punctuation">{</span>
                    attributes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> xmlns<span class="token operator">:</span> <span class="token string">"http://www.w3.org/2000/svg"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="optimize-with-squoosh">Optimize with <a href="https://github.com/GoogleChromeLabs/squoosh/tree/dev/libsquoosh"><code>squoosh</code></a><a href="#optimize-with-squoosh" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-console">$ npm install @squoosh/lib --save-dev
</code></pre> <p><strong>Recommended <code>@squoosh/lib</code> options for lossy optimization</strong></p> <p>For lossy optimization we recommend using the default settings <code>@squoosh/lib</code>. The default values and supported file types for each option can be found in the <code>[codecs.ts]</code>(<a href="https://github.com/GoogleChromeLabs/squoosh/blob/dev/libsquoosh/src/codecs.ts">https://github.com/GoogleChromeLabs/squoosh/blob/dev/libsquoosh/src/codecs.ts</a>) file under <code>codecs</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minify<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>squooshMinify<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>Recommended <code>squoosh</code> options for lossless optimization</strong></p> <p>For lossless optimization we recommend using the options listed below in <code>minimizerOptions.encodeOptions</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minify<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>squooshMinify<span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        encodeOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          mozjpeg<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// That setting might be close to lossless, but it’s not guaranteed</span>
            <span class="token comment">// https://github.com/GoogleChromeLabs/squoosh/issues/85</span>
            quality<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          webp<span class="token operator">:</span> <span class="token punctuation">{</span>
            lossless<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          avif<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// https://github.com/GoogleChromeLabs/squoosh/blob/dev/codecs/avif/enc/README.md</span>
            cqLevel<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote> <p>ℹ️ If you want to use <code>loader</code> or <code>plugin</code> standalone see sections below, but this is not recommended.</p> </blockquote> <h3 id="standalone-loader">Standalone Loader<a href="#standalone-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><a href="/concepts/loaders/">Documentation: Using loaders</a></p> <p>In your <code>webpack.config.js</code>, add the <code>ImageMinimizerPlugin.loader</code> and specify the <a href="/guides/asset-modules/">asset modules options</a>:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              severityError<span class="token operator">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span> <span class="token comment">// Ignore errors on corrupted images</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="standalone-plugin">Standalone Plugin<a href="#standalone-plugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><a href="/concepts/plugins/">Documentation: Using plugins</a></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// Make sure that the plugin placed after any plugins that added images</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      severityError<span class="token operator">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span> <span class="token comment">// Ignore errors on corrupted images</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// Disable `loader`</span>
      loader<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="options-10">Options<a href="#options-10" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="plugin-options">Plugin Options<a href="#plugin-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><code>test</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String\/RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>/.(jpe?g|png|gif|tif|webp|svg|avif)$/i</code></span></td> <td align="left" data-th="Description"><span>Test to match files against</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>include</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String\/RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Files to <code>include</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>exclude</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String\/RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Files to <code>exclude</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>filter</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Function}</code></span></td> <td align="center" data-th="Default"><span><code>() => true</code></span></td> <td align="left" data-th="Description"><span>Allows filtering of images for optimization</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>severityError</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>'error'</code></span></td> <td align="left" data-th="Description"><span>Allows to choose how errors are displayed</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>minify</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Function | Array&#x3C;Function>}</code></span></td> <td align="center" data-th="Default"><span><code>ImageMinimizerPlugin.imageminMinify</code></span></td> <td align="left" data-th="Description"><span>Allows to override default minify function</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>minimizerOptions</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Object|Array&#x3C;Object>}</code></span></td> <td align="center" data-th="Default"><span><code>{ plugins: [] }</code></span></td> <td align="left" data-th="Description"><span>Options for <code>imagemin</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>loader</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>true</code></span></td> <td align="left" data-th="Description"><span>Automatically adding <code>imagemin-loader</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>maxConcurrency</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>Math.max(1, os.cpus().length - 1)</code></span></td> <td align="left" data-th="Description"><span>Maximum number of concurrency optimization processes in one time</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>filename</code></strong></span></td> <td align="center" data-th="Type"><span><code>{string|Function}</code></span></td> <td align="center" data-th="Default"><span><code>'[path][name][ext]'</code></span></td> <td align="left" data-th="Description"><span>Allows to set the filename for the generated asset. Useful for converting to a <code>webp</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>deleteOriginalAssets</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Allows to delete the original asset. Useful for converting to a <code>webp</code> and remove original assets</span></td> </tr> </tbody> </table> <h4 id="test-3"><code>test</code><a href="#test-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>/\.(jpe?g\|png\|gif\|tif\|webp\|svg\|avif)\$/i</code></p> <p>Test to match files against.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="include-3"><code>include</code><a href="#include-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to include.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      include<span class="token operator">:</span> <span class="token regex">/\/includes/</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="exclude-4"><code>exclude</code><a href="#exclude-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      exclude<span class="token operator">:</span> <span class="token regex">/\/excludes/</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="filter-1"><code>filter</code><a href="#filter-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function</code> Default: <code>() => true</code></p> <p>Allows filtering of images for optimization.</p> <p>Return <code>true</code> to optimize the image, <code>false</code> otherwise.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> sourcePath</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// The `source` argument is a `Buffer` of source file</span>
        <span class="token comment">// The `sourcePath` argument is an absolute path to source</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>byteLength <span class="token operator">&#x3C;</span> <span class="token number">8192</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="severityerror"><code>severityError</code><a href="#severityerror" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>'error'</code></p> <p>Allows to choose how errors are displayed.</p> <p>Сan have the following values:</p> <ul> <li><code>'off'</code> - suppresses errors and warnings</li> <li><code>'warning'</code> - emit warnings instead errors</li> <li><code>'error'</code> - emit errors</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      severityError<span class="token operator">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="minify-2"><code>minify</code><a href="#minify-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function|Array&#x3C;Function></code> Default: <code>ImageMinimizerPlugin.imageminMinify</code></p> <p>Allows to override default minify function. By default plugin uses <a href="https://github.com/imagemin/imagemin">imagemin</a> package. Useful for using and testing unpublished versions or forks.</p> <p>Аvailable minifiers:</p> <ul> <li>ImageMinimizerPlugin.imageminMinify</li> <li>ImageMinimizerPlugin.squooshMinify</li> </ul> <h5 id="function-6"><code>Function</code><a href="#function-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">let</span> result<span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">minifyAndReturnBuffer</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// Return original input if there was an error</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> input<span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span>error<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> result<span class="token punctuation">,</span> warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="array-4"><code>Array</code><a href="#array-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>If an array of functions is passed to the <code>minify</code> option, the <code>minimizerOptions</code> can be an array or an object. If <code>minimizerOptions</code> is array, the function index in the <code>minify</code> array corresponds to the options object with the same index in the <code>minimizerOptions</code> array. If you use <code>minimizerOptions</code> like object, all <code>minify</code> function accept it.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minify<span class="token operator">:</span> <span class="token punctuation">[</span>
        ImageMinimizerPlugin<span class="token punctuation">.</span>imageminMinify<span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">let</span> result<span class="token punctuation">;</span>

          <span class="token keyword">try</span> <span class="token punctuation">{</span>
            result <span class="token operator">=</span> <span class="token function">minifyAndReturnBuffer</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Return original input if there was an error</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> input<span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span>error<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> result<span class="token punctuation">,</span> warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// Options for the first function (ImageMinimizerPlugin.imageminMinify)</span>
        <span class="token punctuation">{</span>
          plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">,</span> <span class="token string">"mozjpeg"</span><span class="token punctuation">,</span> <span class="token string">"pngquant"</span><span class="token punctuation">,</span> <span class="token string">"svgo"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// Options for the second function</span>
        <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="minimizeroptions-2"><code>minimizerOptions</code><a href="#minimizeroptions-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object|Array&#x3C;Object></code> Default: <code>{ plugins: [] }</code></p> <p>Options for <code>minify</code> functions. <a href="https://github.com/imagemin/imagemin"><code>imagemin</code></a> is default minify function.</p> <p>More information and examples <a href="https://github.com/imagemin/imagemin">here</a>.</p> <h5 id="object-4"><code>Object</code><a href="#object-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// Name</span>
          <span class="token string">"gifsicle"</span><span class="token punctuation">,</span>
          <span class="token comment">// Name with options</span>
          <span class="token punctuation">[</span><span class="token string">"mozjpeg"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> quality<span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token comment">// Full package name</span>
          <span class="token punctuation">[</span>
            <span class="token string">"imagemin-svgo"</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                  removeViewBox<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span>
            <span class="token comment">// Custom package name</span>
            <span class="token string">"nonstandard-imagemin-package-name"</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> myOptions<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="array-5"><code>Array</code><a href="#array-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>The function index in the <code>minify</code> array corresponds to the options object with the same index in the <code>minimizerOptions</code> array. If you use <code>minimizerOptions</code> like object, all <code>minify</code> function accept it.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minify<span class="token operator">:</span> <span class="token punctuation">[</span>
        ImageMinimizerPlugin<span class="token punctuation">.</span>imageminMinify<span class="token punctuation">,</span>
        <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">let</span> result<span class="token punctuation">;</span>

          <span class="token keyword">try</span> <span class="token punctuation">{</span>
            result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">minifyAndReturnBuffer</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Return original input if there was an error</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> input<span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span>error<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> result<span class="token punctuation">,</span> warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// Options for the first function (ImageMinimizerPlugin.imageminMinify)</span>
        <span class="token punctuation">{</span>
          plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">,</span> <span class="token string">"mozjpeg"</span><span class="token punctuation">,</span> <span class="token string">"pngquant"</span><span class="token punctuation">,</span> <span class="token string">"svgo"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// Options for the second function</span>
        <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="loader"><code>loader</code><a href="#loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>true</code></p> <p>Automatically adding <code>imagemin-loader</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      loader<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="maxconcurrency"><code>maxConcurrency</code><a href="#maxconcurrency" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Number</code> Default: <code>Math.max(1, os.cpus().length - 1)</code></p> <p>Maximum number of concurrency optimization processes in one time.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxConcurrency<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="filename-1"><code>filename</code><a href="#filename-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|Function</code> Default: <code>'[path][name][ext]'</code></p> <p>Allows to set the filename for the generated asset. Useful for converting to a <code>webp</code>. Supported values see in <a href="/configuration/output/#template-strings"><code>webpack template strings</code></a>, <code>File-level</code> section.</p> <h5 id="string-3"><code>String</code><a href="#string-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// Images are converted to `webp` and the original assets have been kept</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.(png)$/i</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][name].webp"</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"imagemin-webp"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="function-7"><code>Function</code><a href="#function-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// Images are converted to `webp` and the original assets have been kept</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.(png)$/i</span><span class="token punctuation">,</span>
      <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pathData<span class="token punctuation">,</span> assetInfo</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/imageLg/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>pathData<span class="token punctuation">.</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">"./bigImages/[path][name].webp"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token string">"[path][name].webp"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"imagemin-webp"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="converting-to-webp-using-imageminimizerpluginsquooshminify">Converting to <code>webp</code> using <code>ImageMinimizerPlugin.squooshMinify</code><a href="#converting-to-webp-using-imageminimizerpluginsquooshminify" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
const defaultTargets = {
  ".png": "oxipng",
  ".jpg": "mozjpeg",
  ".jpeg": "mozjpeg",
  ".jxl": "jxl",
  ".webp": "webp",
  ".avif": "avif",
};
*/</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// Images are converted to `webp` and the original assets have been kept</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.(png)$/i</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][name].webp"</span><span class="token punctuation">,</span>
      minify<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>squooshMinify<span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        targets<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string">".png"</span><span class="token operator">:</span> <span class="token string">"webp"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="deleteoriginalassets-1"><code>deleteOriginalAssets</code><a href="#deleteoriginalassets-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>false</code></p> <p>Allows to remove original assets. Useful for converting to a <code>webp</code> and remove original assets</p> <blockquote> <p>i Doesn't make sense if you haven't changed the original value of the <code>filename</code> option</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// Images are converted to `webp` and the original assets have been removed</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.(png)$/i</span><span class="token punctuation">,</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][name].webp"</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"imagemin-webp"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>To generate and compress the original assets:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// And the original assets will be compressed</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.(png)$/i</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"pngquant"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// Images are converted to `webp` and the original assets have been removed</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex">/\.(png)$/i</span><span class="token punctuation">,</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][name].webp"</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"imagemin-webp"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="loader-options">Loader Options<a href="#loader-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><code>filter</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Function}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows filtering of images for optimization</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>severityError</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>'error'</code></span></td> <td align="left" data-th="Description"><span>Allows to choose how errors are displayed</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>minify</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Function | Array&#x3C;Function>}</code></span></td> <td align="center" data-th="Default"><span><code>ImageMinimizerPlugin.imageminMinify</code></span></td> <td align="left" data-th="Description"><span>Allows to override default minify function</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>minimizerOptions</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Object|Array&#x3C;Object>}</code></span></td> <td align="center" data-th="Default"><span><code>{ plugins: [] }</code></span></td> <td align="left" data-th="Description"><span>Options for <code>imagemin</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>filename</code></strong></span></td> <td align="center" data-th="Type"><span><code>{string|Function}</code></span></td> <td align="center" data-th="Default"><span><code>'[path][name][ext]'</code></span></td> <td align="left" data-th="Description"><span>Allows to set the filename for the generated asset. Useful for converting to a <code>webp</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>deleteOriginalAssets</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Allows to delete the original asset. Useful for converting to a <code>webp</code> and remove original assets</span></td> </tr> </tbody> </table> <h4 id="filter-2"><code>filter</code><a href="#filter-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function</code> Default: <code>() => true</code></p> <p>Allows filtering of images for optimization.</p> <p>Return <code>true</code> to optimize the image, <code>false</code> otherwise.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> sourcePath</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token comment">// The `source` argument is a `Buffer` of source file</span>
                <span class="token comment">// The `sourcePath` argument is an absolute path to source</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>byteLength <span class="token operator">&#x3C;</span> <span class="token number">8192</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="severityerror-1"><code>severityError</code><a href="#severityerror-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>'error'</code></p> <p>Allows to choose how errors are displayed.</p> <p>Сan have the following values:</p> <ul> <li><code>'off'</code> - suppresses errors and warnings</li> <li><code>'warning'</code> - emit warnings instead errors</li> <li><code>'error'</code> - emit errors</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              severityError<span class="token operator">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="minify-3"><code>minify</code><a href="#minify-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function|Array&#x3C;Function></code> Default: <code>ImageMinimizerPlugin.imageminMinify</code></p> <p>Allows to override default minify function. By default plugin uses <a href="https://github.com/imagemin/imagemin">imagemin</a> package. Useful for using and testing unpublished versions or forks.</p> <p>Аvailable minifiers:</p> <ul> <li>ImageMinimizerPlugin.imageminMinify</li> <li>ImageMinimizerPlugin.squooshMinify</li> </ul> <h5 id="function-8"><code>Function</code><a href="#function-8" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">let</span> result<span class="token punctuation">;</span>

                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                  result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">minifyAndReturnBuffer</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token comment">// Return original input if there was an error</span>
                  <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> input<span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span>error<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> result<span class="token punctuation">,</span> warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="array-6"><code>Array</code><a href="#array-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>If an array of functions is passed to the <code>minify</code> option, the <code>minimizerOptions</code> can be an array or an object. If <code>minimizerOptions</code> is array, the function index in the <code>minify</code> array corresponds to the options object with the same index in the <code>minimizerOptions</code> array. If you use <code>minimizerOptions</code> like object, all <code>minify</code> function accept it.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              minify<span class="token operator">:</span> <span class="token punctuation">[</span>
                ImageMinimizerPlugin<span class="token punctuation">.</span>imageminMinify<span class="token punctuation">,</span>
                <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                  <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

                  <span class="token keyword">let</span> result<span class="token punctuation">;</span>

                  <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">minifyAndReturnBuffer</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// Return original input if there was an error</span>
                    <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> input<span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span>error<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>

                  <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> result<span class="token punctuation">,</span> warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token comment">// Options for the first function (ImageMinimizerPlugin.imageminMinify)</span>
                <span class="token punctuation">{</span>
                  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">,</span> <span class="token string">"mozjpeg"</span><span class="token punctuation">,</span> <span class="token string">"pngquant"</span><span class="token punctuation">,</span> <span class="token string">"svgo"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">// Options for the second function</span>
                <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="minimizeroptions-3"><code>minimizerOptions</code><a href="#minimizeroptions-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object|Array&#x3C;Object></code> Default: <code>{ plugins: [] }</code></p> <p>Options for <code>minify</code> functions. <a href="https://github.com/imagemin/imagemin"><code>imagemin</code></a> is default minify function.</p> <p>More information and examples <a href="https://github.com/imagemin/imagemin">here</a>.</p> <h5 id="object-5"><code>Object</code><a href="#object-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> interlaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> optimizationLevel<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="array-7"><code>Array</code><a href="#array-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>The function index in the <code>minify</code> array corresponds to the options object with the same index in the <code>minimizerOptions</code> array. If you use <code>minimizerOptions</code> like object, all <code>minify</code> function accept it.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              minify<span class="token operator">:</span> <span class="token punctuation">[</span>
                ImageMinimizerPlugin<span class="token punctuation">.</span>imageminMinify<span class="token punctuation">,</span>
                <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                  <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

                  <span class="token keyword">let</span> result<span class="token punctuation">;</span>

                  <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">minifyAndReturnBuffer</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// Return original input if there was an error</span>
                    <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> input<span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span>error<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>

                  <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> result<span class="token punctuation">,</span> warnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> errors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token comment">// Options for the first function (ImageMinimizerPlugin.imageminMinify)</span>
                <span class="token punctuation">{</span>
                  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">[</span><span class="token string">"gifsicle"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> interlaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> optimizationLevel<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token comment">// Options for the second function</span>
                <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="filename-2"><code>filename</code><a href="#filename-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|Function</code> Default: <code>'[path][name][ext]'</code></p> <p>Allows to set the filename for the generated asset. Useful for converting to a <code>webp</code>. Supported values see in <a href="/configuration/output/#template-strings"><code>webpack template strings</code></a>, <code>File-level</code> section.</p> <h5 id="string-4"><code>String</code><a href="#string-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              filename<span class="token operator">:</span> <span class="token string">"[path][name].webp"</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"imagemin-webp"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="function-9"><code>Function</code><a href="#function-9" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pathData<span class="token punctuation">,</span> assetInfo</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/imageLg/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>pathData<span class="token punctuation">.</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token string">"./bigImages/[path][name].webp"</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token string">"[path][name].webp"</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"imagemin-webp"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="deleteoriginalassets-2"><code>deleteOriginalAssets</code><a href="#deleteoriginalassets-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>false</code></p> <p>Allows to keep the original asset. Useful for converting to a <code>webp</code> and remove original assets.</p> <blockquote> <p>i Doesn't make sense if you haven't changed the original value of the <code>filename</code> option</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(png)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
            type<span class="token operator">:</span> <span class="token string">"asset"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// PNG images are converted to WEBP, and the originals will keep</span>
              deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              filename<span class="token operator">:</span> <span class="token string">"[path][name].webp"</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"imagemin-webp"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="additional-api">Additional API<a href="#additional-api" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="normalizeimageminconfigconfig"><code>normalizeImageminConfig(config)</code><a href="#normalizeimageminconfigconfig" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The function normalizes configuration (converts plugins names and options to <code>Function</code>s) for using in <code>imagemin</code> package directly.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> imagemin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"imagemin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> normalizeImageminConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> imageminConfig <span class="token operator">=</span> <span class="token function">normalizeImageminConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"jpegtran"</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token string">"pngquant"</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        quality<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
  console.log(imageminConfig);
  =>
  {
    plugins: [Function, Function],
    pluginsMeta: [
      { name: "imagemin-jpegtran", version: "x.x.x", options: {} },
      { name: "imagemin-pngquant", version: "x.x.x", options: { quality: [0.6, 0.8] }
    ]
  }
*/</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">imagemin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"images/*.{jpg,png}"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    destination<span class="token operator">:</span> <span class="token string">"build/images"</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> imageminConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// => [{data: &#x3C;Buffer 89 50 4e …>, path: 'build/images/foo.jpg'}, …]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="examples-6">Examples<a href="#examples-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="optimize-images-based-on-size">Optimize images based on size<a href="#optimize-images-based-on-size" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You can use difference options (like <code>progressive</code>/<code>interlaced</code> and etc) based on image size (example - don't do progressive transformation for small images).</p> <p>What is <code>progressive</code> image? <a href="https://jmperezperez.com/medium-image-progressive-loading-placeholder/"><code>Answer here</code></a>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Only apply this one to files equal to or over 8192 bytes</span>
      <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>byteLength <span class="token operator">>=</span> <span class="token number">8192</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"jpegtran"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> progressive<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Only apply this one to files under 8192</span>
      <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>byteLength <span class="token operator">&#x3C;</span> <span class="token number">8192</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"jpegtran"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> progressive<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="optimize-and-transform-images-to-webp">Optimize and transform images to <code>webp</code><a href="#optimize-and-transform-images-to-webp" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"image-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"pngquant"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][name].webp"</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"imagemin-webp"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing-4">Contributing<a href="#contributing-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/image-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license-5">License<a href="#license-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/image-minimizer-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="installwebpackplugin">InstallWebpackPlugin<a href="#installwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>It is inefficient to <kbd>Ctrl-C</kbd> your build script &#x26; server just to install a dependency you didn't know you needed until now.</p> <p>Instead, use <code>require</code> or <code>import</code> how you normally would and installation will happen <strong>automatically to install &#x26; save missing dependencies</strong> while you work!</p> <pre><code class="hljs language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev install-webpack-plugin</code></pre> <h1 id="usage-7">Usage<a href="#usage-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>In your <code>webpack.config.js</code>:</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">InstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <p><strong>This is equivalent to</strong>:</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">InstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dependencies<span class="token operator">:</span> <span class="token punctuation">{</span>
      peer<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    packageManager<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDefaultPackageManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        dev<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        quiet<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    prompt<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <h1 id="options-11">Options<a href="#options-11" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <h2 id="dependencies">dependencies<a href="#dependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><strong>Type:</strong> <code>Object</code></p> <p>Dependencies related options.</p> <h3 id="peer">peer<a href="#peer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Type:</strong> <code>Boolean</code></p> <p><strong>Default:</strong> <code>true</code></p> <p>Install missing peer dependencies.</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">InstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dependencies<span class="token operator">:</span> <span class="token punctuation">{</span>
      peer<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <h2 id="packagemanager">packageManager<a href="#packagemanager" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><strong>Type:</strong> <code>'npm' | 'yarn' | 'pnpm' | Object | Function</code></p> <p>Package manager to use for installing dependencies.</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">InstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      packageManager<span class="token operator">:</span> <span class="token string">'yarn'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <p>You can provide a <code>Function</code> to the <code>packageManager</code> to make it dynamic:</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">InstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">packageManager</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token string">"babel-preset-react-hmre"</span><span class="token punctuation">,</span>
        <span class="token string">"webpack-dev-middleware"</span><span class="token punctuation">,</span>
        <span class="token string">"webpack-hot-middleware"</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <h3 id="type">type<a href="#type" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Type:</strong> <code>'npm' | 'yarn' | 'pnpm'</code></p> <p>Name of package manager to use for installing dependencies.</p> <h3 id="options-12">options<a href="#options-12" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Type:</strong> <code>Object</code></p> <p>Package manager related options.</p> <h3 id="arguments">arguments<a href="#arguments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Type:</strong> <code>Array</code></p> <p>Provide custom arguments to use with package manager.</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">InstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      packageManager<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'npm'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          arguments<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'--ignore-scripts'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <h3 id="dev">dev<a href="#dev" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Type:</strong> <code>Boolean</code></p> <p><strong>Default:</strong> <code>false</code></p> <p>Install as development dependencies.</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">InstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      packageManager<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'npm'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          dev<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <h3 id="quiet-1">quiet<a href="#quiet-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>Type:</strong> <code>Boolean</code></p> <p><strong>Default:</strong> <code>false</code></p> <p>Reduce the amount of console logging.</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">InstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      packageManager<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> <span class="token string">'npm'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          quiet<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <h2 id="prompt">prompt<a href="#prompt" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><strong>Type:</strong> <code>Boolean</code></p> <p><strong>Default:</strong> <code>true</code></p> <p>Show a prompt to confirm installation.</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">InstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      prompt<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <h1 id="demo">Demo<a href="#demo" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><img src="https://cloud.githubusercontent.com/assets/15182/12540538/6a4e8f1a-c2d0-11e5-97ee-4ddaf6892645.gif" alt="install-webpack-plugin demo"></p> <h1 id="features">Features<a href="#features" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <ul class="contains-task-list"> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Works with webpack <code>^v5.0.0</code>.</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Auto-installs <code>.babelrc</code> plugins &#x26; presets.</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports both ES5 &#x26; ES6 Modules. (e.g. <code>require</code>, <code>import</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports Namespaced packages. (e.g. <code>@cycle/dom</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports Dot-delimited packages. (e.g. <code>lodash.capitalize</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports CSS imports. (e.g. <code>@import "~bootstrap"</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports webpack loaders. (e.g. <code>babel-loader</code>, <code>file-loader</code>, etc.)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports inline webpack loaders. (e.g. <code>require("bundle?lazy!./App"</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Auto-installs missing <code>peerDependencies</code>. (e.g. <code>@cycle/core</code> will automatically install <code>rx@*</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports webpack's <code>resolve.alias</code> &#x26; <code>resolve.root</code> configuration. (e.g. <code>require("react")</code> can alias to <code>react-lite</code>)</li> </ul> <h2 id="contributing-5">Contributing<a href="#contributing-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/install-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h1 id="internal-webpack-plugins">Internal webpack plugins<a href="#internal-webpack-plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>This is a list of plugins which are used by webpack internally.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>You should only care about them if you are building your own compiler based on webpack, or introspect the internals.</p></aside> <p>Categories of internal plugins:</p> <ul> <li><a href="#environment">environment</a></li> <li><a href="#compiler">compiler</a></li> <li><a href="#entry">entry</a></li> <li><a href="#output">output</a></li> <li><a href="#source">source</a></li> <li><a href="#optimize">optimize</a></li> </ul> <h2 id="environment">environment<a href="#environment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Plugins affecting the environment of the compiler.</p> <h3 id="nodeenvironmentplugin">NodeEnvironmentPlugin<a href="#nodeenvironmentplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>webpack.node.NodeEnvironmentPlugin()</code></p> <p>Applies Node.js style filesystem to the compiler.</p> <h2 id="compiler">compiler<a href="#compiler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Plugins affecting the compiler</p> <h3 id="memorycacheplugin">MemoryCachePlugin<a href="#memorycacheplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>MemoryCachePlugin()</code></p> <p>Adds a cache to the compiler, where modules are cached in memory.</p> <h3 id="progressplugin">ProgressPlugin<a href="#progressplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>ProgressPlugin(handler)</code></p> <p>Hook into the compiler to extract progress information. The <code>handler</code> must have the signature <code>function(percentage, message)</code>. Percentage is called with a value between 0 and 1, where 0 indicates the start and 1 the end.</p> <h3 id="recordidsplugin">RecordIdsPlugin<a href="#recordidsplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>RecordIdsPlugin()</code></p> <p>Saves and restores module and chunk ids from records.</p> <h2 id="entry">entry<a href="#entry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Plugins, which add entry chunks to the compilation.</p> <h3 id="entryplugin">EntryPlugin<a href="#entryplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>EntryPlugin(context, request, chunkName)</code></p> <p>Adds an entry chunk on compilation. The chunk is named <code>chunkName</code> and contains only one module (plus dependencies). The module is resolved from <code>request</code> in <code>context</code> (absolute path).</p> <h3 id="prefetchplugin">PrefetchPlugin<a href="#prefetchplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>PrefetchPlugin(context, request)</code></p> <p>Prefetches <code>request</code> and dependencies to enable a more parallel compilation. It doesn't create any chunk. The module is resolved from <code>request</code> in <code>context</code> (absolute path).</p> <h2 id="output">output<a href="#output" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="jsonptemplateplugin">JsonpTemplatePlugin<a href="#jsonptemplateplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>JsonpTemplatePlugin(options)</code></p> <p>Chunks are wrapped into JSONP-calls. A loading algorithm is included in entry chunks. It loads chunks by adding a <code>&#x3C;script></code> tag.</p> <p><code>options</code> are the output options.</p> <p><code>options.jsonpFunction</code> is the JSONP function.</p> <p><code>options.publicPath</code> is used as path for loading the chunks.</p> <p><code>options.chunkFilename</code> is the filename under that chunks are expected.</p> <h3 id="nodetemplateplugin">NodeTemplatePlugin<a href="#nodetemplateplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>node/NodeTemplatePlugin(options)</code></p> <p>Chunks are wrapped into Node.js modules exporting the bundled modules. The entry chunks loads chunks by requiring them.</p> <p><code>options</code> are the output options.</p> <p><code>options.chunkFilename</code> is the filename under that chunks are expected.</p> <h3 id="librarytemplateplugin">LibraryTemplatePlugin<a href="#librarytemplateplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>LibraryTemplatePlugin(name, target)</code></p> <p>The entries chunks are decorated to form a library <code>name</code> of type <code>type</code>.</p> <h3 id="webworkertemplateplugin">WebWorkerTemplatePlugin<a href="#webworkertemplateplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>webworker/WebWorkerTemplatePlugin(options)</code></p> <p>Chunks are loaded by <code>importScripts</code>. Else it's similar to <a href="#jsonptemplateplugin"><code>JsonpTemplatePlugin</code></a>.</p> <p><code>options</code> are the output options.</p> <h3 id="evaldevtoolmoduleplugin">EvalDevToolModulePlugin<a href="#evaldevtoolmoduleplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Decorates the module template by wrapping each module in a <code>eval</code> annotated with <code>// @sourceURL</code>.</p> <h3 id="sourcemapdevtoolplugin">SourceMapDevToolPlugin<a href="#sourcemapdevtoolplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SourceMapDevToolPlugin(sourceMapFilename, sourceMappingURLComment, moduleFilenameTemplate, fallbackModuleFilenameTemplate)</code></p> <p>Decorates the templates by generating a SourceMap for each chunk.</p> <p><code>sourceMapFilename</code> the filename template of the SourceMap. <code>[hash]</code>, <code>[name]</code>, <code>[id]</code>, <code>[file]</code> and <code>[filebase]</code> are replaced. If this argument is missing, the SourceMap will be inlined as DataUrl.</p> <h3 id="hotmodulereplacementplugin-1">HotModuleReplacementPlugin<a href="#hotmodulereplacementplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>HotModuleReplacementPlugin(options)</code></p> <p>Add support for hot module replacement. Decorates the templates to add runtime code. Adds <code>module.hot</code> API.</p> <p><code>options.hotUpdateChunkFilename</code> the filename for hot update chunks.</p> <p><code>options.hotUpdateMainFilename</code> the filename for the hot update manifest.</p> <p><code>options.hotUpdateFunction</code> JSON function name for the hot update.</p> <h2 id="source-1">source<a href="#source-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Plugins affecting the source code of modules.</p> <h3 id="apiplugin">APIPlugin<a href="#apiplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Make webpack_public_path, webpack_require, webpack_modules and webpack_chunk_load accessible. Ensures that <code>require.valueOf</code> and <code>require.onError</code> are not processed by other plugins.</p> <h3 id="compatibilityplugin">CompatibilityPlugin<a href="#compatibilityplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Currently useless. Ensures compatibility with other module loaders.</p> <h3 id="constplugin">ConstPlugin<a href="#constplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Tries to evaluate expressions in <code>if (...)</code> statements and ternaries to replace them with <code>true</code>/<code>false</code> for further possible dead branch elimination using hooks fired by the parser.</p> <p>There are multiple optimizations in production mode regarding dead branches:</p> <ul> <li>The ones performed by <a href="https://github.com/fabiosantoscode/terser">Terser</a></li> <li>The ones performed by webpack</li> </ul> <p>webpack will try to evaluate conditional statements. If it succeeds then the dead branch is removed. webpack can't do constant folding unless the compiler knows it. For example:</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> calculateTax <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./tax'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">FOO</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">FOO</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// dead branch</span>
  <span class="token function">calculateTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>In the above example, webpack is unable to prune the branch, but Terser does. However, if <code>FOO</code> is defined using <a href="/plugins/define-plugin/">DefinePlugin</a>, webpack will succeed.</p> <p>It is important to mention that <code>import { calculateTax } from './tax';</code> will also get pruned because <code>calculateTax()</code> call was in the dead branch and got eliminated.</p> <h3 id="provideplugin">ProvidePlugin<a href="#provideplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>ProvidePlugin(name, request)</code></p> <p>If <code>name</code> is used in a module it is filled by a module loaded by <code>require(&#x3C;request>)</code>.</p> <h3 id="nodestuffplugin">NodeStuffPlugin<a href="#nodestuffplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>NodeStuffPlugin(options, context)</code></p> <p>Provide stuff that is normally available in Node.js modules.</p> <p>It also ensures that <code>module</code> is filled with some Node.js stuff if you use it.</p> <h3 id="requirejsstuffplugin">RequireJsStuffPlugin<a href="#requirejsstuffplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Provide stuff that is normally available in require.js.</p> <p><code>require[js].config</code> is removed. <code>require.version</code> is <code>0.0.0</code>. <code>requirejs.onError</code> is mapped to <code>require.onError</code>.</p> <h3 id="nodesourceplugin">NodeSourcePlugin<a href="#nodesourceplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>node/NodeSourcePlugin(options)</code></p> <p>This module adds stuff from Node.js that is not available in non Node.js environments.</p> <p>It adds polyfills for <code>process</code>, <code>console</code>, <code>Buffer</code> and <code>global</code> if used. It also binds the built in Node.js replacement modules.</p> <h3 id="nodetargetplugin">NodeTargetPlugin<a href="#nodetargetplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>node/NodeTargetPlugin()</code></p> <p>The plugins should be used if you run the bundle in a Node.js environment.</p> <p>If ensures that native modules are loaded correctly even if bundled.</p> <h3 id="amdplugin">AMDPlugin<a href="#amdplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/AMDPlugin(options)</code></p> <p>Provides AMD-style <code>define</code> and <code>require</code> to modules. Also bind <code>require.amd</code>, <code>define.amd</code> and webpack_amd_options## to the <code>options</code> passed as parameter.</p> <h3 id="commonjsplugin">CommonJsPlugin<a href="#commonjsplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/CommonJsPlugin</code></p> <p>Provides CommonJs-style <code>require</code> to modules.</p> <h3 id="requirecontextplugin">RequireContextPlugin<a href="#requirecontextplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/RequireContextPlugin(modulesDirectories, extensions)</code></p> <p>Provides <code>require.context</code>. The parameter <code>modulesDirectories</code> and <code>extensions</code> are used to find alternative requests for files. It's useful to provide the same arrays as you provide to the resolver.</p> <h3 id="requireensureplugin">RequireEnsurePlugin<a href="#requireensureplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/RequireEnsurePlugin()</code></p> <p>Provides <code>require.ensure</code>.</p> <h3 id="requireincludeplugin">RequireIncludePlugin<a href="#requireincludeplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/RequireIncludePlugin()</code></p> <p>Provides <code>require.include</code>.</p> <h3 id="defineplugin-1">DefinePlugin<a href="#defineplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>DefinePlugin(definitions)</code></p> <p>Define constants for identifier.</p> <p><code>definitions</code> is an object.</p> <h2 id="optimize">optimize<a href="#optimize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Note that all plugins under <code>webpack.optimize</code> namespace should only be used when <a href="/configuration/mode/#mode-none"><code>mode</code></a> set to <code>'none'</code>. Otherwise you might get into trouble where plugins are applied twice.</p> <h3 id="limitchunkcountplugin">LimitChunkCountPlugin<a href="#limitchunkcountplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/LimitChunkCountPlugin(options)</code></p> <p>Merge chunks limit chunk count is lower than <code>options.maxChunks</code>.</p> <p>The overhead for each chunks is provided by <code>options.chunkOverhead</code> or defaults to 10000. Entry chunks sizes are multiplied by <code>options.entryChunkMultiplicator</code> (or 10).</p> <p>Chunks that reduce the total size the most are merged first. If multiple combinations are equal the minimal merged size wins.</p> <h3 id="mergeduplicatechunksplugin">MergeDuplicateChunksPlugin<a href="#mergeduplicatechunksplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/MergeDuplicateChunksPlugin()</code></p> <p>Chunks with the same modules are merged.</p> <h3 id="removeemptychunksplugin">RemoveEmptyChunksPlugin<a href="#removeemptychunksplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/RemoveEmptyChunksPlugin()</code></p> <p>Modules that are included in every parent chunk are removed from the chunk.</p> <h3 id="minchunksizeplugin">MinChunkSizePlugin<a href="#minchunksizeplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/MinChunkSizePlugin(minChunkSize)</code></p> <p>Merges chunks until each chunk has the minimum size of <code>minChunkSize</code>.</p> <h3 id="moduleconcatenationplugin">ModuleConcatenationPlugin<a href="#moduleconcatenationplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>See the <a href="/plugins/module-concatenation-plugin/">ModuleConcatenationPlugin page</a> for details.</p> <h3 id="flagincludedchunksplugin">FlagIncludedChunksPlugin<a href="#flagincludedchunksplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/FlagIncludedChunksPlugin()</code></p> <p>Adds chunk ids of chunks which are included in the chunk. This eliminates unnecessary chunk loads.</p> <h3 id="realcontenthashplugin">RealContentHashPlugin<a href="#realcontenthashplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/RealContentHashPlugin()</code></p> <p>When <a href="/configuration/optimization/#optimizationrealcontenthash"><code>optimization.realContentHash</code></a> option is enabled, webpack will apply <code>RealContentHashPlugin</code> to compiler internally.</p> <h4 id="hook">Hook<a href="#hook" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>RealContentHashPlugin</code> provides a <code>updateHash</code> <Badge text="5.8.0+"/> hook for customizing hash updating:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> RealContentHashPlugin <span class="token operator">=</span> webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>RealContentHashPlugin<span class="token punctuation">;</span>
<span class="token comment">// ...</span>
compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>compilation<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> RealContentHashPlugin<span class="token punctuation">.</span><span class="token function">getCompilationHooks</span><span class="token punctuation">(</span>compilation<span class="token punctuation">)</span><span class="token punctuation">;</span>
  hooks<span class="token punctuation">.</span>updateHash<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> oldHash</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// you can calculate the hash here as you wish</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="jsonminimizerwebpackplugin">JsonMinimizerWebpackPlugin<a href="#jsonminimizerwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>This plugin uses <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">JSON.stringify()</a> to minify your JSON.</p> <h2 id="getting-started-5">Getting Started<a href="#getting-started-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>json-minimizer-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install json-minimizer-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> configuration. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> JsonMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"json-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"copy-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.json$/i</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"asset/resource"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"./src/*.json"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the `...` syntax to extend existing minimizers (i.e. `terser-webpack-plugin`), uncomment the next line</span>
      <span class="token comment">// `...`</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="options-13">Options<a href="#options-13" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="test-4"><code>test</code><a href="#test-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> - default: <code>/\.json(\?.*)?$/i</code></p> <p>Test to match files against.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.foo\.json/i</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include-4"><code>include</code><a href="#include-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to include.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        include<span class="token operator">:</span> <span class="token regex">/\/includes/</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-5"><code>exclude</code><a href="#exclude-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        exclude<span class="token operator">:</span> <span class="token regex">/\/excludes/</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minimizeroptions-4"><code>minimizerOptions</code><a href="#minimizeroptions-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Object</code> Default: <code>{ replacer: null, space: null }</code></p> <p><code>JSON.stringify()</code> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">options</a>.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          space<span class="token operator">:</span> <span class="token string">"\t"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing-6">Contributing<a href="#contributing-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/json-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license-6">License<a href="#license-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/json-minimizer-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="limitchunkcountplugin-1">LimitChunkCountPlugin<a href="#limitchunkcountplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>While writing your code, you may have already added many code split points to load stuff on demand. After compiling you might notice that some chunks are too small - creating larger HTTP overhead. <code>LimitChunkCountPlugin</code> can post-process your chunks by merging them.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>LimitChunkCountPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Options...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options-14">Options<a href="#options-14" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following options are supported:</p> <h3 id="maxchunks"><code>maxChunks</code><a href="#maxchunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number</code></p> <p>Limit the maximum number of chunks using a value greater than or equal to <code>1</code>. Using <code>1</code> will prevent any additional chunks from being added as the entry/main chunk is also included in the count.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>LimitChunkCountPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxChunks<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minchunksize"><code>minChunkSize</code><a href="#minchunksize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Keeping chunk size above the specified limit is no longer a feature of this plugin. Use <a href="/plugins/min-chunk-size-plugin">MinChunkSizePlugin</a> instead.</p> <h2 id="usage-via-cli">Usage via CLI<a href="#usage-via-cli" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This plugin and it's options can also be invoked via the <a href="/api/cli/">CLI</a>:</p> <pre><code class="hljs language-bash">webpack --optimize-max-chunks <span class="token number">15</span></code></pre> <h1 id="minchunksizeplugin-1">MinChunkSizePlugin<a href="#minchunksizeplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Keep chunk size above the specified limit by merging chunks that are smaller than the <code>minChunkSize</code>.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>MinChunkSizePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  minChunkSize<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token comment">// Minimum number of characters</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="usage-via-cli-1">Usage via CLI<a href="#usage-via-cli-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This plugin and it's options can also be invoked via the <a href="/api/cli/">CLI</a>:</p> <pre><code class="hljs language-bash">webpack --optimize-min-chunk-size <span class="token number">10000</span></code></pre> <h1 id="minicssextractplugin">MiniCssExtractPlugin<a href="#minicssextractplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="coverage"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>This plugin extracts CSS into separate files. It creates a CSS file per JS file which contains CSS. It supports On-Demand-Loading of CSS and SourceMaps.</p> <p>It builds on top of a new webpack v4 feature (module types) and requires webpack 4 to work.</p> <p>Compared to the extract-text-webpack-plugin:</p> <ul> <li>Async loading</li> <li>No duplicate compilation (performance)</li> <li>Easier to use</li> <li>Specific to CSS</li> </ul> <h2 id="getting-started-6">Getting Started<a href="#getting-started-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>mini-css-extract-plugin</code>:</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev mini-css-extract-plugin</code></pre> <p>It's recommended to combine <code>mini-css-extract-plugin</code> with the <a href="/loaders/css-loader/"><code>css-loader</code></a></p> <p>Then add the loader and the plugin to your <code>webpack</code> config. For example:</p> <p><strong>style.css</strong></p> <pre><code class="hljs language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p><strong>component.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">"./style.css"</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="options-15">Options<a href="#options-15" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="plugin-options-1">Plugin Options<a href="#plugin-options-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><a href="#filename"><code>filename</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>[name].css</code></span></td> <td align="left" data-th="Description"><span>This option determines the name of each output CSS file</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#chunkfilename"><code>chunkFilename</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>based on filename</code></span></td> <td align="left" data-th="Description"><span>This option determines the name of non-entry chunk files</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#ignoreorder"><code>ignoreOrder</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Remove Order Warnings</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#insert"><code>insert</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>document.head.appendChild(linkTag);</code></span></td> <td align="left" data-th="Description"><span>Inserts <code>&#x3C;link></code> at the given position</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#attributes"><code>attributes</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Object}</code></span></td> <td align="center" data-th="Default"><span><code>{}</code></span></td> <td align="left" data-th="Description"><span>Adds custom attributes to tag</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#linktype"><code>linkType</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>text/css</code></span></td> <td align="left" data-th="Description"><span>Allows loading asynchronous chunks with a custom link type</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#experimentaluseimportmodule"><code>experimentalUseImportModule</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Use an experimental webpack API to execute modules instead of child compilers</span></td> </tr> </tbody> </table> <h4 id="filename-3"><code>filename</code><a href="#filename-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|Function</code> Default: <code>[name].css</code></p> <p>This option determines the name of each output CSS file.</p> <p>Works like <a href="/configuration/output/#outputfilename"><code>output.filename</code></a></p> <h4 id="chunkfilename"><code>chunkFilename</code><a href="#chunkfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|Function</code> Default: <code>based on filename</code></p> <blockquote> <p>i Specifying <code>chunkFilename</code> as a <code>function</code> is only available in webpack@5</p> </blockquote> <p>This option determines the name of non-entry chunk files.</p> <p>Works like <a href="/configuration/output/#outputchunkfilename"><code>output.chunkFilename</code></a></p> <h4 id="ignoreorder"><code>ignoreOrder</code><a href="#ignoreorder" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>false</code></p> <p>Remove Order Warnings. See <a href="#remove-order-warnings">examples</a> below for details.</p> <h4 id="insert"><code>insert</code><a href="#insert" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|Function</code> Default: <code>document.head.appendChild(linkTag);</code></p> <p>By default, the <code>mini-css-extract-plugin</code> appends styles (<code>&#x3C;link></code> elements) to <code>document.head</code> of the current <code>window</code>.</p> <p>However in some circumstances it might be necessary to have finer control over the append target or even delay <code>link</code> elements insertion. For example this is the case when you asynchronously load styles for an application that runs inside of an iframe. In such cases <code>insert</code> can be configured to be a function or a custom selector.</p> <p>If you target an <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement">iframe</a> make sure that the parent document has sufficient access rights to reach into the frame document and append elements to it.</p> <h5 id="string-5"><code>String</code><a href="#string-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Allows to setup custom <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector">query selector</a>. A new <code>&#x3C;link></code> element will be inserted after the found item.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  insert<span class="token operator">:</span> <span class="token string">"#some-element"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>A new <code>&#x3C;link></code> element will be inserted after the element with id <code>some-element</code>.</p> <h5 id="function-10"><code>Function</code><a href="#function-10" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Allows to override default behavior and insert styles at any position.</p> <blockquote> <p>⚠ Do not forget that this code will run in the browser alongside your application. Since not all browsers support latest ECMA features like <code>let</code>, <code>const</code>, <code>arrow function expression</code> and etc we recommend you to use only ECMA 5 features and syntax.</p> </blockquote> <blockquote> <blockquote> <p>⚠ The <code>insert</code> function is serialized to string and passed to the plugin. This means that it won't have access to the scope of the webpack configuration module.</p> </blockquote> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">insert</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">linkTag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> reference <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#some-element"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>reference<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      reference<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>linkTag<span class="token punctuation">,</span> reference<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>A new <code>&#x3C;link></code> element will be inserted before the element with id <code>some-element</code>.</p> <h4 id="attributes"><code>attributes</code><a href="#attributes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object</code> Default: <code>{}</code></p> <p>If defined, the <code>mini-css-extract-plugin</code> will attach given attributes with their values on <link> element.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">"target"</span><span class="token punctuation">,</span>
        <span class="token string">"data-target"</span><span class="token operator">:</span> <span class="token string">"example"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Note: It's only applied to dynamically loaded css chunks, if you want to modify link attributes inside html file, please using <a href="https://github.com/jantimon/html-webpack-plugin">html-webpack-plugin</a></p> <h4 id="linktype"><code>linkType</code><a href="#linktype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|Boolean</code> Default: <code>text/css</code></p> <p>This option allows loading asynchronous chunks with a custom link type, such as &#x3C;link type="text/css" ...>.</p> <h5 id="string-6"><code>String</code><a href="#string-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Possible values: <code>text/css</code></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      linkType<span class="token operator">:</span> <span class="token string">"text/css"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="boolean-3"><code>Boolean</code><a href="#boolean-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><code>false</code> disables the link <code>type</code> attribute</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      linkType<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="experimentaluseimportmodule"><code>experimentalUseImportModule</code><a href="#experimentaluseimportmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Use an experimental webpack API to execute modules instead of child compilers.</p> <p>This improves performance and memory usage a lot, but isn't as stable as the normal approach.</p> <p>When combined with <code>experiments.layers</code>, this adds a <code>layer</code> option to the loader options to specify the layer of the css execution.</p> <p>You need to have at least webpack 5.33.2.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      experimentalUseImportModule<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="loader-options-1">Loader Options<a href="#loader-options-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><a href="#publicpath"><code>publicPath</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>webpackOptions.output.publicPath</code></span></td> <td align="left" data-th="Description"><span>Specifies a custom public path for the external resources like images, files, etc</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#emit"><code>emit</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>true</code></span></td> <td align="left" data-th="Description"><span>If false, the plugin will extract the CSS but <strong>will not</strong> emit the file</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#esmodule"><code>esModule</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>true</code></span></td> <td align="left" data-th="Description"><span>Use ES modules syntax</span></td> </tr> </tbody> </table> <h4 id="publicpath"><code>publicPath</code><a href="#publicpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|Function</code> Default: the <code>publicPath</code> in <code>webpackOptions.output</code></p> <p>Specifies a custom public path for the external resources like images, files, etc inside <code>CSS</code>. Works like <a href="/configuration/output/#outputpublicpath"><code>output.publicPath</code></a></p> <h5 id="string-7"><code>String</code><a href="#string-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Options similar to the same options in webpackOptions.output</span>
      <span class="token comment">// both options are optional</span>
      filename<span class="token operator">:</span> <span class="token string">"[name].css"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">"[id].css"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              publicPath<span class="token operator">:</span> <span class="token string">"/public/path/to/"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="function-11"><code>Function</code><a href="#function-11" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Options similar to the same options in webpackOptions.output</span>
      <span class="token comment">// both options are optional</span>
      filename<span class="token operator">:</span> <span class="token string">"[name].css"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">"[id].css"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">publicPath</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/"</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="emit"><code>emit</code><a href="#emit" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>true</code></p> <p>If true, emits a file (writes a file to the filesystem). If false, the plugin will extract the CSS but <strong>will not</strong> emit the file. It is often useful to disable this option for server-side packages.</p> <h4 id="esmodule"><code>esModule</code><a href="#esmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>true</code></p> <p>By default, <code>mini-css-extract-plugin</code> generates JS modules that use the ES modules syntax. There are some cases in which using ES modules is beneficial, like in the case of <a href="/plugins/module-concatenation-plugin/">module concatenation</a> and <a href="/guides/tree-shaking/">tree shaking</a>.</p> <p>You can enable a CommonJS syntax using:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              esModule<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples-7">Examples<a href="#examples-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="recommend">Recommend<a href="#recommend" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>For <code>production</code> builds it's recommended to extract the CSS from your bundle being able to use parallel loading of CSS/JS resources later on. This can be achieved by using the <code>mini-css-extract-plugin</code>, because it creates separate css files. For <code>development</code> mode (including <code>webpack-dev-server</code>) you can use <a href="/loaders/style-loader/">style-loader</a>, because it injects CSS into the DOM using multiple </p><style></style> and works faster.<p></p> <blockquote> <p>i Do not use together <code>style-loader</code> and <code>mini-css-extract-plugin</code>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> devMode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">"production"</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(sa|sc|c)ss$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          devMode <span class="token operator">?</span> <span class="token string">"style-loader"</span> <span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
          <span class="token string">"postcss-loader"</span><span class="token punctuation">,</span>
          <span class="token string">"sass-loader"</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>devMode <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minimal-example">Minimal example<a href="#minimal-example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Options similar to the same options in webpackOptions.output</span>
      <span class="token comment">// all options are optional</span>
      filename<span class="token operator">:</span> <span class="token string">"[name].css"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">"[id].css"</span><span class="token punctuation">,</span>
      ignoreOrder<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// Enable to remove warnings about conflicting order</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// you can specify a publicPath here</span>
              <span class="token comment">// by default it uses publicPath in webpackOptions.output</span>
              publicPath<span class="token operator">:</span> <span class="token string">"../"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="named-export-for-css-modules">Named export for CSS Modules<a href="#named-export-for-css-modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <blockquote> <p>⚠ Names of locals are converted to <code>camelCase</code>.</p> </blockquote> <blockquote> <p>⚠ It is not allowed to use JavaScript reserved words in css class names.</p> </blockquote> <blockquote> <p>⚠ Options <code>esModule</code> and <code>modules.namedExport</code> in <code>css-loader</code> should be enabled.</p> </blockquote> <p><strong>styles.css</strong></p> <pre><code class="hljs language-css"><span class="token selector">.foo-baz</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> fooBaz<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./styles.css"</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooBaz<span class="token punctuation">,</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>You can enable a ES module named export using:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              esModule<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              modules<span class="token operator">:</span> <span class="token punctuation">{</span>
                namedExport<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                localIdentName<span class="token operator">:</span> <span class="token string">"foo__[name]__[local]"</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="the-publicpath-option-as-function">The <code>publicPath</code> option as function<a href="#the-publicpath-option-as-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Options similar to the same options in webpackOptions.output</span>
      <span class="token comment">// both options are optional</span>
      filename<span class="token operator">:</span> <span class="token string">"[name].css"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">"[id].css"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">publicPath</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token comment">// publicPath is the relative path of the resource to the context</span>
                <span class="token comment">// e.g. for ./css/admin/main.css the publicPath will be ../../</span>
                <span class="token comment">// while for ./css/main.css the publicPath will be ../</span>
                <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/"</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="advanced-configuration-example">Advanced configuration example<a href="#advanced-configuration-example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>This plugin should not be used with <code>style-loader</code> in the loaders chain.</p> <p>Here is an example to have both HMR in <code>development</code> and your styles extracted in a file for <code>production</code> builds.</p> <p>(Loaders options left out for clarity, adapt accordingly to your needs.)</p> <p>You should not use <code>HotModuleReplacementPlugin</code> plugin if you are using a <code>webpack-dev-server</code>. <code>webpack-dev-server</code> enables / disables HMR using <code>hot</code> option.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"webpack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> devMode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">"production"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// Options similar to the same options in webpackOptions.output</span>
    <span class="token comment">// both options are optional</span>
    filename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">"[name].css"</span> <span class="token operator">:</span> <span class="token string">"[name].[contenthash].css"</span><span class="token punctuation">,</span>
    chunkFilename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">"[id].css"</span> <span class="token operator">:</span> <span class="token string">"[id].[contenthash].css"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>devMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// only enable hot in development</span>
  plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(sa|sc|c)ss$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
          <span class="token string">"postcss-loader"</span><span class="token punctuation">,</span>
          <span class="token string">"sass-loader"</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="hot-module-reloading-hmr">Hot Module Reloading (HMR)<a href="#hot-module-reloading-hmr" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Note: HMR is automatically supported in webpack 5. No need to configure it. Skip the following:</p> <p>The <code>mini-css-extract-plugin</code> supports hot reloading of actual css files in development. Some options are provided to enable HMR of both standard stylesheets and locally scoped CSS or CSS modules. Below is an example configuration of mini-css for HMR use with CSS modules.</p> <p>You should not use <code>HotModuleReplacementPlugin</code> plugin if you are using a <code>webpack-dev-server</code>. <code>webpack-dev-server</code> enables / disables HMR using <code>hot</code> option.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"webpack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// Options similar to the same options in webpackOptions.output</span>
    <span class="token comment">// both options are optional</span>
    filename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">"[name].css"</span> <span class="token operator">:</span> <span class="token string">"[name].[contenthash].css"</span><span class="token punctuation">,</span>
    chunkFilename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">"[id].css"</span> <span class="token operator">:</span> <span class="token string">"[id].[contenthash].css"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>devMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// only enable hot in development</span>
  plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">"css-loader"</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minimizing-for-production">Minimizing For Production<a href="#minimizing-for-production" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>To minify the output, use a plugin like <a href="/plugins/css-minimizer-webpack-plugin/">css-minimizer-webpack-plugin</a>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"css-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[name].css"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">"[id].css"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the `...` syntax to extend existing minimizers (i.e. `terser-webpack-plugin`), uncomment the next line</span>
      <span class="token comment">// `...`,</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>This will enable CSS optimization only in production mode. If you want to run it also in development set the <code>optimization.minimize</code> option to true.</p> <h3 id="using-preloaded-or-inlined-css">Using preloaded or inlined CSS<a href="#using-preloaded-or-inlined-css" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The runtime code detects already added CSS via <code>&#x3C;link></code> or <code>&#x3C;style></code> tag. This can be useful when injecting CSS on server-side for Server-Side-Rendering. The <code>href</code> of the <code>&#x3C;link></code> tag has to match the URL that will be used for loading the CSS chunk. The <code>data-href</code> attribute can be used for <code>&#x3C;link></code> and <code>&#x3C;style></code> too. When inlining CSS <code>data-href</code> must be used.</p> <h3 id="extracting-all-css-in-a-single-file">Extracting all CSS in a single file<a href="#extracting-all-css-in-a-single-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The CSS can be extracted in one CSS file using <code>optimization.splitChunks.cacheGroups</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        styles<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">"styles"</span><span class="token punctuation">,</span>
          type<span class="token operator">:</span> <span class="token string">"css/mini-extract"</span><span class="token punctuation">,</span>
          <span class="token comment">// For webpack@4</span>
          <span class="token comment">// test: /\.css$/,</span>
          chunks<span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
          enforce<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[name].css"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Note that <code>type</code> should be used instead of <code>test</code> in Webpack 5, or else an extra <code>.js</code> file can be generated besides the <code>.css</code> file. This is because <code>test</code> doesn't know which modules should be dropped (in this case, it won't detect that <code>.js</code> should be dropped).</p> <h3 id="extracting-css-based-on-entry">Extracting CSS based on entry<a href="#extracting-css-based-on-entry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You may also extract the CSS based on the webpack entry name. This is especially useful if you import routes dynamically but want to keep your CSS bundled according to entry. This also prevents the CSS duplication issue one had with the ExtractTextPlugin.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span><span class="token parameter">m<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> issuer <span class="token operator">=</span> c<span class="token punctuation">.</span>moduleGraph<span class="token punctuation">.</span><span class="token function">getIssuer</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// For webpack@4 issuer = m.issuer</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>issuer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span>issuer<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> chunks <span class="token operator">=</span> c<span class="token punctuation">.</span>chunkGraph<span class="token punctuation">.</span><span class="token function">getModuleChunks</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// For webpack@4 chunks = m._chunks</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> chunk <span class="token keyword">of</span> chunks<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> chunk<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    foo<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src/foo"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    bar<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src/bar"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        fooStyles<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">"styles_foo"</span><span class="token punctuation">,</span>
          test<span class="token operator">:</span> <span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">,</span> entry <span class="token operator">=</span> <span class="token string">"foo"</span><span class="token punctuation">)</span> <span class="token operator">=></span>
            m<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">"CssModule"</span> <span class="token operator">&#x26;&#x26;</span>
            <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">===</span> entry<span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
          enforce<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        barStyles<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">"styles_bar"</span><span class="token punctuation">,</span>
          test<span class="token operator">:</span> <span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">,</span> entry <span class="token operator">=</span> <span class="token string">"bar"</span><span class="token punctuation">)</span> <span class="token operator">=></span>
            m<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">"CssModule"</span> <span class="token operator">&#x26;&#x26;</span>
            <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">===</span> entry<span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
          enforce<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[name].css"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="filename-option-as-function">Filename Option as function<a href="#filename-option-as-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>With the <code>filename</code> option you can use chunk data to customize the filename. This is particularly useful when dealing with multiple entry points and wanting to get more control out of the filename for a given entry point/chunk. In the example below, we'll use <code>filename</code> to output the generated css into a different directory.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> chunk <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chunk<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"/js/"</span><span class="token punctuation">,</span> <span class="token string">"/css/"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.css</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="long-term-caching">Long Term Caching<a href="#long-term-caching" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>For long term caching use <code>filename: "[contenthash].css"</code>. Optionally add <code>[name]</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[name].[contenthash].css"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">"[id].[contenthash].css"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="remove-order-warnings">Remove Order Warnings<a href="#remove-order-warnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>For projects where css ordering has been mitigated through consistent use of scoping or naming conventions, the css order warnings can be disabled by setting the ignoreOrder flag to true for the plugin.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"mini-css-extract-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      ignoreOrder<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">"css-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="media-query-plugin">Media Query Plugin<a href="#media-query-plugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>If you'd like to extract the media queries from the extracted CSS (so mobile users don't need to load desktop or tablet specific CSS anymore) you should use one of the following plugins:</p> <ul> <li><a href="https://github.com/SassNinja/media-query-plugin">Media Query Plugin</a></li> <li><a href="https://github.com/mike-diamond/media-query-splitting-plugin">Media Query Splitting Plugin</a></li> </ul> <h2 id="contributing-7">Contributing<a href="#contributing-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/mini-css-extract-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license-7">License<a href="#license-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/mini-css-extract-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="plugins">Plugins<a href="#plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>webpack에는 많은 플러그인 인터페이스가 있습니다. webpack 자체에 있는 대부분의 기능은 플러그인 인터페이스를 사용합니다. 이런점이 webpack을 <strong>유연하게</strong> 만듭니다.</p> <table> <thead> <tr> <th>이름</th> <th>설명</th> </tr> </thead> <tbody> <tr> <td data-th="이름"><span><a href="/plugins/banner-plugin"><code>BannerPlugin</code></a></span></td> <td data-th="설명"><span>생성된 청크의 상단에 배너 추가</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/commons-chunk-plugin"><code>CommonsChunkPlugin</code></a></span></td> <td data-th="설명"><span>청크 간에 공유되는 공통 모듈 추출</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/compression-webpack-plugin"><code>CompressionWebpackPlugin</code></a></span></td> <td data-th="설명"><span>Content-Encoding으로 제공할 압축된 버전의 애셋 준비</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/context-replacement-plugin"><code>ContextReplacementPlugin</code></a></span></td> <td data-th="설명"><span><code>require</code> 표현식의 유추된 컨텍스트 재정의</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/copy-webpack-plugin"><code>CopyWebpackPlugin</code></a></span></td> <td data-th="설명"><span>개별 파일 또는 전체 디렉터리를 빌드 디렉터리에 복사</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/define-plugin"><code>DefinePlugin</code></a></span></td> <td data-th="설명"><span>컴파일 타임에 전역 변수 선언</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/dll-plugin"><code>DllPlugin</code></a></span></td> <td data-th="설명"><span>빌드 시간을 단축시키기 위해 번들 분할</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/environment-plugin"><code>EnvironmentPlugin</code></a></span></td> <td data-th="설명"><span><code>process.env</code> 키에서 <a href="/plugins/define-plugin"><code>DefinePlugin</code></a>을 사용하는 약어</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/eslint-webpack-plugin"><code>EslintWebpackPlugin</code></a></span></td> <td data-th="설명"><span>webpack을 위한 ESLint 플러그인</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/hot-module-replacement-plugin"><code>HotModuleReplacementPlugin</code></a></span></td> <td data-th="설명"><span>Hot Module Replacement (HMR) 활성화</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/html-webpack-plugin"><code>HtmlWebpackPlugin</code></a></span></td> <td data-th="설명"><span>번들을 제공하기 위한 HTML 파일을 쉽게 생성</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/ignore-plugin"><code>IgnorePlugin</code></a></span></td> <td data-th="설명"><span>번들에서 특정 모듈 제외</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/limit-chunk-count-plugin"><code>LimitChunkCountPlugin</code></a></span></td> <td data-th="설명"><span>청킹을 더 잘 제어하기 위한 청킹의 최소/최대 제한 설정</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/min-chunk-size-plugin"><code>MinChunkSizePlugin</code></a></span></td> <td data-th="설명"><span>청크 크기를 지정한 제한 이상으로 유지</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/mini-css-extract-plugin"><code>MiniCssExtractPlugin</code></a></span></td> <td data-th="설명"><span>CSS파일을 필요로하는 JS파일만 CSS파일을 생성</span></td> </tr> <tr> <td data-th="이름"><span><a href="/configuration/optimization/#optimizationemitonerrors"><code>NoEmitOnErrorsPlugin</code></a></span></td> <td data-th="설명"><span>컴파일 오류가 있는 경우 방출 단계를 건너뜀</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/normal-module-replacement-plugin"><code>NormalModuleReplacementPlugin</code></a></span></td> <td data-th="설명"><span>정규식과 일치하는 리소스 교체</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/install-webpack-plugin"><code>NpmInstallWebpackPlugin</code></a></span></td> <td data-th="설명"><span>개발단계에서 누락된 디펜던시 자동 설치</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/progress-plugin"><code>ProgressPlugin</code></a></span></td> <td data-th="설명"><span>컴파일 진행률 보고</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/provide-plugin"><code>ProvidePlugin</code></a></span></td> <td data-th="설명"><span>import 또는 require 사용없이 모듈 사용</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/source-map-dev-tool-plugin"><code>SourceMapDevToolPlugin</code></a></span></td> <td data-th="설명"><span>소스맵을 세밀하게 제어</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/eval-source-map-dev-tool-plugin"><code>EvalSourceMapDevToolPlugin</code></a></span></td> <td data-th="설명"><span>eval 소스맵을 세밀하게 제어</span></td> </tr> <tr> <td data-th="이름"><span><a href="/plugins/terser-webpack-plugin/"><code>TerserPlugin</code></a></span></td> <td data-th="설명"><span>Terser를 사용하여 JS 압축</span></td> </tr> </tbody> </table> <p>더 많은 써드 파티 플러그인을 찾고 싶다면, <a href="https://github.com/webpack-contrib/awesome-webpack#webpack-plugins">awesome-webpack</a>을 참고하세요.</p> <h1 id="moduleconcatenationplugin-1">ModuleConcatenationPlugin<a href="#moduleconcatenationplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>In the past, one of webpack’s trade-offs when bundling was that each module in your bundle would be wrapped in individual function closures. These wrapper functions made it slower for your JavaScript to execute in the browser. In comparison, tools like Closure Compiler and RollupJS ‘hoist’ or concatenate the scope of all your modules into one closure and allow for your code to have a faster execution time in the browser.</p> <p>This plugin will enable the same concatenation behavior in webpack. By default this plugin is already enabled in <a href="/configuration/mode/#mode-production">production <code>mode</code></a> and disabled otherwise. If you need to override the production <code>mode</code> optimization, set the <a href="/configuration/optimization/#optimizationconcatenatemodules"><code>optimization.concatenateModules</code> option</a> to <code>false</code>. To enable concatenation behavior in other modes, you can add <code>ModuleConcatenationPlugin</code> manually or use the <code>optimization.concatenateModules</code> option:</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>ModuleConcatenationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <blockquote> <p>This concatenation behavior is called “scope hoisting.”</p> <p>Scope hoisting is specifically a feature made possible by ECMAScript Module syntax. Because of this webpack may fallback to normal bundling based on what kind of modules you are using, and <a href="https://medium.com/webpack/webpack-freelancing-log-book-week-5-7-4764be3266f5">other conditions</a>.</p> </blockquote> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Keep in mind that this plugin will only be applied to <a href="/api/module-methods/#es6-recommended">ES6 modules</a> processed directly by webpack. When using a transpiler, you'll need to disable module processing (e.g. the <a href="https://babeljs.io/docs/en/babel-preset-env#modules"><code>modules</code></a> option in Babel).</p></aside> <h2 id="optimization-bailouts">Optimization Bailouts<a href="#optimization-bailouts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>As the article explains, webpack attempts to achieve partial scope hoisting. It will merge modules into a single scope but cannot do so in every case. If webpack cannot merge a module, the two alternatives are Prevent and Root. Prevent means the module must be in its own scope. Root means a new module group will be created. The following conditions determine the outcome:</p> <table> <thead> <tr> <th>Condition</th> <th>Outcome</th> </tr> </thead> <tbody> <tr> <td data-th="Condition"><span>Non ES6 Module</span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> <tr> <td data-th="Condition"><span>Imported By Non Import</span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Imported From Other Chunk</span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Imported By Multiple Other Module Groups</span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Imported With <code>import()</code></span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Affected By <code>ProvidePlugin</code> Or Using <code>module</code></span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> <tr> <td data-th="Condition"><span>HMR Accepted</span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Using <code>eval()</code></span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> <tr> <td data-th="Condition"><span>In Multiple Chunks</span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> <tr> <td data-th="Condition"><span><code>export * from "cjs-module"</code></span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> </tbody> </table> <h3 id="module-grouping-algorithm">Module Grouping Algorithm<a href="#module-grouping-algorithm" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following pseudo JavaScript explains the algorithm:</p> <pre><code class="hljs language-js">modules<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> group <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModuleGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    root<span class="token operator">:</span> module<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  module<span class="token punctuation">.</span>dependencies<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">dependency</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">tryToAdd</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> dependency<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>group<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    orderedModules <span class="token operator">=</span> <span class="token function">topologicalSort</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span>modules<span class="token punctuation">)</span><span class="token punctuation">;</span>
    concatenatedModule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcatenatedModule</span><span class="token punctuation">(</span>orderedModules<span class="token punctuation">)</span><span class="token punctuation">;</span>
    chunk<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>concatenatedModule<span class="token punctuation">)</span><span class="token punctuation">;</span>
    orderedModules<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">groupModule</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      chunk<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>groupModule<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">tryToAdd</span><span class="token punctuation">(</span><span class="token parameter">group<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasPreconditions</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> nextGroup <span class="token operator">=</span> group<span class="token punctuation">;</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> module<span class="token punctuation">.</span>dependents<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">check<span class="token punctuation">,</span> dependent</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> check <span class="token operator">&#x26;&#x26;</span> <span class="token function">tryToAdd</span><span class="token punctuation">(</span>nextGroup<span class="token punctuation">,</span> dependent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  module<span class="token punctuation">.</span>dependencies<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">dependency</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">tryToAdd</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> dependency<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  group<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>nextGroup<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <h3 id="debugging-optimization-bailouts">Debugging Optimization Bailouts<a href="#debugging-optimization-bailouts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>When using the webpack CLI, the <code>--display-optimization-bailout</code> flag will display bailout reasons. When using the webpack config, add the following to the <code>stats</code> object:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Examine all modules</span>
    maxModules<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
    <span class="token comment">// Display bailout reasons</span>
    optimizationBailout<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="modulefederationplugin">ModuleFederationPlugin<a href="#modulefederationplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>ModuleFederationPlugin</code> allows a build to provide or consume modules with other independent builds at runtime.</p> <p><StackBlitzPreview example="module-federation?terminal=" description="Check out this live module federation example on StackBlitz."/></p> <h3 id="specify-package-versions">Specify package versions<a href="#specify-package-versions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>There are three ways to specify the versions of shared libraries.</p> <h4 id="array-syntax">Array syntax<a href="#array-syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>This syntax allows you to share libraries with package name only. This approach is good for prototyping, but it will not allow you to scale to large production environment given that libraries like <code>react</code> and <code>react-dom</code> will require additional requirements.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> ModuleFederationPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>container<span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// adds lodash as shared module</span>
      <span class="token comment">// version is inferred from package.json</span>
      <span class="token comment">// there is no version check for the required version</span>
      <span class="token comment">// so it will always use the higher version found</span>
      shared<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'lodash'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="object-syntax">Object syntax<a href="#object-syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>This syntax provides you more control over each shared library in which you can define package name as the key and version (<a href="https://semver.org/">semver</a>) as the value.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      shared<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// adds lodash as shared module</span>
        <span class="token comment">// version is inferred from package.json</span>
        <span class="token comment">// it will use the highest lodash version that is >= 4.17 and &#x3C; 5</span>
        lodash<span class="token operator">:</span> <span class="token string">'^4.17.0'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="object-syntax-with-sharing-hints">Object syntax with sharing hints<a href="#object-syntax-with-sharing-hints" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>This syntax allows you to provide additional <a href="#sharing-hints">hints</a> to each shared package where you define the package name as the key, and the value as an object containing hints to modify sharing behavior.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> deps <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./package.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>dependencies<span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      shared<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// adds react as shared module</span>
        <span class="token comment">// version is inferred from package.json</span>
        <span class="token comment">// it will always use the shared version, but print a warning when the shared lodash is &#x3C; 4.17 or >= 5</span>
        react<span class="token operator">:</span> <span class="token punctuation">{</span>
          requiredVersion<span class="token operator">:</span> deps<span class="token punctuation">.</span>lodash<span class="token punctuation">,</span>
          singleton<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="sharing-hints">Sharing hints<a href="#sharing-hints" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="eager"><strong><code>eager</code></strong><a href="#eager" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>boolean</code></p> <p>This hint will allow webpack to include the provided and fallback module directly instead of fetching the library via an asynchronous request. In other words, this allows to use this shared module in the initial chunk. Also, be careful that all provided and fallback modules will always be downloaded when this hint is enabled.</p> <h4 id="import"><strong><code>import</code></strong><a href="#import" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>false | string</code></p> <p>The provided module that should be placed in the shared scope. This provided module also acts as fallback module if no shared module is found in the shared scope or version isn't valid. (The value for this hint defaults to the property name.)</p> <h4 id="packagename"><strong><code>packageName</code></strong><a href="#packagename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>string</code></p> <p>The package name that is used to determine required version from description file. This is only needed when the package name can't be automatically determined from request.</p> <h4 id="requiredversion"><strong><code>requiredVersion</code></strong><a href="#requiredversion" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>false | string</code></p> <p>The required version of the package.</p> <h4 id="sharekey"><strong><code>shareKey</code></strong><a href="#sharekey" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>string</code></p> <p>The requested shared module is looked up under this key from the shared scope.</p> <h4 id="sharescope"><strong><code>shareScope</code></strong><a href="#sharescope" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>string</code></p> <p>The name of the shared scope.</p> <h4 id="singleton"><strong><code>singleton</code></strong><a href="#singleton" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>boolean</code></p> <p>This hint only allows a single version of the shared module in the shared scope (disabled by default). Some libraries use a global internal state (e.g. react, react-dom). Thus, it is critical to have only one instance of the library running at a time.</p> <h4 id="strictversion"><strong><code>strictVersion</code></strong><a href="#strictversion" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>boolean</code></p> <p>This hint allows webpack to reject the shared module if version is not valid (defaults to <code>true</code> when local fallback module is available and shared module is not a singleton, otherwise <code>false</code>, it has no effect if there is no required version specified).</p> <h4 id="version"><strong><code>version</code></strong><a href="#version" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>false | string</code></p> <p>The version of the provided module. It allows webpack to replace lower matching versions, but not higher.</p> <h4 id="additional-examples"><strong>Additional examples</strong><a href="#additional-examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// adds vue as shared module</span>
      <span class="token comment">// version is inferred from package.json</span>
      <span class="token comment">// it will always use the shared version, but print a warning when the shared vue is &#x3C; 2.6.5 or >= 3</span>
      shared<span class="token operator">:</span> <span class="token punctuation">{</span>
        vue<span class="token operator">:</span> <span class="token punctuation">{</span>
          requiredVersion<span class="token operator">:</span> <span class="token string">'^2.6.5'</span><span class="token punctuation">,</span>
          singleton<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// adds vue as shared module</span>
      <span class="token comment">// there is no local version provided</span>
      <span class="token comment">// it will emit a warning if the shared vue is &#x3C; 2.6.5 or >= 3</span>
      shared<span class="token operator">:</span> <span class="token punctuation">{</span>
        vue<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token keyword">import</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          requiredVersion<span class="token operator">:</span> <span class="token string">'^2.6.5'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// adds vue as shared module</span>
      <span class="token comment">// there is no local version provided</span>
      <span class="token comment">// it will throw an error when the shared vue is &#x3C; 2.6.5 or >= 3</span>
      shared<span class="token operator">:</span> <span class="token punctuation">{</span>
        vue<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token keyword">import</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          requiredVersion<span class="token operator">:</span> <span class="token string">'^2.6.5'</span><span class="token punctuation">,</span>
          strictVersion<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      shared<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'my-vue'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// can be referenced by import "my-vue"</span>
          <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'vue'</span><span class="token punctuation">,</span> <span class="token comment">// the "vue" package will be used as a provided and fallback module</span>
          shareKey<span class="token operator">:</span> <span class="token string">'shared-vue'</span><span class="token punctuation">,</span> <span class="token comment">// under this name the shared module will be placed in the share scope</span>
          shareScope<span class="token operator">:</span> <span class="token string">'default'</span><span class="token punctuation">,</span> <span class="token comment">// share scope with this name will be used</span>
          singleton<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// only a single version of the shared module is allowed</span>
          strictVersion<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// don't use shared version when version isn't valid. Singleton or modules without fallback will throw, otherwise fallback is used</span>
          version<span class="token operator">:</span> <span class="token string">'1.2.3'</span><span class="token punctuation">,</span> <span class="token comment">// the version of the shared module</span>
          requiredVersion<span class="token operator">:</span> <span class="token string">'^1.0.0'</span><span class="token punctuation">,</span> <span class="token comment">// the required version of the shared module</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="noemitonerrorsplugin">NoEmitOnErrorsPlugin<a href="#noemitonerrorsplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>NoEmitOnErrorsPlugin</code> allows you to avoid emitting assets when there are any errors. Enabled by default, you can disable using <a href="/configuration/optimization/#optimizationemitonerrors"><code>optimization.emitOnErrors</code></a></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NoEmitOnErrorsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="normalmodulereplacementplugin">NormalModuleReplacementPlugin<a href="#normalmodulereplacementplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>NormalModuleReplacementPlugin</code> allows you to replace resources that match <code>resourceRegExp</code> with <code>newResource</code>. If <code>newResource</code> is relative, it is resolved relative to the previous resource. If <code>newResource</code> is a function, it is expected to overwrite the request attribute of the supplied resource.</p> <p>This can be useful for allowing different behaviour between builds.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NormalModuleReplacementPlugin</span><span class="token punctuation">(</span>resourceRegExp<span class="token punctuation">,</span> newResource<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="basic-example">Basic Example<a href="#basic-example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Replace a specific module when building for a <a href="/guides/production">development environment</a>.</p> <p>Say you have a configuration file <code>some/path/config.development.module.js</code> and a special version for production in <code>some/path/config.production.module.js</code></p> <p>Add the following plugin when building for production:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NormalModuleReplacementPlugin</span><span class="token punctuation">(</span>
  <span class="token regex">/some\/path\/config\.development\.js/</span><span class="token punctuation">,</span>
  <span class="token string">'./config.production.js'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="advanced-example">Advanced Example<a href="#advanced-example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Conditional build depending on an <a href="/configuration/configuration-types">specified environment</a>.</p> <p>Say you want a configuration with specific values for different build targets.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> appTarget <span class="token operator">=</span> env<span class="token punctuation">.</span><span class="token constant">APP_TARGET</span> <span class="token operator">||</span> <span class="token string">'VERSION_A'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NormalModuleReplacementPlugin</span><span class="token punctuation">(</span>
        <span class="token regex">/(.*)-APP_TARGET(\.*)/</span><span class="token punctuation">,</span>
        <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resource</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          resource<span class="token punctuation">.</span>request <span class="token operator">=</span> resource<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>
            <span class="token regex">/-APP_TARGET/</span><span class="token punctuation">,</span>
            <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>appTarget<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Create the two configuration files:</p> <p><strong>app/config-VERSION_A.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token string">'I am version A'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>app/config-VERSION_B.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token string">'I am version B'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Then import that configuration using the keyword you're looking for in the regexp:</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">'app/config-APP_TARGET'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>And now you get the right configuration imported depending on which target you're building for:</p> <pre><code class="hljs language-bash">npx webpack --env <span class="token assign-left variable">APP_TARGET</span><span class="token operator">=</span>VERSION_A
<span class="token operator">=</span><span class="token operator">></span> <span class="token string">'I am version A'</span>

npx webpack --env <span class="token assign-left variable">APP_TARGET</span><span class="token operator">=</span>VERSION_B
<span class="token operator">=</span><span class="token operator">></span> <span class="token string">'I am version B'</span></code></pre> <h1 id="prefetchplugin-1">PrefetchPlugin<a href="#prefetchplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Prefetch normal module requests, causing them to be resolved and built before the first <code>import</code> or <code>require</code> of that module occurs. Using this plugin can boost performance. Try to profile the build first to determine clever prefetching points.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>PrefetchPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options-16">Options<a href="#options-16" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>context</code>: An absolute path to a directory</li> <li><code>request</code>: A request string for a normal module</li> </ul> <h1 id="profilingplugin">ProfilingPlugin<a href="#profilingplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Generate Chrome profile file which includes timings of plugins execution. Outputs <code>events.json</code> file by default. It is possible to provide custom file path using <code>outputPath</code> option.</p> <blockquote> <p>Note : ProfilingPlugin accepts only absolute paths.</p> </blockquote> <h2 id="options-17">Options<a href="#options-17" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>outputPath</code>: An absolute path to a custom output file (json)</li> </ul> <h2 id="usage-default">Usage: default<a href="#usage-default" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>debug<span class="token punctuation">.</span>ProfilingPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="usage-custom-outputpath">Usage: custom <code>outputPath</code><a href="#usage-custom-outputpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>debug<span class="token punctuation">.</span>ProfilingPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  outputPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'profiling/profileEvents.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>In order to view the profile file:</p> <ol> <li>Run webpack with <code>ProfilingPlugin</code>.</li> <li>Go to Chrome, open DevTools, and go to the <code>Performance</code> tab (formerly <code>Timeline</code>).</li> <li>Drag and drop generated file (<code>events.json</code> by default) into the profiler.</li> </ol> <p>It will then display timeline stats and calls per plugin!</p> <h1 id="progressplugin-1">ProgressPlugin<a href="#progressplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>object = { boolean activeModules = true, boolean entries = false, function (number percentage, string message, [string] ...args) handler, boolean modules = true, number modulesCount = 500, boolean profile = false }</code></p> <p><code>function (number percentage, string message, [string] ...args)</code></p> <p>The <code>ProgressPlugin</code> provides a way to customize how progress is reported during a compilation.</p> <h2 id="usage-8">Usage<a href="#usage-8" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Create an instance of <code>ProgressPlugin</code> and provide one of the allowed params.</p> <h3 id="providing-function">Providing <code>function</code><a href="#providing-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Provide a handler function which will be called when hooks report progress. <code>handler</code> function arguments:</p> <ul> <li><code>percentage</code>: a number between 0 and 1 indicating the completion percentage of the compilation</li> <li><code>message</code>: a short description of the currently-executing hook</li> <li><code>...args</code>: zero or more additional strings describing the current progress</li> </ul> <pre><code class="hljs language-js"><span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">percentage<span class="token punctuation">,</span> message<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// e.g. Output each progress message directly to the console:</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>percentage<span class="token punctuation">,</span> message<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProgressPlugin</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="providing-object">Providing <code>object</code><a href="#providing-object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>When providing an <code>object</code> to the <code>ProgressPlugin</code>, following properties are supported:</p> <ul> <li><code>activeModules</code> (<code>boolean = false</code>): Shows active modules count and one active module in progress message.</li> <li><code>entries</code> (<code>boolean = true</code>): Shows entries count in progress message.</li> <li><code>handler</code> (See <a href="#providing-function">Providing function</a>)</li> <li><code>modules</code> (<code>boolean = true</code>): Shows modules count in progress message.</li> <li><code>modulesCount</code> (<code>number = 5000</code>): A minimum modules count to start with. Takes effect when <code>modules</code> property is enabled.</li> <li><code>profile</code> (<code>boolean = false</code>): Tells <code>ProgressPlugin</code> to collect profile data for progress steps.</li> <li><code>dependencies</code> (<code>boolean = true</code>): Shows the count of dependencies in progress message.</li> <li><code>dependenciesCount</code> (<code>number = 10000</code>): A minimum dependencies count to start with. Takes effect when <code>dependencies</code> property is enabled.</li> <li><code>percentBy</code> (<code>string = null: 'entries' | 'dependencies' | 'modules' | null</code>): Tells <code>ProgressPlugin</code> how to calculate progress percentage.</li> </ul> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProgressPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  activeModules<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  entries<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">percentage<span class="token punctuation">,</span> message<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// custom logic</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  modulesCount<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  profile<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  dependencies<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  dependenciesCount<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  percentBy<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="percentage-calculation">Percentage calculation<a href="#percentage-calculation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>By default, progress percentage is calculated based on built modules count and total modules count: <code>built / total</code></p> <p>The total modules count is unknown in advance and changes during the build. This may cause inaccurate progress percentage.</p> <p>To solve this problem <code>ProgressPlugin</code> caches the last known total modules count and reuses this value on the next build. The first build will warm the cache but the following builds will use and update this value.</p> <blockquote> <p>We recommend using <code>percentBy: 'entries'</code> setting for projects with <a href="/configuration/entry-context/#entry">multiple configured entry points</a>. Percentage calculation will become more accurate because the amount of entry points is known in advance.</p> </blockquote> <h2 id="supported-hooks">Supported Hooks<a href="#supported-hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following hooks report progress information to <code>ProgressPlugin</code>.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p><em>Hooks marked with * allow plugins to report progress information using <code>reportProgress</code>. For more, see <a href="/api/plugins/#reporting-progress">Plugin API: Reporting Progress</a></em></p></aside> <p><strong>Compiler</strong></p> <ul> <li>compilation</li> <li>emit*</li> <li>afterEmit*</li> <li>done</li> </ul> <p><strong>Compilation</strong></p> <ul> <li>buildModule</li> <li>failedModule</li> <li>succeedModule</li> <li>finishModules*</li> <li>seal*</li> <li>optimizeDependenciesBasic*</li> <li>optimizeDependencies*</li> <li>optimizeDependenciesAdvanced*</li> <li>afterOptimizeDependencies*</li> <li>optimize*</li> <li>optimizeModulesBasic*</li> <li>optimizeModules*</li> <li>optimizeModulesAdvanced*</li> <li>afterOptimizeModules*</li> <li>optimizeChunksBasic*</li> <li>optimizeChunks*</li> <li>optimizeChunksAdvanced*</li> <li>afterOptimizeChunks*</li> <li>optimizeTree*</li> <li>afterOptimizeTree*</li> <li>optimizeChunkModulesBasic*</li> <li>optimizeChunkModules*</li> <li>optimizeChunkModulesAdvanced*</li> <li>afterOptimizeChunkModules*</li> <li>reviveModules*</li> <li>optimizeModuleOrder*</li> <li>advancedOptimizeModuleOrder*</li> <li>beforeModuleIds*</li> <li>moduleIds*</li> <li>optimizeModuleIds*</li> <li>afterOptimizeModuleIds*</li> <li>reviveChunks*</li> <li>optimizeChunkOrder*</li> <li>beforeChunkIds*</li> <li>optimizeChunkIds*</li> <li>afterOptimizeChunkIds*</li> <li>recordModules*</li> <li>recordChunks*</li> <li>beforeHash*</li> <li>afterHash*</li> <li>recordHash*</li> <li>beforeModuleAssets*</li> <li>beforeChunkAssets*</li> <li>additionalChunkAssets*</li> <li>record*</li> <li>additionalAssets*</li> <li>optimizeChunkAssets*</li> <li>afterOptimizeChunkAssets*</li> <li>optimizeAssets*</li> <li>afterOptimizeAssets*</li> <li>afterSeal*</li> </ul> <h2 id="source-2">Source<a href="#source-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><a href="https://github.com/webpack/webpack/blob/master/lib/ProgressPlugin.js"><code>ProgressPlugin</code> source</a></li> </ul> <h1 id="provideplugin-1">ProvidePlugin<a href="#provideplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Automatically load modules instead of having to <code>import</code> or <code>require</code> them everywhere.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  identifier<span class="token operator">:</span> <span class="token string">'module1'</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>or</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  identifier<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'module1'</span><span class="token punctuation">,</span> <span class="token string">'property1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>By default, module resolution path is current folder (<code>./**)</code> and <code>node_modules</code>.</p> <p>It is also possible to specify full path:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  identifier<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/module1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Whenever the <code>identifier</code> is encountered as free variable in a module, the <code>module</code> is loaded automatically and the <code>identifier</code> is filled with the exports of the loaded <code>module</code> (or <code>property</code> in order to support named exports).</p> <p>For importing the default export of an ES2015 module, you have to specify the default property of module.</p> <h2 id="usage-jquery">Usage: jQuery<a href="#usage-jquery" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To automatically load <code>jquery</code> we can point both variables it exposes to the corresponding node module:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  $<span class="token operator">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>
  jQuery<span class="token operator">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Then in any of our source code:</p> <pre><code class="hljs language-javascript"><span class="token comment">// in a module</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;= works</span>
<span class="token function">jQuery</span><span class="token punctuation">(</span><span class="token string">'#item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;= also works</span>
<span class="token comment">// $ is automatically set to the exports of module "jquery"</span></code></pre> <h2 id="usage-jquery-with-angular-1">Usage: jQuery with Angular 1<a href="#usage-jquery-with-angular-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Angular looks for <code>window.jQuery</code> in order to determine whether jQuery is present, see the <a href="https://github.com/angular/angular.js/blob/v1.5.9/src/Angular.js#L1821-L1823">source code</a>.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'window.jQuery'</span><span class="token operator">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="usage-lodash-map">Usage: Lodash Map<a href="#usage-lodash-map" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  _map<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'lodash'</span><span class="token punctuation">,</span> <span class="token string">'map'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="usage-vuejs">Usage: Vue.js<a href="#usage-vuejs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  Vue<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token string">'default'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="sourcemapdevtoolplugin-1">SourceMapDevToolPlugin<a href="#sourcemapdevtoolplugin-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>This plugin enables more fine grained control of source map generation. It is also enabled automatically by certain settings of the <a href="/configuration/devtool/"><code>devtool</code></a> configuration option.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options-18">Options<a href="#options-18" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following options are supported:</p> <ul> <li><code>test</code> (<code>string</code> <code>RegExp</code> <code>[string, RegExp]</code>): Include source maps for modules based on their extension (defaults to <code>.js</code>, <code>.mjs</code>, and <code>.css</code>).</li> <li><code>include</code> (<code>string</code> <code>RegExp</code> <code>[string, RegExp]</code>): Include source maps for module paths that match the given value.</li> <li><code>exclude</code> (<code>string</code> <code>RegExp</code> <code>[string, RegExp]</code>): Exclude modules that match the given value from source map generation.</li> <li><code>filename</code> (<code>string</code>): Defines the output filename of the SourceMap (will be inlined if no value is provided).</li> <li><code>append</code> (<code>string</code>): Appends the given value to the original asset. Usually the <code>#sourceMappingURL</code> comment. <code>[url]</code> is replaced with a URL to the source map file. Since webpack v4.36.0, path parameters are supported: <code>[chunk]</code>, <code>[filename]</code> and <code>[contenthash]</code>. Setting <code>append</code> to <code>false</code> disables the appending.</li> <li><code>moduleFilenameTemplate</code> (<code>string</code>): See <a href="/configuration/output/#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>.</li> <li><code>fallbackModuleFilenameTemplate</code> (<code>string</code>): See link above.</li> <li><code>namespace</code> (<code>string</code>): See <a href="/configuration/output/#outputdevtoolnamespace"><code>output.devtoolNamespace</code></a>.</li> <li><code>module = true</code> (<code>boolean</code>): Indicates whether loaders should generate source maps.</li> <li><code>columns = true</code> (<code>boolean</code>): Indicates whether column mappings should be used.</li> <li><code>noSources = false</code> (<code>boolean</code>): Prevents the source file content from being included in the source map.</li> <li><code>publicPath</code> (<code>string</code>): Emits absolute URLs with public path prefix, e.g. <code>https://example.com/project/</code>.</li> <li><code>fileContext</code> (<code>string</code>): Makes the <code>[file]</code> argument relative to this directory.</li> <li><code>sourceRoot</code> (<code>string</code>): Provide a custom value for the <code>sourceRoot</code> property in the SourceMap.</li> </ul> <p>The <code>fileContext</code> option is useful when you want to store source maps in an upper level directory to avoid <code>../../</code> appearing in the absolute <code>[url]</code>.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Setting <code>module</code> and/or <code>columns</code> to <code>false</code> will yield less accurate source maps but will also improve compilation performance significantly.</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>If you want to use a custom configuration for this plugin in <a href="/configuration/mode/#mode-development">development mode</a>, make sure to disable the default one. I.e. set <code>devtool: false</code>.</p></aside> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>If the default webpack <code>minimizer</code> has been overridden (such as to customise the <code>TerserPlugin</code> options), make sure to configure its replacement with <code>sourceMap: true</code> to enable SourceMap support.</p></aside> <h2 id="examples-8">Examples<a href="#examples-8" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following examples demonstrate some common use cases for this plugin.</p> <h3 id="basic-use-case-1">Basic Use Case<a href="#basic-use-case-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You can use the following code to replace the configuration option <code>devtool: inline-source-map</code> with an equivalent custom plugin configuration:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  devtool<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-vendor-maps-1">Exclude Vendor Maps<a href="#exclude-vendor-maps-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following code would exclude source maps for any modules in the <code>vendor.js</code> bundle:</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  filename<span class="token operator">:</span> <span class="token string">'[name].js.map'</span><span class="token punctuation">,</span>
  exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vendor.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="host-source-maps-externally">Host Source Maps Externally<a href="#host-source-maps-externally" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Set a URL for source maps. Useful for hosting them on a host that requires authorization.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  append<span class="token operator">:</span> <span class="token string">'\n//# sourceMappingURL=https://example.com/sourcemap/[url]'</span><span class="token punctuation">,</span>
  filename<span class="token operator">:</span> <span class="token string">'[name].map'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>And for cases when source maps are stored in the upper level directory:</p> <pre><code class="hljs language-code">project
|- dist
  |- public
    |- bundle-[hash].js
  |- sourcemaps
    |- bundle-[hash].js.map
</code></pre> <p>With next config:</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  filename<span class="token operator">:</span> <span class="token string">'sourcemaps/[file].map'</span><span class="token punctuation">,</span>
  publicPath<span class="token operator">:</span> <span class="token string">'https://example.com/project/'</span><span class="token punctuation">,</span>
  fileContext<span class="token operator">:</span> <span class="token string">'public'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Will produce the following URL:</p> <pre><code class="hljs language-code">https://example.com/project/sourcemaps/bundle-[hash].js.map
</code></pre> <h1 id="splitchunksplugin">SplitChunksPlugin<a href="#splitchunksplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Originally, chunks (and modules imported inside them) were connected by a parent-child relationship in the internal webpack graph. The <code>CommonsChunkPlugin</code> was used to avoid duplicated dependencies across them, but further optimizations were not possible.</p> <p>Since webpack v4, the <code>CommonsChunkPlugin</code> was removed in favor of <code>optimization.splitChunks</code>.</p> <h2 id="defaults">Defaults<a href="#defaults" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Out of the box <code>SplitChunksPlugin</code> should work well for most users.</p> <p>By default it only affects on-demand chunks, because changing initial chunks would affect the script tags the HTML file should include to run the project.</p> <p>webpack will automatically split chunks based on these conditions:</p> <ul> <li>New chunk can be shared OR modules are from the <code>node_modules</code> folder</li> <li>New chunk would be bigger than 20kb (before min+gz)</li> <li>Maximum number of parallel requests when loading chunks on demand would be lower or equal to 30</li> <li>Maximum number of parallel requests at initial page load would be lower or equal to 30</li> </ul> <p>When trying to fulfill the last two conditions, bigger chunks are preferred.</p> <h2 id="configuration-1">Configuration<a href="#configuration-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack provides a set of options for developers that want more control over this functionality.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>The default configuration was chosen to fit web performance best practices, but the optimal strategy for your project might differ. If you're changing the configuration, you should measure the impact of your changes to ensure there's a real benefit.</p></aside> <h2 id="optimizationsplitchunks"><code>optimization.splitChunks</code><a href="#optimizationsplitchunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This configuration object represents the default behavior of the <code>SplitChunksPlugin</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      chunks<span class="token operator">:</span> <span class="token string">'async'</span><span class="token punctuation">,</span>
      minSize<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
      minRemainingSize<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      minChunks<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      maxAsyncRequests<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
      maxInitialRequests<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
      enforceSizeThreshold<span class="token operator">:</span> <span class="token number">50000</span><span class="token punctuation">,</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]/</span><span class="token punctuation">,</span>
          priority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>
          reuseExistingChunk<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          minChunks<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          priority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span>
          reuseExistingChunk<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>When files paths are processed by webpack, they always contain <code>/</code> on Unix systems and <code>\</code> on Windows. That's why using <code>[\\/]</code> in <code>{cacheGroup}.test</code> fields is necessary to represent a path separator. <code>/</code> or <code>\</code> in <code>{cacheGroup}.test</code> will cause issues when used cross-platform.</p></aside> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Since webpack 5, passing an entry name to <code>{cacheGroup}.test</code> and using a name of an existing chunk for <code>{cacheGroup}.name</code> is no longer allowed.</p></aside> <h3 id="splitchunksautomaticnamedelimiter"><code>splitChunks.automaticNameDelimiter</code><a href="#splitchunksautomaticnamedelimiter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = '~'</code></p> <p>By default webpack will generate names using origin and name of the chunk (e.g. <code>vendors~main.js</code>). This option lets you specify the delimiter to use for the generated names.</p> <h3 id="splitchunkschunks"><code>splitChunks.chunks</code><a href="#splitchunkschunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = 'async'</code> <code>function (chunk)</code></p> <p>This indicates which chunks will be selected for optimization. When a string is provided, valid values are <code>all</code>, <code>async</code>, and <code>initial</code>. Providing <code>all</code> can be particularly powerful, because it means that chunks can be shared even between async and non-async chunks.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// include all types of chunks</span>
      chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Alternatively, you may provide a function for more control. The return value will indicate whether to include each chunk.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">chunks</span><span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exclude `my-excluded-chunk`</span>
        <span class="token keyword">return</span> chunk<span class="token punctuation">.</span>name <span class="token operator">!==</span> <span class="token string">'my-excluded-chunk'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>You can combine this configuration with the <a href="/plugins/html-webpack-plugin/">HtmlWebpackPlugin</a>. It will inject all the generated vendor chunks for you.</p></aside> <h3 id="splitchunksmaxasyncrequests"><code>splitChunks.maxAsyncRequests</code><a href="#splitchunksmaxasyncrequests" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 30</code></p> <p>Maximum number of parallel requests when on-demand loading.</p> <h3 id="splitchunksmaxinitialrequests"><code>splitChunks.maxInitialRequests</code><a href="#splitchunksmaxinitialrequests" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 30</code></p> <p>Maximum number of parallel requests at an entry point.</p> <h3 id="splitchunksdefaultsizetypes"><code>splitChunks.defaultSizeTypes</code><a href="#splitchunksdefaultsizetypes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string] = ['javascript', 'unknown']</code></p> <p>Sets the size types which are used when a number is used for sizes.</p> <h3 id="splitchunksminchunks"><code>splitChunks.minChunks</code><a href="#splitchunksminchunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 1</code></p> <p>The minimum times must a module be shared among chunks before splitting.</p> <h3 id="splitchunkshidepathinfo"><code>splitChunks.hidePathInfo</code><a href="#splitchunkshidepathinfo" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code></p> <p>Prevents exposing path info when creating names for parts splitted by maxSize.</p> <h3 id="splitchunksminsize"><code>splitChunks.minSize</code><a href="#splitchunksminsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 20000</code></p> <p>Minimum size, in bytes, for a chunk to be generated.</p> <h3 id="splitchunksenforcesizethreshold"><code>splitChunks.enforceSizeThreshold</code><a href="#splitchunksenforcesizethreshold" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="splitchunkscachegroupscachegroupenforcesizethreshold"><code>splitChunks.cacheGroups.{cacheGroup}.enforceSizeThreshold</code><a href="#splitchunkscachegroupscachegroupenforcesizethreshold" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>number = 50000</code></p> <p>Size threshold at which splitting is enforced and other restrictions (minRemainingSize, maxAsyncRequests, maxInitialRequests) are ignored.</p> <h3 id="splitchunksminremainingsize"><code>splitChunks.minRemainingSize</code><a href="#splitchunksminremainingsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="splitchunkscachegroupscachegroupminremainingsize"><code>splitChunks.cacheGroups.{cacheGroup}.minRemainingSize</code><a href="#splitchunkscachegroupscachegroupminremainingsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>number = 0</code></p> <p><code>splitChunks.minRemainingSize</code> option was introduced in webpack 5 to avoid zero sized modules by ensuring that the minimum size of the chunk which remains after splitting is above a limit. Defaults to <code>0</code> in <a href="/configuration/mode/#mode-development">'development' mode</a>. For other cases <code>splitChunks.minRemainingSize</code> defaults to the value of <code>splitChunks.minSize</code> so it doesn't need to be specified manually except for the rare cases where deep control is required.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p><code>splitChunks.minRemainingSize</code> only takes effect when a single chunk is remaining.</p></aside> <h3 id="splitchunkslayer"><code>splitChunks.layer</code><a href="#splitchunkslayer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="splitchunkscachegroupscachegrouplayer"><code>splitChunks.cacheGroups.{cacheGroup}.layer</code><a href="#splitchunkscachegroupscachegrouplayer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>RegExp</code> <code>string</code> <code>function</code></p> <p>Assign modules to a cache group by module layer.</p> <h3 id="splitchunksmaxsize"><code>splitChunks.maxSize</code><a href="#splitchunksmaxsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 0</code></p> <p>Using <code>maxSize</code> (either globally <code>optimization.splitChunks.maxSize</code> per cache group <code>optimization.splitChunks.cacheGroups[x].maxSize</code> or for the fallback cache group <code>optimization.splitChunks.fallbackCacheGroup.maxSize</code>) tells webpack to try to split chunks bigger than <code>maxSize</code> bytes into smaller parts. Parts will be at least <code>minSize</code> (next to <code>maxSize</code>) in size. The algorithm is deterministic and changes to the modules will only have local impact. So that it is usable when using long term caching and doesn't require records. <code>maxSize</code> is only a hint and could be violated when modules are bigger than <code>maxSize</code> or splitting would violate <code>minSize</code>.</p> <p>When the chunk has a name already, each part will get a new name derived from that name. Depending on the value of <code>optimization.splitChunks.hidePathInfo</code> it will add a key derived from the first module name or a hash of it.</p> <p><code>maxSize</code> option is intended to be used with HTTP/2 and long term caching. It increases the request count for better caching. It could also be used to decrease the file size for faster rebuilding.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p><code>maxSize</code> takes higher priority than <code>maxInitialRequest/maxAsyncRequests</code>. Actual priority is <code>maxInitialRequest/maxAsyncRequests &#x3C; maxSize &#x3C; minSize</code>.</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Setting the value for <code>maxSize</code> sets the value for both <code>maxAsyncSize</code> and <code>maxInitialSize</code>.</p></aside> <h3 id="splitchunksmaxasyncsize"><code>splitChunks.maxAsyncSize</code><a href="#splitchunksmaxasyncsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number</code></p> <p>Like <code>maxSize</code>, <code>maxAsyncSize</code> can be applied globally (<code>splitChunks.maxAsyncSize</code>), to cacheGroups (<code>splitChunks.cacheGroups.{cacheGroup}.maxAsyncSize</code>), or to the fallback cache group (<code>splitChunks.fallbackCacheGroup.maxAsyncSize</code>).</p> <p>The difference between <code>maxAsyncSize</code> and <code>maxSize</code> is that <code>maxAsyncSize</code> will only affect on-demand loading chunks.</p> <h3 id="splitchunksmaxinitialsize"><code>splitChunks.maxInitialSize</code><a href="#splitchunksmaxinitialsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number</code></p> <p>Like <code>maxSize</code>, <code>maxInitialSize</code> can be applied globally (<code>splitChunks.maxInitialSize</code>), to cacheGroups (<code>splitChunks.cacheGroups.{cacheGroup}.maxInitialSize</code>), or to the fallback cache group (<code>splitChunks.fallbackCacheGroup.maxInitialSize</code>).</p> <p>The difference between <code>maxInitialSize</code> and <code>maxSize</code> is that <code>maxInitialSize</code> will only affect initial load chunks.</p> <h3 id="splitchunksname"><code>splitChunks.name</code><a href="#splitchunksname" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code> <code>function (module, chunks, cacheGroupKey) => string</code> <code>string</code></p> <p>Also available for each cacheGroup: <code>splitChunks.cacheGroups.{cacheGroup}.name</code>.</p> <p>The name of the split chunk. Providing <code>false</code> will keep the same name of the chunks so it doesn't change names unnecessarily. It is the recommended value for production builds.</p> <p>Providing a string or a function allows you to use a custom name. Specifying either a string or a function that always returns the same string will merge all common modules and vendors into a single chunk. This might lead to bigger initial downloads and slow down page loads.</p> <p>If you choose to specify a function, you may find the <code>chunk.name</code> and <code>chunk.hash</code> properties (where <code>chunk</code> is an element of the <code>chunks</code> array) particularly useful in choosing a name for your chunk.</p> <p>If the <code>splitChunks.name</code> matches an <a href="/configuration/entry-context/#entry">entry point</a> name, the entry point will be removed.</p> <p><strong>main.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">'lodash'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'webpack'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        commons<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]/</span><span class="token punctuation">,</span>
          <span class="token comment">// cacheGroupKey here is `commons` as the key of the cacheGroup</span>
          <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> chunks<span class="token punctuation">,</span> cacheGroupKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> moduleFileName <span class="token operator">=</span> module
              <span class="token punctuation">.</span><span class="token function">identifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
              <span class="token punctuation">.</span><span class="token function">reduceRight</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> allChunksNames <span class="token operator">=</span> chunks<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cacheGroupKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>allChunksNames<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>moduleFileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Running webpack with following <code>splitChunks</code> configuration would also output a chunk of the group common with next name: <code>commons-main-lodash.js.e7519d2bb8777058fa27.js</code> (hash given as an example of real world output).</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>When assigning equal names to different split chunks, all vendor modules are placed into a single shared chunk, though it's not recommend since it can result in more code downloaded.</p></aside> <h3 id="splitchunksusedexports"><code>splitChunks.usedExports</code><a href="#splitchunksusedexports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="splitchunkscachegroupscachegroupusedexports"><code>splitChunks.cacheGroups{cacheGroup}.usedExports</code><a href="#splitchunkscachegroupscachegroupusedexports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>boolean = true</code></p> <p>Figure out which exports are used by modules to mangle export names, omit unused exports and generate more efficient code. When it is <code>true</code>: analyse used exports for each runtime, when it is <code>"global"</code>: analyse exports globally for all runtimes combined).</p> <h3 id="splitchunkscachegroups"><code>splitChunks.cacheGroups</code><a href="#splitchunkscachegroups" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Cache groups can inherit and/or override any options from <code>splitChunks.*</code>; but <code>test</code>, <code>priority</code> and <code>reuseExistingChunk</code> can only be configured on cache group level. To disable any of the default cache groups, set them to <code>false</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegrouppriority"><code>splitChunks.cacheGroups.{cacheGroup}.priority</code><a href="#splitchunkscachegroupscachegrouppriority" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>number = -20</code></p> <p>A module can belong to multiple cache groups. The optimization will prefer the cache group with a higher <code>priority</code>. The default groups have a negative priority to allow custom groups to take higher priority (default value is <code>0</code> for custom groups).</p> <h4 id="splitchunkscachegroupscachegroupreuseexistingchunk"><code>splitChunks.cacheGroups.{cacheGroup}.reuseExistingChunk</code><a href="#splitchunkscachegroupscachegroupreuseexistingchunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>boolean = true</code></p> <p>If the current chunk contains modules already split out from the main bundle, it will be reused instead of a new one being generated. This can impact the resulting file name of the chunk.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          reuseExistingChunk<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegrouptype"><code>splitChunks.cacheGroups.{cacheGroup}.type</code><a href="#splitchunkscachegroupscachegrouptype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>function</code> <code>RegExp</code> <code>string</code></p> <p>Allows to assign modules to a cache group by module type.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        json<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupstest"><code>splitChunks.cacheGroups.test</code><a href="#splitchunkscachegroupstest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <h4 id="splitchunkscachegroupscachegrouptest"><code>splitChunks.cacheGroups.{cacheGroup}.test</code><a href="#splitchunkscachegroupscachegrouptest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>function (module, { chunkGraph, moduleGraph }) => boolean</code> <code>RegExp</code> <code>string</code></p> <p>Controls which modules are selected by this cache group. Omitting it selects all modules. It can match the absolute module resource path or chunk names. When a chunk name is matched, all modules in the chunk are selected.</p> <p>Providing a function to<code>{cacheGroup}.test</code>:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        svgGroup<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// `module.resource` contains the absolute path of the file on disk.</span>
            <span class="token comment">// Note the usage of `path.sep` instead of / or \, for cross-platform compatibility.</span>
            <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              module<span class="token punctuation">.</span>resource <span class="token operator">&#x26;&#x26;</span>
              module<span class="token punctuation">.</span>resource<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.svg'</span><span class="token punctuation">)</span> <span class="token operator">&#x26;&#x26;</span>
              module<span class="token punctuation">.</span>resource<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span>sep<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">cacheable_svgs</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span>sep<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        byModuleTypeGroup<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> module<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'javascript/auto'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>In order to see what information is available in <code>module</code> and <code>chunks</code> objects, you can put <code>debugger;</code> statement in the callback. Then <a href="/contribute/debugging/#devtools">run your webpack build in debug mode</a> to inspect the parameters in Chromium DevTools.</p> <p>Providing a <code>RegExp</code> to <code>{cacheGroup}.test</code>:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// Note the usage of `[\\/]` as a path separator for cross-platform compatibility.</span>
          test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]|vendor[\\/]analytics_provider|vendor[\\/]other_lib/</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegroupfilename"><code>splitChunks.cacheGroups.{cacheGroup}.filename</code><a href="#splitchunkscachegroupscachegroupfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>string</code> <code>function (pathData, assetInfo) => string</code></p> <p>Allows to override the filename when and only when it's an initial chunk. All placeholders available in <a href="/configuration/output/#outputfilename"><code>output.filename</code></a> are also available here.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This option can also be set globally in <code>splitChunks.filename</code>, but this isn't recommended and will likely lead to an error if <a href="#splitchunkschunks"><code>splitChunks.chunks</code></a> is not set to <code>'initial'</code>. Avoid setting it globally.</p></aside> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">'[name].bundle.js'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>And as a function:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pathData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// Use pathData object for generating filename string based on your requirements</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pathData<span class="token punctuation">.</span>chunk<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-bundle.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>It is possible to create a folder structure by providing path prefixing the filename: <code>'js/vendor/bundle.js'</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">'js/[name]/bundle.js'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegroupenforce"><code>splitChunks.cacheGroups.{cacheGroup}.enforce</code><a href="#splitchunkscachegroupscachegroupenforce" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>boolean = false</code></p> <p>Tells webpack to ignore <a href="#splitchunksminsize"><code>splitChunks.minSize</code></a>, <a href="#splitchunksminchunks"><code>splitChunks.minChunks</code></a>, <a href="#splitchunksmaxasyncrequests"><code>splitChunks.maxAsyncRequests</code></a> and <a href="#splitchunksmaxinitialrequests"><code>splitChunks.maxInitialRequests</code></a> options and always create chunks for this cache group.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          enforce<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegroupidhint"><code>splitChunks.cacheGroups.{cacheGroup}.idHint</code><a href="#splitchunkscachegroupscachegroupidhint" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>string</code></p> <p>Sets the hint for chunk id. It will be added to chunk's filename.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          idHint<span class="token operator">:</span> <span class="token string">'vendors'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples-9">Examples<a href="#examples-9" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="defaults-example-1">Defaults: Example 1<a href="#defaults-example-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-js"><span class="token comment">// index.js</span>

<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// dynamic import</span></code></pre> <pre><code class="hljs language-js"><span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">//...</span></code></pre> <p><strong>Result:</strong> A separate chunk would be created containing <code>react</code>. At the import call this chunk is loaded in parallel to the original chunk containing <code>./a</code>.</p> <p>Why:</p> <ul> <li>Condition 1: The chunk contains modules from <code>node_modules</code></li> <li>Condition 2: <code>react</code> is bigger than 30kb</li> <li>Condition 3: Number of parallel requests at the import call is 2</li> <li>Condition 4: Doesn't affect request at initial page load</li> </ul> <p>What's the reasoning behind this? <code>react</code> probably won't change as often as your application code. By moving it into a separate chunk this chunk can be cached separately from your app code (assuming you are using chunkhash, records, Cache-Control or other long term cache approach).</p> <h3 id="defaults-example-2">Defaults: Example 2<a href="#defaults-example-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-js"><span class="token comment">// entry.js</span>

<span class="token comment">// dynamic imports</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-js"><span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token string">'./helpers'</span><span class="token punctuation">;</span> <span class="token comment">// helpers is 40kb in size</span>

<span class="token comment">//...</span></code></pre> <pre><code class="hljs language-js"><span class="token comment">// b.js</span>
<span class="token keyword">import</span> <span class="token string">'./helpers'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./more-helpers'</span><span class="token punctuation">;</span> <span class="token comment">// more-helpers is also 40kb in size</span>

<span class="token comment">//...</span></code></pre> <p><strong>Result:</strong> A separate chunk would be created containing <code>./helpers</code> and all dependencies of it. At the import calls this chunk is loaded in parallel to the original chunks.</p> <p>Why:</p> <ul> <li>Condition 1: The chunk is shared between both import calls</li> <li>Condition 2: <code>helpers</code> is bigger than 30kb</li> <li>Condition 3: Number of parallel requests at the import calls is 2</li> <li>Condition 4: Doesn't affect request at initial page load</li> </ul> <p>Putting the content of <code>helpers</code> into each chunk will result into its code being downloaded twice. By using a separate chunk this will only happen once. We pay the cost of an additional request, which could be considered a tradeoff. That's why there is a minimum size of 30kb.</p> <h3 id="split-chunks-example-1">Split Chunks: Example 1<a href="#split-chunks-example-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Create a <code>commons</code> chunk, which includes all code shared between entry points.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        commons<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">'commons'</span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'initial'</span><span class="token punctuation">,</span>
          minChunks<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This configuration can enlarge your initial bundles, it is recommended to use dynamic imports when a module is not immediately needed.</p></aside> <h3 id="split-chunks-example-2">Split Chunks: Example 2<a href="#split-chunks-example-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Create a <code>vendors</code> chunk, which includes all code from <code>node_modules</code> in the whole application.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        commons<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]/</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'vendors'</span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>This might result in a large chunk containing all external packages. It is recommended to only include your core frameworks and utilities and dynamically load the rest of the dependencies.</p></aside> <h3 id="split-chunks-example-3">Split Chunks: Example 3<a href="#split-chunks-example-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Create a <code>custom vendor</code> chunk, which contains certain <code>node_modules</code> packages matched by <code>RegExp</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        vendor<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/](react|react-dom)[\\/]/</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>This will result in splitting <code>react</code> and <code>react-dom</code> into a separate chunk. If you're not sure what packages have been included in a chunk you may refer to <a href="/guides/code-splitting/#bundle-analysis">Bundle Analysis</a> section for details.</p></aside> <h1 id="stylelintwebpackplugin">StylelintWebpackPlugin<a href="#stylelintwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="coverage"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <blockquote> <p>A Stylelint plugin for webpack</p> </blockquote> <h2 id="install-1">Install<a href="#install-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> stylelint-webpack-plugin --save-dev</code></pre> <p><strong>Note</strong>: You also need to install <code>stylelint</code> from npm, if you haven't already:</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> stylelint --save-dev</code></pre> <h2 id="usage-9">Usage<a href="#usage-9" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In your webpack configuration:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> StylelintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'stylelint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">StylelintPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="options-19">Options<a href="#options-19" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>See <a href="http://stylelint.io/user-guide/node-api/#options">stylelint's options</a> for the complete list of options available. These options are passed through to the <code>stylelint</code> directly.</p> <h3 id="configfile"><code>configFile</code><a href="#configfile" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>undefined</code></li> </ul> <p>Specify the config file location to be used by <code>stylelint</code>.</p> <p><strong>Note:</strong> By default this is <a href="http://stylelint.io/user-guide/configuration/">handled by <code>stylelint</code></a>.</p> <h3 id="context-2"><code>context</code><a href="#context-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>compiler.context</code></li> </ul> <p>A string indicating the root of your files.</p> <h3 id="exclude-6"><code>exclude</code><a href="#exclude-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>['node_modules', compiler.options.output.path]</code></li> </ul> <p>Specify the files and/or directories to exclude. Must be relative to <code>options.context</code>.</p> <h3 id="extensions-1"><code>extensions</code><a href="#extensions-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>['css', 'scss', 'sass']</code></li> </ul> <p>Specify extensions that should be checked.</p> <h3 id="files-1"><code>files</code><a href="#files-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>null</code></li> </ul> <p>Specify directories, files, or globs. Must be relative to <code>options.context</code>. Directories are traveresed recursively looking for files matching <code>options.extensions</code>. File and glob patterns ignore <code>options.extensions</code>.</p> <h3 id="fix-1"><code>fix</code><a href="#fix-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>If <code>true</code>, <code>stylelint</code> will fix as many errors as possible. The fixes are made to the actual source files. All unfixed errors will be reported. See <a href="https://stylelint.io/user-guide/cli#autofixing-errors">Autofixing errors</a> docs.</p> <h3 id="formatter-1"><code>formatter</code><a href="#formatter-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Function</code></li> <li>Default: <code>'string'</code></li> </ul> <p>Specify the formatter that you would like to use to format your results. See <a href="https://stylelint.io/user-guide/node-api#formatter">formatter option</a>.</p> <h3 id="lintdirtymodulesonly-1"><code>lintDirtyModulesOnly</code><a href="#lintdirtymodulesonly-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Lint only changed files, skip lint on start.</p> <h3 id="stylelintpath"><code>stylelintPath</code><a href="#stylelintpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>stylelint</code></li> </ul> <p>Path to <code>stylelint</code> instance that will be used for linting.</p> <h3 id="threads-1"><code>threads</code><a href="#threads-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean | Number</code></li> <li>Default: <code>false</code></li> </ul> <p>Set to true for an auto-selected pool size based on number of cpus. Set to a number greater than 1 to set an explicit pool size. Set to false, 1, or less to disable and only run in main process.</p> <h3 id="errors-and-warning-1">Errors and Warning<a href="#errors-and-warning-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>By default the plugin will auto adjust error reporting depending on stylelint errors/warnings counts.</strong> You can still force this behavior by using <code>emitError</code> <strong>or</strong> <code>emitWarning</code> options:</p> <h4 id="emiterror-1"><code>emitError</code><a href="#emiterror-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>The errors found will always be emitted, to disable set to <code>false</code>.</p> <h4 id="emitwarning-1"><code>emitWarning</code><a href="#emitwarning-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>The warnings found will always be emitted, to disable set to <code>false</code>.</p> <h4 id="failonerror-1"><code>failOnError</code><a href="#failonerror-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will cause the module build to fail if there are any errors, to disable set to <code>false</code>.</p> <h4 id="failonwarning-1"><code>failOnWarning</code><a href="#failonwarning-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will cause the module build to fail if there are any warnings, if set to <code>true</code>.</p> <h4 id="quiet-2"><code>quiet</code><a href="#quiet-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will process and report errors only and ignore warnings, if set to <code>true</code>.</p> <h4 id="outputreport-1"><code>outputReport</code><a href="#outputreport-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean|Object</code></li> <li>Default: <code>false</code></li> </ul> <p>Write the output of the errors to a file, for example a <code>json</code> file for use for reporting. The <code>filePath</code> is relative to the webpack config: <code>output.path</code>. You can pass in a different formatter for the output file, if none is passed in the default/configured formatter will be used.</p> <pre><code class="hljs language-js"><span class="token punctuation">{</span>
  filePath<span class="token operator">:</span> <span class="token string">'path/to/file'</span><span class="token punctuation">;</span>
  formatter<span class="token operator">:</span> <span class="token string">'json'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <h2 id="changelog-1">Changelog<a href="#changelog-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/stylelint-webpack-plugin/blob/master/CHANGELOG.md">Changelog</a></p> <h2 id="license-8">License<a href="#license-8" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/stylelint-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="terserwebpackplugin">TerserWebpackPlugin<a href="#terserwebpackplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="https://npmjs.com/package/compression-webpack-plugin"><img src="https://img.shields.io/npm/v/compression-webpack-plugin.svg" alt="npm"></a> <a href="https://nodejs.org"><img src="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/compression-webpack-plugin"><img src="https://david-dm.org/webpack-contrib/compression-webpack-plugin.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin"><img src="https://codecov.io/gh/webpack-contrib/compression-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>This plugin uses <a href="https://github.com/terser-js/terser">terser</a> to minify your JavaScript.</p> <h2 id="getting-started-7">Getting Started<a href="#getting-started-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>If you are using webpack v5 or above you do not need to install this plugin. Webpack v5 comes with the latest <code>terser-webpack-plugin</code> out of the box. Using Webpack v4, you have to install <code>terser-webpack-plugin</code> v4.</p> <p>To begin, you'll need to install <code>terser-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install terser-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> config. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"terser-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="note-about-source-maps-1">Note about source maps<a href="#note-about-source-maps-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><strong>Works only with <code>source-map</code>, <code>inline-source-map</code>, <code>hidden-source-map</code> and <code>nosources-source-map</code> values for the <a href="/configuration/devtool/"><code>devtool</code></a> option.</strong></p> <p>Why?</p> <ul> <li><code>eval</code> wraps modules in <code>eval("string")</code> and the minimizer does not handle strings.</li> <li><code>cheap</code> has not column information and minimizer generate only a single line, which leave only a single mapping.</li> </ul> <p>Using supported <code>devtool</code> values enable source map generation.</p> <h2 id="options-20">Options<a href="#options-20" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="test-5"><code>test</code><a href="#test-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>/\.m?js(\?.*)?$/i</code></p> <p>Test to match files against.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.js(\?.*)?$/i</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include-5"><code>include</code><a href="#include-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to include.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        include<span class="token operator">:</span> <span class="token regex">/\/includes/</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-7"><code>exclude</code><a href="#exclude-7" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        exclude<span class="token operator">:</span> <span class="token regex">/\/excludes/</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="parallel-2"><code>parallel</code><a href="#parallel-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean|Number</code> Default: <code>true</code></p> <p>Use multi-process parallel running to improve the build speed. Default number of concurrent runs: <code>os.cpus().length - 1</code>.</p> <blockquote> <p>ℹ️ Parallelization can speedup your build significantly and is therefore <strong>highly recommended</strong>.</p> </blockquote> <blockquote> <p>⚠️ If you use <strong>Circle CI</strong> or any other environment that doesn't provide real available count of CPUs then you need to setup explicitly number of CPUs to avoid <code>Error: Call retries were exceeded</code> (see <a href="https://github.com/webpack-contrib/terser-webpack-plugin/issues/143">#143</a>, <a href="https://github.com/webpack-contrib/terser-webpack-plugin/issues/202">#202</a>).</p> </blockquote> <h4 id="boolean-4"><code>Boolean</code><a href="#boolean-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable/disable multi-process parallel running.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="number-2"><code>Number</code><a href="#number-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable multi-process parallel running and set number of concurrent runs.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minify-4"><code>minify</code><a href="#minify-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Function</code> Default: <code>undefined</code></p> <p>Allows you to override default minify function. By default plugin uses <a href="https://github.com/terser-js/terser">terser</a> package. Useful for using and testing unpublished versions or forks.</p> <blockquote> <p>⚠️ <strong>Always use <code>require</code> inside <code>minify</code> function when <code>parallel</code> option enabled</strong>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          myCustomOption<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// Can be async</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> sourceMap<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token comment">// The `minimizerOptions` option contains option from the `terserOptions` option</span>
          <span class="token comment">// You can use `minimizerOptions.myCustomOption`</span>
          <span class="token keyword">const</span> extractedComments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

          <span class="token comment">// Custom logic for extract comments</span>

          <span class="token keyword">const</span> <span class="token punctuation">{</span> map<span class="token punctuation">,</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"uglify-module"</span><span class="token punctuation">)</span> <span class="token comment">// Or require('./path/to/uglify-module')</span>
            <span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token punctuation">{</span>
              <span class="token comment">/* Your options for minification */</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> <span class="token punctuation">{</span> map<span class="token punctuation">,</span> code<span class="token punctuation">,</span> extractedComments <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="terseroptions"><code>terserOptions</code><a href="#terseroptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Object</code> Default: <a href="https://github.com/terser-js/terser#minify-options">default</a></p> <p>Terser minify <a href="https://github.com/terser-js/terser#minify-options">options</a>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          ecma<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
          parse<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          compress<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          mangle<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Note `mangle.properties` is `false` by default.</span>
          module<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token comment">// Deprecated</span>
          output<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          format<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          toplevel<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          nameCache<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          ie8<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          keep_classnames<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
          keep_fnames<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          safari10<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="extractcomments"><code>extractComments</code><a href="#extractcomments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean|String|RegExp|Function&#x3C;(node, comment) -> Boolean|Object>|Object</code> Default: <code>true</code></p> <p>Whether comments shall be extracted to a separate file, (see <a href="https://github.com/webpack/webpack/commit/71933e979e51c533b432658d5e37917f9e71595a">details</a>). By default extract only comments using <code>/^\**!|@preserve|@license|@cc_on/i</code> regexp condition and remove remaining comments. If the original file is named <code>foo.js</code>, then the comments will be stored to <code>foo.js.LICENSE.txt</code>. The <code>terserOptions.format.comments</code> option specifies whether the comment will be preserved, i.e. it is possible to preserve some comments (e.g. annotations) while extracting others or even preserving comments that have been extracted.</p> <h4 id="boolean-5"><code>Boolean</code><a href="#boolean-5" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable/disable extracting comments.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="string-8"><code>String</code><a href="#string-8" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Extract <code>all</code> or <code>some</code> (use <code>/^\**!|@preserve|@license|@cc_on/i</code> RegExp) comments.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="regexp"><code>RegExp</code><a href="#regexp" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>All comments that match the given expression will be extracted to the separate file.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token regex">/@extract/i</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="functionnode-comment---boolean"><code>Function&#x3C;(node, comment) -> Boolean></code><a href="#functionnode-comment---boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>All comments that match the given expression will be extracted to the separate file.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">extractComments</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">astNode<span class="token punctuation">,</span> comment</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/@extract/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>comment<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="object-6"><code>Object</code><a href="#object-6" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Allow to customize condition for extract comments, specify extracted file name and banner.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token regex">/^\**!|@preserve|@license|@cc_on/i</span><span class="token punctuation">,</span>
          <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">fileData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// The "fileData" argument contains object with "filename", "basename", "query" and "hash"</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.LICENSE.txt</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>query<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">licenseFile</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">License information can be found in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>licenseFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="condition"><code>condition</code><a href="#condition" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Type: <code>Boolean|String|RegExp|Function&#x3C;(node, comment) -> Boolean|Object></code></p> <p>Condition what comments you need extract.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token string">"some"</span><span class="token punctuation">,</span>
          <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">fileData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// The "fileData" argument contains object with "filename", "basename", "query" and "hash"</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.LICENSE.txt</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>query<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">licenseFile</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">License information can be found in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>licenseFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="filename-4"><code>filename</code><a href="#filename-4" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Type: <code>String|Function&#x3C;(string) -> String></code> Default: <code>[file].LICENSE.txt[query]</code></p> <p>Available placeholders: <code>[file]</code>, <code>[query]</code> and <code>[filebase]</code> (<code>[base]</code> for webpack 5).</p> <p>The file where the extracted comments will be stored. Default is to append the suffix <code>.LICENSE.txt</code> to the original filename.</p> <blockquote> <p>⚠️ We highly recommend using the <code>txt</code> extension. Using <code>js</code>/<code>cjs</code>/<code>mjs</code> extensions may conflict with existing assets which leads to broken code.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token regex">/^\**!|@preserve|@license|@cc_on/i</span><span class="token punctuation">,</span>
          filename<span class="token operator">:</span> <span class="token string">"extracted-comments.js"</span><span class="token punctuation">,</span>
          <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">licenseFile</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">License information can be found in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>licenseFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="banner"><code>banner</code><a href="#banner" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Type: <code>Boolean|String|Function&#x3C;(string) -> String></code> Default: <code>/*! For license information please see ${commentsFile} */</code></p> <p>The banner text that points to the extracted file and will be added on top of the original file. Can be <code>false</code> (no banner), a <code>String</code>, or a <code>Function&#x3C;(string) -> String></code> that will be called with the filename where extracted comments have been stored. Will be wrapped into comment.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">fileData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// The "fileData" argument contains object with "filename", "basename", "query" and "hash"</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.LICENSE.txt</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>query<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">commentsFile</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My custom banner about license information </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>commentsFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples-10">Examples<a href="#examples-10" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="preserve-comments">Preserve Comments<a href="#preserve-comments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Extract all legal comments (i.e. <code>/^\**!|@preserve|@license|@cc_on/i</code>) and preserve <code>/@license/i</code> comments.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          format<span class="token operator">:</span> <span class="token punctuation">{</span>
            comments<span class="token operator">:</span> <span class="token regex">/@license/i</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        extractComments<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="remove-comments">Remove Comments<a href="#remove-comments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>If you avoid building with comments, use this config:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          format<span class="token operator">:</span> <span class="token punctuation">{</span>
            comments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        extractComments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="custom-minify-function">Custom Minify Function<a href="#custom-minify-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Override default minify function - use <code>uglify-js</code> for minification.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> sourceMap</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token comment">// https://github.com/mishoo/UglifyJS2#minify-options</span>
          <span class="token keyword">const</span> uglifyJsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token comment">/* your `uglify-js` package options */</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span>sourceMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uglifyJsOptions<span class="token punctuation">.</span>sourceMap <span class="token operator">=</span> <span class="token punctuation">{</span>
              content<span class="token operator">:</span> sourceMap<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"uglify-js"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> uglifyJsOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing-8">Contributing<a href="#contributing-8" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="https://github.com/webpack-contrib/terser-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license-9">License<a href="#license-9" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/terser-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="watchignoreplugin">WatchIgnorePlugin<a href="#watchignoreplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Ignore the specified files, i.e. those matching the provided paths or regular expressions, while in <a href="/configuration/watch">watch mode</a>.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>WatchIgnorePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> paths <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options-21">Options<a href="#options-21" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>paths</code> (<code>Array&#x3C;string | RegExp></code>): A list of RegExps or absolute paths to directories or files that should be ignored.</li> </ul> </div><div class="contributors__section"><hr/><h3>Contributors</h3><div class="contributors"><div class="contributors__list"><a class="contributor" href="https://github.com/webpack"><img alt="webpack" src="/icon-square-small-slack.9281492bb267314634b4.png"/><span class="contributor__name"> <!-- -->webpack</span></a></div></div></div></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="/guides/getting-started/">Get Started</a><a class="footer__link" href="/comparison/">Comparison</a><a href="https://privacy-policy.openjsf.org/" target="_blank" rel="noopener noreferrer" class="footer__link">Privacy Policy</a></section><section class="footer__middle"><a class="footer__icon" href="/"><img src="/icon-square-small.85ba630cf0c5f29ae3e3.svg" alt="webpack icon"/></a></section><section class="footer__right"><a href="https://webpack.threadless.com/" target="_blank" rel="noopener noreferrer" class="footer__link">Swag Store</a><a class="footer__link" href="/glossary/">Glossary</a><a class="footer__link" href="/branding/">Branding</a><a href="https://gitter.im/webpack/webpack" target="_blank" rel="noopener noreferrer" class="footer__link">Gitter</a><a href="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener noreferrer" class="footer__link">Changelog</a><a class="footer__link footer__license" href="/license"><img alt="Creative Commons License" src="/cc.ab77d813bf219c6e34ff.svg"/><img alt="Creative Commons License" src="/by.1360bb2e6d1fc28cdd9e.svg"/></a></section></div></footer></div></div><script>
window.matchMedia('print').addListener(function(mql) {
  if (!mql.matches) {
      window.close();
  }
});
window.print();
</script></body>